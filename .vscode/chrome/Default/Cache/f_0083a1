var infrastructure,skbn;(function(n){"use strict";for(var t,i,r={},u=function(){},f="memory".split(","),e="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,table,time,timeEnd,timeStamp,trace,warn".split(",");t=f.pop();)n[t]=n[t]||r;while(i=e.pop())n[i]=n[i]||u})(this.console=this.console||{}),function(n,t){function kt(n){var t=n.length,r=i.type(n);return i.isWindow(n)?!1:n.nodeType===1&&t?!0:r==="array"||r!=="function"&&(t===0||typeof t=="number"&&t>0&&t-1 in n)}function ku(n){var t=dt[n]={};return i.each(n.match(h)||[],function(n,i){t[i]=!0}),t}function c(){Object.defineProperty(this.cache={},0,{get:function(){return{}}});this.expando=i.expando+Math.random()}function pi(n,i,r){var u;if(r===t&&n.nodeType===1)if(u="data-"+i.replace(yi,"-$1").toLowerCase(),r=n.getAttribute(u),typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:vi.test(r)?JSON.parse(r):r}catch(e){}f.set(n,i,r)}else r=t;return r}function ht(){return!0}function p(){return!1}function di(){try{return u.activeElement}catch(n){}}function nr(n,t){while((n=n[t])&&n.nodeType!==1);return n}function ni(n,t,r){if(i.isFunction(t))return i.grep(n,function(n,i){return!!t.call(n,i,n)!==r});if(t.nodeType)return i.grep(n,function(n){return n===t!==r});if(typeof t=="string"){if(uf.test(t))return i.filter(t,n,r);t=i.filter(t,n)}return i.grep(n,function(n){return et.call(t,n)>=0!==r})}function fr(n,t){return i.nodeName(n,"table")&&i.nodeName(t.nodeType===1?t:t.firstChild,"tr")?n.getElementsByTagName("tbody")[0]||n.appendChild(n.ownerDocument.createElement("tbody")):n}function af(n){return n.type=(n.getAttribute("type")!==null)+"/"+n.type,n}function vf(n){var t=cf.exec(n.type);return t?n.type=t[1]:n.removeAttribute("type"),n}function ti(n,t){for(var u=n.length,i=0;i<u;i++)r.set(n[i],"globalEval",!t||r.get(t[i],"globalEval"))}function er(n,t){var e,c,o,s,h,l,a,u;if(t.nodeType===1){if(r.hasData(n)&&(s=r.access(n),h=r.set(t,s),u=s.events,u)){delete h.handle;h.events={};for(o in u)for(e=0,c=u[o].length;e<c;e++)i.event.add(t,o,u[o][e])}f.hasData(n)&&(l=f.access(n),a=i.extend({},l),f.set(t,a))}}function o(n,r){var u=n.getElementsByTagName?n.getElementsByTagName(r||"*"):n.querySelectorAll?n.querySelectorAll(r||"*"):[];return r===t||r&&i.nodeName(n,r)?i.merge([n],u):u}function yf(n,t){var i=t.nodeName.toLowerCase();i==="input"&&rr.test(n.type)?t.checked=n.checked:(i==="input"||i==="textarea")&&(t.defaultValue=n.defaultValue)}function lr(n,t){if(t in n)return t;for(var r=t.charAt(0).toUpperCase()+t.slice(1),u=t,i=cr.length;i--;)if(t=cr[i]+r,t in n)return t;return u}function d(n,t){return n=t||n,i.css(n,"display")==="none"||!i.contains(n.ownerDocument,n)}function ct(t){return n.getComputedStyle(t,null)}function ar(n,t){for(var e,u,s,o=[],f=0,h=n.length;f<h;f++)(u=n[f],u.style)&&(o[f]=r.get(u,"olddisplay"),e=u.style.display,t?(o[f]||e!=="none"||(u.style.display=""),u.style.display===""&&d(u)&&(o[f]=r.access(u,"olddisplay",df(u.nodeName)))):o[f]||(s=d(u),(e&&e!=="none"||!s)&&r.set(u,"olddisplay",s?e:i.css(u,"display"))));for(f=0;f<h;f++)(u=n[f],u.style)&&(t&&u.style.display!=="none"&&u.style.display!==""||(u.style.display=t?o[f]||"":"none"));return n}function vr(n,t,i){var r=wf.exec(t);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):t}function yr(n,t,r,u,f){for(var e=r===(u?"border":"content")?4:t==="width"?1:0,o=0;e<4;e+=2)r==="margin"&&(o+=i.css(n,r+v[e],!0,f)),u?(r==="content"&&(o-=i.css(n,"padding"+v[e],!0,f)),r!=="margin"&&(o-=i.css(n,"border"+v[e]+"Width",!0,f))):(o+=i.css(n,"padding"+v[e],!0,f),r!=="padding"&&(o+=i.css(n,"border"+v[e]+"Width",!0,f)));return o}function pr(n,t,r){var e=!0,u=t==="width"?n.offsetWidth:n.offsetHeight,f=ct(n),o=i.support.boxSizing&&i.css(n,"boxSizing",!1,f)==="border-box";if(u<=0||u==null){if(u=w(n,t,f),(u<0||u==null)&&(u=n.style[t]),ii.test(u))return u;e=o&&(i.support.boxSizingReliable||u===n.style[t]);u=parseFloat(u)||0}return u+yr(n,t,r||(o?"border":"content"),e,f)+"px"}function df(n){var r=u,t=sr[n];return t||(t=wr(n,r),t!=="none"&&t||(k=(k||i("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(r.documentElement),r=(k[0].contentWindow||k[0].contentDocument).document,r.write("<!doctype html><html><body>"),r.close(),t=wr(n,r),k.detach()),sr[n]=t),t}function wr(n,t){var r=i(t.createElement(n)).appendTo(t.body),u=i.css(r[0],"display");return r.remove(),u}function ri(n,t,r,u){var f;if(i.isArray(t))i.each(t,function(t,i){r||ne.test(n)?u(n,i):ri(n+"["+(typeof i=="object"?t:"")+"]",i,r,u)});else if(r||i.type(t)!=="object")u(n,t);else for(f in t)ri(n+"["+f+"]",t[f],r,u)}function iu(n){return function(t,r){typeof t!="string"&&(r=t,t="*");var u,f=0,e=t.toLowerCase().match(h)||[];if(i.isFunction(r))while(u=e[f++])u[0]==="+"?(u=u.slice(1)||"*",(n[u]=n[u]||[]).unshift(r)):(n[u]=n[u]||[]).push(r)}}function ru(n,t,r,u){function e(s){var h;return f[s]=!0,i.each(n[s]||[],function(n,i){var s=i(t,r,u);if(typeof s!="string"||o||f[s]){if(o)return!(h=s)}else return t.dataTypes.unshift(s),e(s),!1}),h}var f={},o=n===ei;return e(t.dataTypes[0])||!f["*"]&&e("*")}function oi(n,r){var u,f,e=i.ajaxSettings.flatOptions||{};for(u in r)r[u]!==t&&((e[u]?n:f||(f={}))[u]=r[u]);return f&&i.extend(!0,n,f),n}function oe(n,i,r){for(var o,f,e,s,h=n.contents,u=n.dataTypes;u[0]==="*";)u.shift(),o===t&&(o=n.mimeType||i.getResponseHeader("Content-Type"));if(o)for(f in h)if(h[f]&&h[f].test(o)){u.unshift(f);break}if(u[0]in r)e=u[0];else{for(f in r){if(!u[0]||n.converters[f+" "+u[0]]){e=f;break}s||(s=f)}e=e||s}if(e)return e!==u[0]&&u.unshift(e),r[e]}function se(n,t,i,r){var h,u,f,s,e,o={},c=n.dataTypes.slice();if(c[1])for(f in n.converters)o[f.toLowerCase()]=n.converters[f];for(u=c.shift();u;)if(n.responseFields[u]&&(i[n.responseFields[u]]=t),!e&&r&&n.dataFilter&&(t=n.dataFilter(t,n.dataType)),e=u,u=c.shift(),u)if(u==="*")u=e;else if(e!=="*"&&e!==u){if(f=o[e+" "+u]||o["* "+u],!f)for(h in o)if(s=h.split(" "),s[1]===u&&(f=o[e+" "+s[0]]||o["* "+s[0]],f)){f===!0?f=o[h]:o[h]!==!0&&(u=s[0],c.unshift(s[1]));break}if(f!==!0)if(f&&n.throws)t=f(t);else try{t=f(t)}catch(l){return{state:"parsererror",error:f?l:"No conversion from "+e+" to "+u}}}return{state:"success",data:t}}function fu(){return setTimeout(function(){b=t}),b=i.now()}function eu(n,t,i){for(var u,f=(tt[t]||[]).concat(tt["*"]),r=0,e=f.length;r<e;r++)if(u=f[r].call(i,t,n))return u}function ou(n,t,r){var e,o,s=0,l=vt.length,f=i.Deferred().always(function(){delete c.elem}),c=function(){if(o)return!1;for(var s=b||fu(),t=Math.max(0,u.startTime+u.duration-s),h=t/u.duration||0,i=1-h,r=0,e=u.tweens.length;r<e;r++)u.tweens[r].run(i);return f.notifyWith(n,[u,i,t]),i<1&&e?t:(f.resolveWith(n,[u]),!1)},u=f.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{}},r),originalProperties:t,originalOptions:r,startTime:b||fu(),duration:r.duration,tweens:[],createTween:function(t,r){var f=i.Tween(n,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(f),f},stop:function(t){var i=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;i<r;i++)u.tweens[i].run(1);return t?f.resolveWith(n,[u,t]):f.rejectWith(n,[u,t]),this}}),h=u.props;for(ve(h,u.opts.specialEasing);s<l;s++)if(e=vt[s].call(u,n,h,u.opts),e)return e;return i.map(h,eu,u),i.isFunction(u.opts.start)&&u.opts.start.call(n,u),i.fx.timer(i.extend(c,{elem:n,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function ve(n,t){var r,f,e,u,o;for(r in n)if(f=i.camelCase(r),e=t[f],u=n[r],i.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),o=i.cssHooks[f],o&&"expand"in o){u=o.expand(u);delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function ye(n,u,f){var e,a,p,v,s,w,l=this,y={},h=n.style,c=n.nodeType&&d(n),o=r.get(n,"fxshow");f.queue||(s=i._queueHooks(n,"fx"),s.unqueued==null&&(s.unqueued=0,w=s.empty.fire,s.empty.fire=function(){s.unqueued||w()}),s.unqueued++,l.always(function(){l.always(function(){s.unqueued--;i.queue(n,"fx").length||s.empty.fire()})}));n.nodeType===1&&("height"in u||"width"in u)&&(f.overflow=[h.overflow,h.overflowX,h.overflowY],i.css(n,"display")==="inline"&&i.css(n,"float")==="none"&&(h.display="inline-block"));f.overflow&&(h.overflow="hidden",l.always(function(){h.overflow=f.overflow[0];h.overflowX=f.overflow[1];h.overflowY=f.overflow[2]}));for(e in u)if(a=u[e],le.exec(a)){if(delete u[e],p=p||a==="toggle",a===(c?"hide":"show"))if(a==="show"&&o&&o[e]!==t)c=!0;else continue;y[e]=o&&o[e]||i.style(n,e)}if(!i.isEmptyObject(y)){o?"hidden"in o&&(c=o.hidden):o=r.access(n,"fxshow",{});p&&(o.hidden=!c);c?i(n).show():l.done(function(){i(n).hide()});l.done(function(){var t;r.remove(n,"fxshow");for(t in y)i.style(n,t,y[t])});for(e in y)v=eu(c?o[e]:0,e,l),e in o||(o[e]=v.start,c&&(v.end=v.start,v.start=e==="width"||e==="height"?1:0))}}function e(n,t,i,r,u){return new e.prototype.init(n,t,i,r,u)}function yt(n,t){var r,i={height:n},u=0;for(t=t?1:0;u<4;u+=2-t)r=v[u],i["margin"+r]=i["padding"+r]=n;return t&&(i.opacity=i.width=n),i}function su(n){return i.isWindow(n)?n:n.nodeType===9&&n.defaultView}var hi,it,rt=typeof t,hu=n.location,u=n.document,ci=u.documentElement,cu=n.jQuery,lu=n.$,ut={},ft=[],pt="2.0.3",li=ft.concat,wt=ft.push,a=ft.slice,et=ft.indexOf,au=ut.toString,bt=ut.hasOwnProperty,vu=pt.trim,i=function(n,t){return new i.fn.init(n,t,hi)},ot=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,h=/\S+/g,yu=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ai=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pu=/^-ms-/,wu=/-([\da-z])/gi,bu=function(n,t){return t.toUpperCase()},st=function(){u.removeEventListener("DOMContentLoaded",st,!1);n.removeEventListener("load",st,!1);i.ready()},dt,f,r,vi,yi,si,lt;i.fn=i.prototype={jquery:pt,constructor:i,init:function(n,r,f){var e,o;if(!n)return this;if(typeof n=="string"){if(e=n.charAt(0)==="<"&&n.charAt(n.length-1)===">"&&n.length>=3?[null,n,null]:yu.exec(n),e&&(e[1]||!r)){if(e[1]){if(r=r instanceof i?r[0]:r,i.merge(this,i.parseHTML(e[1],r&&r.nodeType?r.ownerDocument||r:u,!0)),ai.test(e[1])&&i.isPlainObject(r))for(e in r)i.isFunction(this[e])?this[e](r[e]):this.attr(e,r[e]);return this}return o=u.getElementById(e[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=u,this.selector=n,this}return!r||r.jquery?(r||f).find(n):this.constructor(r).find(n)}return n.nodeType?(this.context=this[0]=n,this.length=1,this):i.isFunction(n)?f.ready(n):(n.selector!==t&&(this.selector=n.selector,this.context=n.context),i.makeArray(n,this))},selector:"",length:0,toArray:function(){return a.call(this)},get:function(n){return n==null?this.toArray():n<0?this[this.length+n]:this[n]},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t.context=this.context,t},each:function(n,t){return i.each(this,n,t)},ready:function(n){return i.ready.promise().done(n),this},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var i=this.length,t=+n+(n<0?i:0);return this.pushStack(t>=0&&t<i?[this[t]]:[])},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:wt,sort:[].sort,splice:[].splice};i.fn.init.prototype=i.fn;i.extend=i.fn.extend=function(){var o,e,u,r,s,h,n=arguments[0]||{},f=1,l=arguments.length,c=!1;for(typeof n=="boolean"&&(c=n,n=arguments[1]||{},f=2),typeof n=="object"||i.isFunction(n)||(n={}),l===f&&(n=this,--f);f<l;f++)if((o=arguments[f])!=null)for(e in o)(u=n[e],r=o[e],n!==r)&&(c&&r&&(i.isPlainObject(r)||(s=i.isArray(r)))?(s?(s=!1,h=u&&i.isArray(u)?u:[]):h=u&&i.isPlainObject(u)?u:{},n[e]=i.extend(c,h,r)):r!==t&&(n[e]=r));return n};i.extend({expando:"jQuery"+(pt+Math.random()).replace(/\D/g,""),noConflict:function(t){return n.$===i&&(n.$=lu),t&&n.jQuery===i&&(n.jQuery=cu),i},isReady:!1,readyWait:1,holdReady:function(n){n?i.readyWait++:i.ready(!0)},ready:function(n){(n===!0?--i.readyWait:i.isReady)||(i.isReady=!0,n!==!0&&--i.readyWait>0)||(it.resolveWith(u,[i]),i.fn.trigger&&i(u).trigger("ready").off("ready"))},isFunction:function(n){return i.type(n)==="function"},isArray:Array.isArray,isWindow:function(n){return n!=null&&n===n.window},isNumeric:function(n){return!isNaN(parseFloat(n))&&isFinite(n)},type:function(n){return n==null?String(n):typeof n=="object"||typeof n=="function"?ut[au.call(n)]||"object":typeof n},isPlainObject:function(n){if(i.type(n)!=="object"||n.nodeType||i.isWindow(n))return!1;try{if(n.constructor&&!bt.call(n.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(n){var t;for(t in n)return!1;return!0},error:function(n){throw new Error(n);},parseHTML:function(n,t,r){if(!n||typeof n!="string")return null;typeof t=="boolean"&&(r=t,t=!1);t=t||u;var f=ai.exec(n),e=!r&&[];return f?[t.createElement(f[1])]:(f=i.buildFragment([n],t,e),e&&i(e).remove(),i.merge([],f.childNodes))},parseJSON:JSON.parse,parseXML:function(n){var r,u;if(!n||typeof n!="string")return null;try{u=new DOMParser;r=u.parseFromString(n,"text/xml")}catch(f){r=t}return(!r||r.getElementsByTagName("parsererror").length)&&i.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(n){var t,r=eval;n=i.trim(n);n&&(n.indexOf("use strict")===1?(t=u.createElement("script"),t.text=n,u.head.appendChild(t).parentNode.removeChild(t)):r(n))},camelCase:function(n){return n.replace(pu,"ms-").replace(wu,bu)},nodeName:function(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()},each:function(n,t,i){var u,r=0,f=n.length,e=kt(n);if(i){if(e){for(;r<f;r++)if(u=t.apply(n[r],i),u===!1)break}else for(r in n)if(u=t.apply(n[r],i),u===!1)break}else if(e){for(;r<f;r++)if(u=t.call(n[r],r,n[r]),u===!1)break}else for(r in n)if(u=t.call(n[r],r,n[r]),u===!1)break;return n},trim:function(n){return n==null?"":vu.call(n)},makeArray:function(n,t){var r=t||[];return n!=null&&(kt(Object(n))?i.merge(r,typeof n=="string"?[n]:n):wt.call(r,n)),r},inArray:function(n,t,i){return t==null?-1:et.call(t,n,i)},merge:function(n,i){var f=i.length,u=n.length,r=0;if(typeof f=="number")for(;r<f;r++)n[u++]=i[r];else while(i[r]!==t)n[u++]=i[r++];return n.length=u,n},grep:function(n,t,i){var u,f=[],r=0,e=n.length;for(i=!!i;r<e;r++)u=!!t(n[r],r),i!==u&&f.push(n[r]);return f},map:function(n,t,i){var u,r=0,e=n.length,o=kt(n),f=[];if(o)for(;r<e;r++)u=t(n[r],r,i),u!=null&&(f[f.length]=u);else for(r in n)u=t(n[r],r,i),u!=null&&(f[f.length]=u);return li.apply([],f)},guid:1,proxy:function(n,r){var f,e,u;return(typeof r=="string"&&(f=n[r],r=n,n=f),!i.isFunction(n))?t:(e=a.call(arguments,2),u=function(){return n.apply(r||this,e.concat(a.call(arguments)))},u.guid=n.guid=n.guid||i.guid++,u)},access:function(n,r,u,f,e,o,s){var h=0,l=n.length,c=u==null;if(i.type(u)==="object"){e=!0;for(h in u)i.access(n,r,h,u[h],!0,o,s)}else if(f!==t&&(e=!0,i.isFunction(f)||(s=!0),c&&(s?(r.call(n,f),r=null):(c=r,r=function(n,t,r){return c.call(i(n),r)})),r))for(;h<l;h++)r(n[h],u,s?f:f.call(n[h],h,r(n[h],u)));return e?n:c?r.call(n):l?r(n[0],u):o},now:Date.now,swap:function(n,t,i,r){var f,u,e={};for(u in t)e[u]=n.style[u],n.style[u]=t[u];f=i.apply(n,r||[]);for(u in t)n.style[u]=e[u];return f}});i.ready.promise=function(t){return it||(it=i.Deferred(),u.readyState==="complete"?setTimeout(i.ready):(u.addEventListener("DOMContentLoaded",st,!1),n.addEventListener("load",st,!1))),it.promise(t)};i.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(n,t){ut["[object "+t+"]"]=t.toLowerCase()});hi=i(u),function(n,t){function u(n,t,i,r){var p,u,f,l,w,a,k,c,g,d;if((t?t.ownerDocument||t:y)!==s&&nt(t),t=t||s,i=i||[],!n||typeof n!="string")return i;if((l=t.nodeType)!==1&&l!==9)return[];if(v&&!r){if(p=or.exec(n))if(f=p[1]){if(l===9)if(u=t.getElementById(f),u&&u.parentNode){if(u.id===f)return i.push(u),i}else return i;else if(t.ownerDocument&&(u=t.ownerDocument.getElementById(f))&&ot(t,u)&&u.id===f)return i.push(u),i}else{if(p[2])return b.apply(i,t.getElementsByTagName(n)),i;if((f=p[3])&&e.getElementsByClassName&&t.getElementsByClassName)return b.apply(i,t.getElementsByClassName(f)),i}if(e.qsa&&(!h||!h.test(n))){if(c=k=o,g=t,d=l===9&&n,l===1&&t.nodeName.toLowerCase()!=="object"){for(a=pt(n),(k=t.getAttribute("id"))?c=k.replace(cr,"\\$&"):t.setAttribute("id",c),c="[id='"+c+"'] ",w=a.length;w--;)a[w]=c+wt(a[w]);g=ti.test(n)&&t.parentNode||t;d=a.join(",")}if(d)try{return b.apply(i,g.querySelectorAll(d)),i}catch(tt){}finally{k||t.removeAttribute("id")}}}return pr(n.replace(vt,"$1"),t,i,r)}function ri(){function n(i,u){return t.push(i+=" ")>r.cacheLength&&delete n[t.shift()],n[i]=u}var t=[];return n}function c(n){return n[o]=!0,n}function l(n){var t=s.createElement("div");try{return!!n(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function ui(n,t){for(var u=n.split("|"),i=n.length;i--;)r.attrHandle[u[i]]=t}function bi(n,t){var i=t&&n,r=i&&n.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||vi)-(~n.sourceIndex||vi);if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function lr(n){return function(t){var i=t.nodeName.toLowerCase();return i==="input"&&t.type===n}}function ar(n){return function(t){var i=t.nodeName.toLowerCase();return(i==="input"||i==="button")&&t.type===n}}function rt(n){return c(function(t){return t=+t,c(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function ki(){}function pt(n,t){var e,f,s,o,i,h,c,l=li[n+" "];if(l)return t?0:l.slice(0);for(i=n,h=[],c=r.preFilter;i;){(!e||(f=ir.exec(i)))&&(f&&(i=i.slice(f[0].length)||i),h.push(s=[]));e=!1;(f=rr.exec(i))&&(e=f.shift(),s.push({value:e,type:f[0].replace(vt," ")}),i=i.slice(e.length));for(o in r.filter)(f=yt[o].exec(i))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),i=i.slice(e.length));if(!e)break}return t?i.length:i?u.error(n):li(n,h).slice(0)}function wt(n){for(var t=0,r=n.length,i="";t<r;t++)i+=n[t].value;return i}function fi(n,t,i){var r=t.dir,u=i&&r==="parentNode",f=di++;return t.first?function(t,i,f){while(t=t[r])if(t.nodeType===1||u)return n(t,i,f)}:function(t,i,e){var h,s,c,l=p+" "+f;if(e){while(t=t[r])if((t.nodeType===1||u)&&n(t,i,e))return!0}else while(t=t[r])if(t.nodeType===1||u)if(c=t[o]||(t[o]={}),(s=c[r])&&s[0]===l){if((h=s[1])===!0||h===ht)return h===!0}else if(s=c[r]=[l],s[1]=n(t,i,e)||ht,s[1]===!0)return!0}}function ei(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function bt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=t!=null;f<s;f++)(e=n[f])&&(!i||i(e,r,u))&&(o.push(e),h&&t.push(f));return o}function oi(n,t,i,r,u,f){return r&&!r[o]&&(r=oi(r)),u&&!u[o]&&(u=oi(u,f)),c(function(f,e,o,s){var l,c,a,p=[],y=[],w=e.length,k=f||yr(t||"*",o.nodeType?[o]:o,[]),v=n&&(f||!t)?bt(k,p,n,o,s):k,h=i?u||(f?n:w||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=bt(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?it.call(f,a):p[c])>-1&&(f[l]=!(e[l]=a))}}else h=bt(h===e?h.splice(w,h.length):h),u?u(null,e,h,s):b.apply(e,h)})}function si(n){for(var s,u,i,e=n.length,h=r.relative[n[0].type],c=h||r.relative[" "],t=h?1:0,l=fi(function(n){return n===s},c,!0),a=fi(function(n){return it.call(s,n)>-1},c,!0),f=[function(n,t,i){return!h&&(i||t!==lt)||((s=t).nodeType?l(n,t,i):a(n,t,i))}];t<e;t++)if(u=r.relative[n[t].type])f=[fi(ei(f),u)];else{if(u=r.filter[n[t].type].apply(null,n[t].matches),u[o]){for(i=++t;i<e;i++)if(r.relative[n[i].type])break;return oi(t>1&&ei(f),t>1&&wt(n.slice(0,t-1).concat({value:n[t-2].type===" "?"*":""})).replace(vt,"$1"),u,t<i&&si(n.slice(t,i)),i<e&&si(n=n.slice(i)),i<e&&wt(n))}f.push(u)}return ei(f)}function vr(n,t){var f=0,i=t.length>0,e=n.length>0,o=function(o,h,c,l,a){var y,g,k,w=[],d=0,v="0",nt=o&&[],tt=a!=null,it=lt,ut=o||e&&r.find.TAG("*",a&&h.parentNode||h),rt=p+=it==null?1:Math.random()||.1;for(tt&&(lt=h!==s&&h,ht=f);(y=ut[v])!=null;v++){if(e&&y){for(g=0;k=n[g++];)if(k(y,h,c)){l.push(y);break}tt&&(p=rt,ht=++f)}i&&((y=!k&&y)&&d--,o&&nt.push(y))}if(d+=v,i&&v!==d){for(g=0;k=t[g++];)k(nt,w,h,c);if(o){if(d>0)while(v--)nt[v]||w[v]||(w[v]=nr.call(l));w=bt(w)}b.apply(l,w);tt&&!o&&w.length>0&&d+t.length>1&&u.uniqueSort(l)}return tt&&(p=rt,lt=it),nt};return i?c(o):o}function yr(n,t,i){for(var r=0,f=t.length;r<f;r++)u(n,t[r],i);return i}function pr(n,t,i,u){var s,f,o,c,l,h=pt(n);if(!u&&h.length===1){if(f=h[0]=h[0].slice(0),f.length>2&&(o=f[0]).type==="ID"&&e.getById&&t.nodeType===9&&v&&r.relative[f[1].type]){if(t=(r.find.ID(o.matches[0].replace(k,d),t)||[])[0],!t)return i;n=n.slice(f.shift().value.length)}for(s=yt.needsContext.test(n)?0:f.length;s--;){if(o=f[s],r.relative[c=o.type])break;if((l=r.find[c])&&(u=l(o.matches[0].replace(k,d),ti.test(f[0].type)&&t.parentNode||t))){if(f.splice(s,1),n=u.length&&wt(f),!n)return b.apply(i,u),i;break}}}return kt(n,h)(u,t,!v,i,ti.test(n)),i}var ut,e,ht,r,ct,hi,kt,lt,g,nt,s,a,v,h,tt,at,ot,o="sizzle"+-new Date,y=n.document,p=0,di=0,ci=ri(),li=ri(),ai=ri(),ft=!1,dt=function(n,t){return n===t?(ft=!0,0):0},st=typeof t,vi=-2147483648,gi={}.hasOwnProperty,w=[],nr=w.pop,tr=w.push,b=w.push,yi=w.slice,it=w.indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(this[t]===n)return t;return-1},gt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",f="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",pi=et.replace("w","w#"),wi="\\["+f+"*("+et+")"+f+"*(?:([*^$|!~]?=)"+f+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+pi+")|)|)"+f+"*\\]",ni=":("+et+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+wi.replace(3,8)+")*)|.*)\\)|)",vt=new RegExp("^"+f+"+|((?:^|[^\\\\])(?:\\\\.)*)"+f+"+$","g"),ir=new RegExp("^"+f+"*,"+f+"*"),rr=new RegExp("^"+f+"*([>+~]|"+f+")"+f+"*"),ti=new RegExp(f+"*[+~]"),ur=new RegExp("="+f+"*([^\\]'\"]*)"+f+"*\\]","g"),fr=new RegExp(ni),er=new RegExp("^"+pi+"$"),yt={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et.replace("w","w*")+")"),ATTR:new RegExp("^"+wi),PSEUDO:new RegExp("^"+ni),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+f+"*(even|odd|(([+-]|)(\\d*)n|)"+f+"*(?:([+-]|)"+f+"*(\\d+)|))"+f+"*\\)|)","i"),bool:new RegExp("^(?:"+gt+")$","i"),needsContext:new RegExp("^"+f+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+f+"*((?:-\\d)?\\d*)"+f+"*\\)|)(?=[^-]|$)","i")},ii=/^[^{]+\{\s*\[native \w/,or=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sr=/^(?:input|select|textarea|button)$/i,hr=/^h\d$/i,cr=/'|\\/g,k=new RegExp("\\\\([\\da-f]{1,6}"+f+"?|("+f+")|.)","ig"),d=function(n,t,i){var r="0x"+t-65536;return r!==r||i?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{b.apply(w=yi.call(y.childNodes),y.childNodes);w[y.childNodes.length].nodeType}catch(wr){b={apply:w.length?function(n,t){tr.apply(n,yi.call(t))}:function(n,t){for(var i=n.length,r=0;n[i++]=t[r++];);n.length=i-1}}}hi=u.isXML=function(n){var t=n&&(n.ownerDocument||n).documentElement;return t?t.nodeName!=="HTML":!1};e=u.support={};nt=u.setDocument=function(n){var t=n?n.ownerDocument||n:y,i=t.defaultView;return t===s||t.nodeType!==9||!t.documentElement?s:(s=t,a=t.documentElement,v=!hi(t),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){nt()}),e.attributes=l(function(n){return n.className="i",!n.getAttribute("className")}),e.getElementsByTagName=l(function(n){return n.appendChild(t.createComment("")),!n.getElementsByTagName("*").length}),e.getElementsByClassName=l(function(n){return n.innerHTML="<div class='a'><\/div><div class='a i'><\/div>",n.firstChild.className="i",n.getElementsByClassName("i").length===2}),e.getById=l(function(n){return a.appendChild(n).id=o,!t.getElementsByName||!t.getElementsByName(o).length}),e.getById?(r.find.ID=function(n,t){if(typeof t.getElementById!==st&&v){var i=t.getElementById(n);return i&&i.parentNode?[i]:[]}},r.filter.ID=function(n){var t=n.replace(k,d);return function(n){return n.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(n){var t=n.replace(k,d);return function(n){var i=typeof n.getAttributeNode!==st&&n.getAttributeNode("id");return i&&i.value===t}}),r.find.TAG=e.getElementsByTagName?function(n,t){if(typeof t.getElementsByTagName!==st)return t.getElementsByTagName(n)}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if(n==="*"){while(i=u[f++])i.nodeType===1&&r.push(i);return r}return u},r.find.CLASS=e.getElementsByClassName&&function(n,t){if(typeof t.getElementsByClassName!==st&&v)return t.getElementsByClassName(n)},tt=[],h=[],(e.qsa=ii.test(t.querySelectorAll))&&(l(function(n){n.innerHTML="<select><option selected=''><\/option><\/select>";n.querySelectorAll("[selected]").length||h.push("\\["+f+"*(?:value|"+gt+")");n.querySelectorAll(":checked").length||h.push(":checked")}),l(function(n){var i=t.createElement("input");i.setAttribute("type","hidden");n.appendChild(i).setAttribute("t","");n.querySelectorAll("[t^='']").length&&h.push("[*^$]="+f+"*(?:''|\"\")");n.querySelectorAll(":enabled").length||h.push(":enabled",":disabled");n.querySelectorAll("*,:x");h.push(",.*:")})),(e.matchesSelector=ii.test(at=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&l(function(n){e.disconnectedMatch=at.call(n,"div");at.call(n,"[s!='']:x");tt.push("!=",ni)}),h=h.length&&new RegExp(h.join("|")),tt=tt.length&&new RegExp(tt.join("|")),ot=ii.test(a.contains)||a.compareDocumentPosition?function(n,t){var r=n.nodeType===9?n.documentElement:n,i=t&&t.parentNode;return n===i||!!(i&&i.nodeType===1&&(r.contains?r.contains(i):n.compareDocumentPosition&&n.compareDocumentPosition(i)&16))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},dt=a.compareDocumentPosition?function(n,i){if(n===i)return ft=!0,0;var r=i.compareDocumentPosition&&n.compareDocumentPosition&&n.compareDocumentPosition(i);return r?r&1||!e.sortDetached&&i.compareDocumentPosition(n)===r?n===t||ot(y,n)?-1:i===t||ot(y,i)?1:g?it.call(g,n)-it.call(g,i):0:r&4?-1:1:n.compareDocumentPosition?-1:1}:function(n,i){var r,u=0,o=n.parentNode,s=i.parentNode,f=[n],e=[i];if(n===i)return ft=!0,0;if(o&&s){if(o===s)return bi(n,i)}else return n===t?-1:i===t?1:o?-1:s?1:g?it.call(g,n)-it.call(g,i):0;for(r=n;r=r.parentNode;)f.unshift(r);for(r=i;r=r.parentNode;)e.unshift(r);while(f[u]===e[u])u++;return u?bi(f[u],e[u]):f[u]===y?-1:e[u]===y?1:0},t)};u.matches=function(n,t){return u(n,null,null,t)};u.matchesSelector=function(n,t){if((n.ownerDocument||n)!==s&&nt(n),t=t.replace(ur,"='$1']"),e.matchesSelector&&v&&(!tt||!tt.test(t))&&(!h||!h.test(t)))try{var i=at.call(n,t);if(i||e.disconnectedMatch||n.document&&n.document.nodeType!==11)return i}catch(r){}return u(t,s,null,[n]).length>0};u.contains=function(n,t){return(n.ownerDocument||n)!==s&&nt(n),ot(n,t)};u.attr=function(n,i){(n.ownerDocument||n)!==s&&nt(n);var f=r.attrHandle[i.toLowerCase()],u=f&&gi.call(r.attrHandle,i.toLowerCase())?f(n,i,!v):t;return u===t?e.attributes||!v?n.getAttribute(i):(u=n.getAttributeNode(i))&&u.specified?u.value:null:u};u.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};u.uniqueSort=function(n){var r,u=[],t=0,i=0;if(ft=!e.detectDuplicates,g=!e.sortStable&&n.slice(0),n.sort(dt),ft){while(r=n[i++])r===n[i]&&(t=u.push(i));while(t--)n.splice(u[t],1)}return n};ct=u.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(t===1||t===9||t===11){if(typeof n.textContent=="string")return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=ct(n)}else if(t===3||t===4)return n.nodeValue}else for(;r=n[u];u++)i+=ct(r);return i};r=u.selectors={cacheLength:50,createPseudo:c,match:yt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(k,d),n[3]=(n[4]||n[5]||"").replace(k,d),n[2]==="~="&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),n[1].slice(0,3)==="nth"?(n[3]||u.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*(n[3]==="even"||n[3]==="odd")),n[5]=+(n[7]+n[8]||n[3]==="odd")):n[3]&&u.error(n[0]),n},PSEUDO:function(n){var r,i=!n[5]&&n[2];return yt.CHILD.test(n[0])?null:(n[3]&&n[4]!==t?n[2]=n[4]:i&&fr.test(i)&&(r=pt(i,!0))&&(r=i.indexOf(")",i.length-r)-i.length)&&(n[0]=n[0].slice(0,r),n[2]=i.slice(0,r)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(k,d).toLowerCase();return n==="*"?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(n){var t=ci[n+" "];return t||(t=new RegExp("(^|"+f+")"+n+"("+f+"|$)"))&&ci(n,function(n){return t.test(typeof n.className=="string"&&n.className||typeof n.getAttribute!==st&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(r){var f=u.attr(r,n);return f==null?t==="!=":t?(f+="",t==="="?f===i:t==="!="?f!==i:t==="^="?i&&f.indexOf(i)===0:t==="*="?i&&f.indexOf(i)>-1:t==="$="?i&&f.slice(-i.length)===i:t==="~="?(" "+f+" ").indexOf(i)>-1:t==="|="?f===i||f.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(n,t,i,r,u){var s=n.slice(0,3)!=="nth",e=n.slice(-4)!=="last",f=t==="of-type";return r===1&&u===0?function(n){return!!n.parentNode}:function(t,i,h){var a,k,c,l,v,w,b=s!==e?"nextSibling":"previousSibling",y=t.parentNode,g=f&&t.nodeName.toLowerCase(),d=!h&&!f;if(y){if(s){while(b){for(c=t;c=c[b];)if(f?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;w=b=n==="only"&&!w&&"nextSibling"}return!0}if(w=[e?y.firstChild:y.lastChild],e&&d){for(k=y[o]||(y[o]={}),a=k[n]||[],v=a[0]===p&&a[1],l=a[0]===p&&a[2],c=v&&y.childNodes[v];c=++v&&c&&c[b]||(l=v=0)||w.pop();)if(c.nodeType===1&&++l&&c===t){k[n]=[p,v,l];break}}else if(d&&(a=(t[o]||(t[o]={}))[n])&&a[0]===p)l=a[1];else while(c=++v&&c&&c[b]||(l=v=0)||w.pop())if((f?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++l&&(d&&((c[o]||(c[o]={}))[n]=[p,l]),c===t))break;return l-=u,l===r||l%r==0&&l/r>=0}}},PSEUDO:function(n,t){var f,i=r.pseudos[n]||r.setFilters[n.toLowerCase()]||u.error("unsupported pseudo: "+n);return i[o]?i(t):i.length>1?(f=[n,n,"",t],r.setFilters.hasOwnProperty(n.toLowerCase())?c(function(n,r){for(var u,f=i(n,t),e=f.length;e--;)u=it.call(n,f[e]),n[u]=!(r[u]=f[e])}):function(n){return i(n,0,f)}):i}},pseudos:{not:c(function(n){var i=[],r=[],t=kt(n.replace(vt,"$1"));return t[o]?c(function(n,i,r,u){for(var e,o=t(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(i[f]=e))}):function(n,u,f){return i[0]=n,t(i,null,f,r),!r.pop()}}),has:c(function(n){return function(t){return u(n,t).length>0}}),contains:c(function(n){return function(t){return(t.textContent||t.innerText||ct(t)).indexOf(n)>-1}}),lang:c(function(n){return er.test(n||"")||u.error("unsupported lang: "+n),n=n.replace(k,d).toLowerCase(),function(t){var i;do if(i=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===n||i.indexOf(n+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===a},focus:function(n){return n===s.activeElement&&(!s.hasFocus||s.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:function(n){return n.disabled===!1},disabled:function(n){return n.disabled===!0},checked:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&!!n.checked||t==="option"&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeName>"@"||n.nodeType===3||n.nodeType===4)return!1;return!0},parent:function(n){return!r.pseudos.empty(n)},header:function(n){return hr.test(n.nodeName)},input:function(n){return sr.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&n.type==="button"||t==="button"},text:function(n){var t;return n.nodeName.toLowerCase()==="input"&&n.type==="text"&&((t=n.getAttribute("type"))==null||t.toLowerCase()===n.type)},first:rt(function(){return[0]}),last:rt(function(n,t){return[t-1]}),eq:rt(function(n,t,i){return[i<0?i+t:i]}),even:rt(function(n,t){for(var i=0;i<t;i+=2)n.push(i);return n}),odd:rt(function(n,t){for(var i=1;i<t;i+=2)n.push(i);return n}),lt:rt(function(n,t,i){for(var r=i<0?i+t:i;--r>=0;)n.push(r);return n}),gt:rt(function(n,t,i){for(var r=i<0?i+t:i;++r<t;)n.push(r);return n})}};r.pseudos.nth=r.pseudos.eq;for(ut in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[ut]=lr(ut);for(ut in{submit:!0,reset:!0})r.pseudos[ut]=ar(ut);ki.prototype=r.filters=r.pseudos;r.setFilters=new ki;kt=u.compile=function(n,t){var r,u=[],f=[],i=ai[n+" "];if(!i){for(t||(t=pt(n)),r=t.length;r--;)i=si(t[r]),i[o]?u.push(i):f.push(i);i=ai(n,vr(f,u))}return i};e.sortStable=o.split("").sort(dt).join("")===o;e.detectDuplicates=ft;nt();e.sortDetached=l(function(n){return n.compareDocumentPosition(s.createElement("div"))&1});l(function(n){return n.innerHTML="<a href='#'><\/a>",n.firstChild.getAttribute("href")==="#"})||ui("type|href|height|width",function(n,t,i){if(!i)return n.getAttribute(t,t.toLowerCase()==="type"?1:2)});e.attributes&&l(function(n){return n.innerHTML="<input/>",n.firstChild.setAttribute("value",""),n.firstChild.getAttribute("value")===""})||ui("value",function(n,t,i){if(!i&&n.nodeName.toLowerCase()==="input")return n.defaultValue});l(function(n){return n.getAttribute("disabled")==null})||ui(gt,function(n,t,i){var r;if(!i)return(r=n.getAttributeNode(t))&&r.specified?r.value:n[t]===!0?t.toLowerCase():null});i.find=u;i.expr=u.selectors;i.expr[":"]=i.expr.pseudos;i.unique=u.uniqueSort;i.text=u.getText;i.isXMLDoc=u.isXML;i.contains=u.contains}(n);dt={};i.Callbacks=function(n){n=typeof n=="string"?dt[n]||ku(n):i.extend({},n);var f,c,s,l,e,o,r=[],u=!n.once&&[],a=function(t){for(f=n.memory&&t,c=!0,o=l||0,l=0,e=r.length,s=!0;r&&o<e;o++)if(r[o].apply(t[0],t[1])===!1&&n.stopOnFalse){f=!1;break}s=!1;r&&(u?u.length&&a(u.shift()):f?r=[]:h.disable())},h={add:function(){if(r){var t=r.length;(function u(t){i.each(t,function(t,f){var e=i.type(f);e==="function"?n.unique&&h.has(f)||r.push(f):f&&f.length&&e!=="string"&&u(f)})})(arguments);s?e=r.length:f&&(l=t,a(f))}return this},remove:function(){return r&&i.each(arguments,function(n,t){for(var u;(u=i.inArray(t,r,u))>-1;)r.splice(u,1),s&&(u<=e&&e--,u<=o&&o--)}),this},has:function(n){return n?i.inArray(n,r)>-1:!!(r&&r.length)},empty:function(){return r=[],e=0,this},disable:function(){return r=u=f=t,this},disabled:function(){return!r},lock:function(){return u=t,f||h.disable(),this},locked:function(){return!u},fireWith:function(n,t){return r&&(!c||u)&&(t=t||[],t=[n,t.slice?t.slice():t],s?u.push(t):a(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!c}};return h};i.extend({Deferred:function(n){var u=[["resolve","done",i.Callbacks("once memory"),"resolved"],["reject","fail",i.Callbacks("once memory"),"rejected"],["notify","progress",i.Callbacks("memory")]],f="pending",r={state:function(){return f},always:function(){return t.done(arguments).fail(arguments),this},then:function(){var n=arguments;return i.Deferred(function(f){i.each(u,function(u,e){var s=e[0],o=i.isFunction(n[u])&&n[u];t[e[1]](function(){var n=o&&o.apply(this,arguments);n&&i.isFunction(n.promise)?n.promise().done(f.resolve).fail(f.reject).progress(f.notify):f[s+"With"](this===r?f.promise():this,o?[n]:arguments)})});n=null}).promise()},promise:function(n){return n!=null?i.extend(n,r):r}},t={};return r.pipe=r.then,i.each(u,function(n,i){var e=i[2],o=i[3];r[i[1]]=e.add;o&&e.add(function(){f=o},u[n^1][2].disable,u[2][2].lock);t[i[0]]=function(){return t[i[0]+"With"](this===t?r:this,arguments),this};t[i[0]+"With"]=e.fireWith}),r.promise(t),n&&n.call(t,t),t},when:function(n){var t=0,u=a.call(arguments),r=u.length,e=r!==1||n&&i.isFunction(n.promise)?r:0,f=e===1?n:i.Deferred(),h=function(n,t,i){return function(r){t[n]=this;i[n]=arguments.length>1?a.call(arguments):r;i===o?f.notifyWith(t,i):--e||f.resolveWith(t,i)}},o,c,s;if(r>1)for(o=new Array(r),c=new Array(r),s=new Array(r);t<r;t++)u[t]&&i.isFunction(u[t].promise)?u[t].promise().done(h(t,s,u)).fail(f.reject).progress(h(t,c,o)):--e;return e||f.resolveWith(s,u),f.promise()}});i.support=function(t){var r=u.createElement("input"),e=u.createDocumentFragment(),f=u.createElement("div"),o=u.createElement("select"),s=o.appendChild(u.createElement("option"));return r.type?(r.type="checkbox",t.checkOn=r.value!=="",t.optSelected=s.selected,t.reliableMarginRight=!0,t.boxSizingReliable=!0,t.pixelPosition=!1,r.checked=!0,t.noCloneChecked=r.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!s.disabled,r=u.createElement("input"),r.value="t",r.type="radio",t.radioValue=r.value==="t",r.setAttribute("checked","t"),r.setAttribute("name","t"),e.appendChild(r),t.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,t.focusinBubbles="onfocusin"in n,f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle=f.style.backgroundClip==="content-box",i(function(){var o,r,e=u.getElementsByTagName("body")[0];e&&(o=u.createElement("div"),o.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",e.appendChild(o).appendChild(f),f.innerHTML="",f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",i.swap(e,e.style.zoom!=null?{zoom:1}:{},function(){t.boxSizing=f.offsetWidth===4}),n.getComputedStyle&&(t.pixelPosition=(n.getComputedStyle(f,null)||{}).top!=="1%",t.boxSizingReliable=(n.getComputedStyle(f,null)||{width:"4px"}).width==="4px",r=f.appendChild(u.createElement("div")),r.style.cssText=f.style.cssText="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",r.style.marginRight=r.style.width="0",f.style.width="1px",t.reliableMarginRight=!parseFloat((n.getComputedStyle(r,null)||{}).marginRight)),e.removeChild(o))}),t):t}({});vi=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/;yi=/([A-Z])/g;c.uid=1;c.accepts=function(n){return n.nodeType?n.nodeType===1||n.nodeType===9:!0};c.prototype={key:function(n){if(!c.accepts(n))return 0;var r={},t=n[this.expando];if(!t){t=c.uid++;try{r[this.expando]={value:t};Object.defineProperties(n,r)}catch(u){r[this.expando]=t;i.extend(n,r)}}return this.cache[t]||(this.cache[t]={}),t},set:function(n,t,r){var f,e=this.key(n),u=this.cache[e];if(typeof t=="string")u[t]=r;else if(i.isEmptyObject(u))i.extend(this.cache[e],t);else for(f in t)u[f]=t[f];return u},get:function(n,i){var r=this.cache[this.key(n)];return i===t?r:r[i]},access:function(n,r,u){var f;return r===t||r&&typeof r=="string"&&u===t?(f=this.get(n,r),f!==t?f:this.get(n,i.camelCase(r))):(this.set(n,r,u),u!==t?u:r)},remove:function(n,r){var f,u,e,s=this.key(n),o=this.cache[s];if(r===t)this.cache[s]={};else for(i.isArray(r)?u=r.concat(r.map(i.camelCase)):(e=i.camelCase(r),r in o?u=[r,e]:(u=e,u=u in o?[u]:u.match(h)||[])),f=u.length;f--;)delete o[u[f]]},hasData:function(n){return!i.isEmptyObject(this.cache[n[this.expando]]||{})},discard:function(n){n[this.expando]&&delete this.cache[n[this.expando]]}};f=new c;r=new c;i.extend({acceptData:c.accepts,hasData:function(n){return f.hasData(n)||r.hasData(n)},data:function(n,t,i){return f.access(n,t,i)},removeData:function(n,t){f.remove(n,t)},_data:function(n,t,i){return r.access(n,t,i)},_removeData:function(n,t){r.remove(n,t)}});i.fn.extend({data:function(n,u){var s,o,e=this[0],h=0,c=null;if(n===t){if(this.length&&(c=f.get(e),e.nodeType===1&&!r.get(e,"hasDataAttrs"))){for(s=e.attributes;h<s.length;h++)o=s[h].name,o.indexOf("data-")===0&&(o=i.camelCase(o.slice(5)),pi(e,o,c[o]));r.set(e,"hasDataAttrs",!0)}return c}return typeof n=="object"?this.each(function(){f.set(this,n)}):i.access(this,function(r){var u,o=i.camelCase(n);if(e&&r===t)return(u=f.get(e,n),u!==t)?u:(u=f.get(e,o),u!==t)?u:(u=pi(e,o,t),u!==t)?u:void 0;this.each(function(){var i=f.get(this,o);f.set(this,o,r);n.indexOf("-")!==-1&&i!==t&&f.set(this,n,r)})},null,u,arguments.length>1,null,!0)},removeData:function(n){return this.each(function(){f.remove(this,n)})}});i.extend({queue:function(n,t,u){var f;if(n)return t=(t||"fx")+"queue",f=r.get(n,t),u&&(!f||i.isArray(u)?f=r.access(n,t,i.makeArray(u)):f.push(u)),f||[]},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};u==="inprogress"&&(u=r.shift(),e--);u&&(t==="fx"&&r.unshift("inprogress"),delete f.stop,u.call(n,o,f));!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var u=t+"queueHooks";return r.get(n,u)||r.access(n,u,{empty:i.Callbacks("once memory").add(function(){r.remove(n,[t+"queue",u])})})}});i.fn.extend({queue:function(n,r){var u=2;return(typeof n!="string"&&(r=n,n="fx",u--),arguments.length<u)?i.queue(this[0],n):r===t?this:this.each(function(){var t=i.queue(this,n,r);i._queueHooks(this,n);n==="fx"&&t[0]!=="inprogress"&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},delay:function(n,t){return n=i.fx?i.fx.speeds[n]||n:n,t=t||"fx",this.queue(t,function(t,i){var r=setTimeout(t,n);i.stop=function(){clearTimeout(r)}})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,u){var f,o=1,s=i.Deferred(),e=this,h=this.length,c=function(){--o||s.resolveWith(e,[e])};for(typeof n!="string"&&(u=n,n=t),n=n||"fx";h--;)f=r.get(e[h],n+"queueHooks"),f&&f.empty&&(o++,f.empty.add(c));return c(),s.promise(u)}});var du,wi,gt=/[\t\r\n\f]/g,gu=/\r/g,nf=/^(?:input|select|textarea|button)$/i;i.fn.extend({attr:function(n,t){return i.access(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})},prop:function(n,t){return i.access(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return this.each(function(){delete this[i.propFix[n]||n]})},addClass:function(n){var e,t,r,u,o,f=0,s=this.length,c=typeof n=="string"&&n;if(i.isFunction(n))return this.each(function(t){i(this).addClass(n.call(this,t,this.className))});if(c)for(e=(n||"").match(h)||[];f<s;f++)if(t=this[f],r=t.nodeType===1&&(t.className?(" "+t.className+" ").replace(gt," "):" "),r){for(o=0;u=e[o++];)r.indexOf(" "+u+" ")<0&&(r+=u+" ");t.className=i.trim(r)}return this},removeClass:function(n){var e,r,t,u,o,f=0,s=this.length,c=arguments.length===0||typeof n=="string"&&n;if(i.isFunction(n))return this.each(function(t){i(this).removeClass(n.call(this,t,this.className))});if(c)for(e=(n||"").match(h)||[];f<s;f++)if(r=this[f],t=r.nodeType===1&&(r.className?(" "+r.className+" ").replace(gt," "):""),t){for(o=0;u=e[o++];)while(t.indexOf(" "+u+" ")>=0)t=t.replace(" "+u+" "," ");r.className=n?i.trim(t):""}return this},toggleClass:function(n,t){var u=typeof n;return typeof t=="boolean"&&u==="string"?t?this.addClass(n):this.removeClass(n):i.isFunction(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,this.className,t),t)}):this.each(function(){if(u==="string")for(var t,e=0,f=i(this),o=n.match(h)||[];t=o[e++];)f.hasClass(t)?f.removeClass(t):f.addClass(t);else(u===rt||u==="boolean")&&(this.className&&r.set(this,"__className__",this.className),this.className=this.className||n===!1?"":r.get(this,"__className__")||"")})},hasClass:function(n){for(var i=" "+n+" ",t=0,r=this.length;t<r;t++)if(this[t].nodeType===1&&(" "+this[t].className+" ").replace(gt," ").indexOf(i)>=0)return!0;return!1},val:function(n){var r,u,e,f=this[0];return arguments.length?(e=i.isFunction(n),this.each(function(u){var f;this.nodeType===1&&(f=e?n.call(this,u,i(this).val()):n,f==null?f="":typeof f=="number"?f+="":i.isArray(f)&&(f=i.map(f,function(n){return n==null?"":n+""})),r=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,f,"value")!==t||(this.value=f))})):f?(r=i.valHooks[f.type]||i.valHooks[f.nodeName.toLowerCase()],r&&"get"in r&&(u=r.get(f,"value"))!==t)?u:(u=f.value,typeof u=="string"?u.replace(gu,""):u==null?"":u):void 0}});i.extend({valHooks:{option:{get:function(n){var t=n.attributes.value;return!t||t.specified?n.value:n.text}},select:{get:function(n){for(var e,t,o=n.options,r=n.selectedIndex,u=n.type==="select-one"||r<0,s=u?null:[],h=u?r+1:o.length,f=r<0?h:u?r:0;f<h;f++)if(t=o[f],(t.selected||f===r)&&(i.support.optDisabled?!t.disabled:t.getAttribute("disabled")===null)&&(!t.parentNode.disabled||!i.nodeName(t.parentNode,"optgroup"))){if(e=i(t).val(),u)return e;s.push(e)}return s},set:function(n,t){for(var u,r,f=n.options,e=i.makeArray(t),o=f.length;o--;)r=f[o],(r.selected=i.inArray(i(r).val(),e)>=0)&&(u=!0);return u||(n.selectedIndex=-1),e}}},attr:function(n,r,u){var f,e,o=n.nodeType;if(n&&o!==3&&o!==8&&o!==2){if(typeof n.getAttribute===rt)return i.prop(n,r,u);if(o===1&&i.isXMLDoc(n)||(r=r.toLowerCase(),f=i.attrHooks[r]||(i.expr.match.bool.test(r)?wi:du)),u!==t)if(u===null)i.removeAttr(n,r);else return f&&"set"in f&&(e=f.set(n,u,r))!==t?e:(n.setAttribute(r,u+""),u);else return f&&"get"in f&&(e=f.get(n,r))!==null?e:(e=i.find.attr(n,r),e==null?t:e)}},removeAttr:function(n,t){var r,u,e=0,f=t&&t.match(h);if(f&&n.nodeType===1)while(r=f[e++])u=i.propFix[r]||r,i.expr.match.bool.test(r)&&(n[u]=!1),n.removeAttribute(r)},attrHooks:{type:{set:function(n,t){if(!i.support.radioValue&&t==="radio"&&i.nodeName(n,"input")){var r=n.value;return n.setAttribute("type",t),r&&(n.value=r),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(n,r,u){var e,f,s,o=n.nodeType;if(n&&o!==3&&o!==8&&o!==2)return s=o!==1||!i.isXMLDoc(n),s&&(r=i.propFix[r]||r,f=i.propHooks[r]),u!==t?f&&"set"in f&&(e=f.set(n,u,r))!==t?e:n[r]=u:f&&"get"in f&&(e=f.get(n,r))!==null?e:n[r]},propHooks:{tabIndex:{get:function(n){return n.hasAttribute("tabindex")||nf.test(n.nodeName)||n.href?n.tabIndex:-1}}}});wi={set:function(n,t,r){return t===!1?i.removeAttr(n,r):n.setAttribute(r,r),r}};i.each(i.expr.match.bool.source.match(/\w+/g),function(n,r){var u=i.expr.attrHandle[r]||i.find.attr;i.expr.attrHandle[r]=function(n,r,f){var e=i.expr.attrHandle[r],o=f?t:(i.expr.attrHandle[r]=t)!=u(n,r,f)?r.toLowerCase():null;return i.expr.attrHandle[r]=e,o}});i.support.optSelected||(i.propHooks.selected={get:function(n){var t=n.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}});i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(n,t){if(i.isArray(t))return n.checked=i.inArray(i(n).val(),t)>=0}};i.support.checkOn||(i.valHooks[this].get=function(n){return n.getAttribute("value")===null?"on":n.value})});var tf=/^key/,rf=/^(?:mouse|contextmenu)|click/,bi=/^(?:focusinfocus|focusoutblur)$/,ki=/^([^.]*)(?:\.(.+)|)$/;i.event={global:{},add:function(n,u,f,e,o){var p,l,b,w,k,a,c,v,s,d,g,y=r.get(n);if(y){for(f.handler&&(p=f,f=p.handler,o=p.selector),f.guid||(f.guid=i.guid++),(w=y.events)||(w=y.events={}),(l=y.handle)||(l=y.handle=function(n){return typeof i!==rt&&(!n||i.event.triggered!==n.type)?i.event.dispatch.apply(l.elem,arguments):t},l.elem=n),u=(u||"").match(h)||[""],k=u.length;k--;)(b=ki.exec(u[k])||[],s=g=b[1],d=(b[2]||"").split(".").sort(),s)&&(c=i.event.special[s]||{},s=(o?c.delegateType:c.bindType)||s,c=i.event.special[s]||{},a=i.extend({type:s,origType:g,data:e,handler:f,guid:f.guid,selector:o,needsContext:o&&i.expr.match.needsContext.test(o),namespace:d.join(".")},p),(v=w[s])||(v=w[s]=[],v.delegateCount=0,c.setup&&c.setup.call(n,e,d,l)!==!1||n.addEventListener&&n.addEventListener(s,l,!1)),c.add&&(c.add.call(n,a),a.handler.guid||(a.handler.guid=f.guid)),o?v.splice(v.delegateCount++,0,a):v.push(a),i.event.global[s]=!0);n=null}},remove:function(n,t,u,f,e){var p,k,c,v,w,s,l,a,o,b,d,y=r.hasData(n)&&r.get(n);if(y&&(v=y.events)){for(t=(t||"").match(h)||[""],w=t.length;w--;){if(c=ki.exec(t[w])||[],o=d=c[1],b=(c[2]||"").split(".").sort(),!o){for(o in v)i.event.remove(n,o+t[w],u,f,!0);continue}for(l=i.event.special[o]||{},o=(f?l.delegateType:l.bindType)||o,a=v[o]||[],c=c[2]&&new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=p=a.length;p--;)s=a[p],(e||d===s.origType)&&(!u||u.guid===s.guid)&&(!c||c.test(s.namespace))&&(!f||f===s.selector||f==="**"&&s.selector)&&(a.splice(p,1),s.selector&&a.delegateCount--,l.remove&&l.remove.call(n,s));k&&!a.length&&(l.teardown&&l.teardown.call(n,b,y.handle)!==!1||i.removeEvent(n,o,y.handle),delete v[o])}i.isEmptyObject(v)&&(delete y.handle,r.remove(n,"events"))}},trigger:function(f,e,o,s){var b,h,l,k,v,y,a,w=[o||u],c=bt.call(f,"type")?f.type:f,p=bt.call(f,"namespace")?f.namespace.split("."):[];if((h=l=o=o||u,o.nodeType!==3&&o.nodeType!==8)&&!bi.test(c+i.event.triggered)&&(c.indexOf(".")>=0&&(p=c.split("."),c=p.shift(),p.sort()),v=c.indexOf(":")<0&&"on"+c,f=f[i.expando]?f:new i.Event(c,typeof f=="object"&&f),f.isTrigger=s?2:3,f.namespace=p.join("."),f.namespace_re=f.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f.result=t,f.target||(f.target=o),e=e==null?[f]:i.makeArray(e,[f]),a=i.event.special[c]||{},s||!a.trigger||a.trigger.apply(o,e)!==!1)){if(!s&&!a.noBubble&&!i.isWindow(o)){for(k=a.delegateType||c,bi.test(k+c)||(h=h.parentNode);h;h=h.parentNode)w.push(h),l=h;l===(o.ownerDocument||u)&&w.push(l.defaultView||l.parentWindow||n)}for(b=0;(h=w[b++])&&!f.isPropagationStopped();)f.type=b>1?k:a.bindType||c,y=(r.get(h,"events")||{})[f.type]&&r.get(h,"handle"),y&&y.apply(h,e),y=v&&h[v],y&&i.acceptData(h)&&y.apply&&y.apply(h,e)===!1&&f.preventDefault();return f.type=c,s||f.isDefaultPrevented()||(!a._default||a._default.apply(w.pop(),e)===!1)&&i.acceptData(o)&&v&&i.isFunction(o[c])&&!i.isWindow(o)&&(l=o[v],l&&(o[v]=null),i.event.triggered=c,o[c](),i.event.triggered=t,l&&(o[v]=l)),f.result}},dispatch:function(n){n=i.event.fix(n);var s,h,o,f,u,c=[],l=a.call(arguments),v=(r.get(this,"events")||{})[n.type]||[],e=i.event.special[n.type]||{};if(l[0]=n,n.delegateTarget=this,!e.preDispatch||e.preDispatch.call(this,n)!==!1){for(c=i.event.handlers.call(this,n,v),s=0;(f=c[s++])&&!n.isPropagationStopped();)for(n.currentTarget=f.elem,h=0;(u=f.handlers[h++])&&!n.isImmediatePropagationStopped();)(!n.namespace_re||n.namespace_re.test(u.namespace))&&(n.handleObj=u,n.data=u.data,o=((i.event.special[u.origType]||{}).handle||u.handler).apply(f.elem,l),o!==t&&(n.result=o)===!1&&(n.preventDefault(),n.stopPropagation()));return e.postDispatch&&e.postDispatch.call(this,n),n.result}},handlers:function(n,r){var o,f,e,s,c=[],h=r.delegateCount,u=n.target;if(h&&u.nodeType&&(!n.button||n.type!=="click"))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||n.type!=="click"){for(f=[],o=0;o<h;o++)s=r[o],e=s.selector+" ",f[e]===t&&(f[e]=s.needsContext?i(e,this).index(u)>=0:i.find(e,this,null,[u]).length),f[e]&&f.push(s);f.length&&c.push({elem:u,handlers:f})}return h<r.length&&c.push({elem:this,handlers:r.slice(h)}),c},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(n,t){return n.which==null&&(n.which=t.charCode!=null?t.charCode:t.keyCode),n}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(n,i){var o,r,f,e=i.button;return n.pageX==null&&i.clientX!=null&&(o=n.target.ownerDocument||u,r=o.documentElement,f=o.body,n.pageX=i.clientX+(r&&r.scrollLeft||f&&f.scrollLeft||0)-(r&&r.clientLeft||f&&f.clientLeft||0),n.pageY=i.clientY+(r&&r.scrollTop||f&&f.scrollTop||0)-(r&&r.clientTop||f&&f.clientTop||0)),n.which||e===t||(n.which=e&1?1:e&2?3:e&4?2:0),n}},fix:function(n){if(n[i.expando])return n;var f,e,o,r=n.type,s=n,t=this.fixHooks[r];for(t||(this.fixHooks[r]=t=rf.test(r)?this.mouseHooks:tf.test(r)?this.keyHooks:{}),o=t.props?this.props.concat(t.props):this.props,n=new i.Event(s),f=o.length;f--;)e=o[f],n[e]=s[e];return n.target||(n.target=u),n.target.nodeType===3&&(n.target=n.target.parentNode),t.filter?t.filter(n,s):n},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==di()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===di()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&i.nodeName(this,"input"))return this.click(),!1},_default:function(n){return i.nodeName(n.target,"a")}},beforeunload:{postDispatch:function(n){n.result!==t&&(n.originalEvent.returnValue=n.result)}}},simulate:function(n,t,r,u){var f=i.extend(new i.Event,r,{type:n,isSimulated:!0,originalEvent:{}});u?i.event.trigger(f,null,t):i.event.dispatch.call(t,f);f.isDefaultPrevented()&&r.preventDefault()}};i.removeEvent=function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i,!1)};i.Event=function(n,t){if(!(this instanceof i.Event))return new i.Event(n,t);n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||n.getPreventDefault&&n.getPreventDefault()?ht:p):this.type=n;t&&i.extend(this,t);this.timeStamp=n&&n.timeStamp||i.now();this[i.expando]=!0};i.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=ht;n&&n.preventDefault&&n.preventDefault()},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=ht;n&&n.stopPropagation&&n.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ht;this.stopPropagation()}};i.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,f=this,r=n.relatedTarget,e=n.handleObj;return r&&(r===f||i.contains(f,r))||(n.type=e.origType,u=e.handler.apply(this,arguments),n.type=t),u}}});i.support.focusinBubbles||i.each({focus:"focusin",blur:"focusout"},function(n,t){var r=0,f=function(n){i.event.simulate(t,n.target,i.event.fix(n),!0)};i.event.special[t]={setup:function(){r++==0&&u.addEventListener(n,f,!0)},teardown:function(){--r==0&&u.removeEventListener(n,f,!0)}}});i.fn.extend({on:function(n,r,u,f,e){var o,s;if(typeof n=="object"){typeof r!="string"&&(u=u||r,r=t);for(s in n)this.on(s,r,u,n[s],e);return this}if(u==null&&f==null?(f=r,u=r=t):f==null&&(typeof r=="string"?(f=u,u=t):(f=u,u=r,r=t)),f===!1)f=p;else if(!f)return this;return e===1&&(o=f,f=function(n){return i().off(n),o.apply(this,arguments)},f.guid=o.guid||(o.guid=i.guid++)),this.each(function(){i.event.add(this,n,f,u,r)})},one:function(n,t,i,r){return this.on(n,t,i,r,1)},off:function(n,r,u){var f,e;if(n&&n.preventDefault&&n.handleObj)return f=n.handleObj,i(n.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:f.origType,f.selector,f.handler),this;if(typeof n=="object"){for(e in n)this.off(e,r,n[e]);return this}return(r===!1||typeof r=="function")&&(u=r,r=t),u===!1&&(u=p),this.each(function(){i.event.remove(this,n,u,r)})},trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){var r=this[0];if(r)return i.event.trigger(n,t,r,!0)}});var uf=/^.[^:#\[\.,]*$/,ff=/^(?:parents|prev(?:Until|All))/,gi=i.expr.match.needsContext,ef={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({find:function(n){var t,r=[],u=this,f=u.length;if(typeof n!="string")return this.pushStack(i(n).filter(function(){for(t=0;t<f;t++)if(i.contains(u[t],this))return!0}));for(t=0;t<f;t++)i.find(n,u[t],r);return r=this.pushStack(f>1?i.unique(r):r),r.selector=this.selector?this.selector+" "+n:n,r},has:function(n){var t=i(n,this),r=t.length;return this.filter(function(){for(var n=0;n<r;n++)if(i.contains(this,t[n]))return!0})},not:function(n){return this.pushStack(ni(this,n||[],!0))},filter:function(n){return this.pushStack(ni(this,n||[],!1))},is:function(n){return!!ni(this,typeof n=="string"&&gi.test(n)?i(n):n||[],!1).length},closest:function(n,t){for(var r,f=0,o=this.length,u=[],e=gi.test(n)||typeof n!="string"?i(n,t||this.context):0;f<o;f++)for(r=this[f];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(e?e.index(r)>-1:r.nodeType===1&&i.find.matchesSelector(r,n))){r=u.push(r);break}return this.pushStack(u.length>1?i.unique(u):u)},index:function(n){return n?typeof n=="string"?et.call(i(n),this[0]):et.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){var r=typeof n=="string"?i(n,t):i.makeArray(n&&n.nodeType?[n]:n),u=i.merge(this.get(),r);return this.pushStack(i.unique(u))},addBack:function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))}});i.each({parent:function(n){var t=n.parentNode;return t&&t.nodeType!==11?t:null},parents:function(n){return i.dir(n,"parentNode")},parentsUntil:function(n,t,r){return i.dir(n,"parentNode",r)},next:function(n){return nr(n,"nextSibling")},prev:function(n){return nr(n,"previousSibling")},nextAll:function(n){return i.dir(n,"nextSibling")},prevAll:function(n){return i.dir(n,"previousSibling")},nextUntil:function(n,t,r){return i.dir(n,"nextSibling",r)},prevUntil:function(n,t,r){return i.dir(n,"previousSibling",r)},siblings:function(n){return i.sibling((n.parentNode||{}).firstChild,n)},children:function(n){return i.sibling(n.firstChild)},contents:function(n){return n.contentDocument||i.merge([],n.childNodes)}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return n.slice(-5)!=="Until"&&(u=r),u&&typeof u=="string"&&(f=i.filter(u,f)),this.length>1&&(ef[n]||i.unique(f),ff.test(n)&&f.reverse()),this.pushStack(f)}});i.extend({filter:function(n,t,r){var u=t[0];return r&&(n=":not("+n+")"),t.length===1&&u.nodeType===1?i.find.matchesSelector(u,n)?[u]:[]:i.find.matches(n,i.grep(t,function(n){return n.nodeType===1}))},dir:function(n,r,u){for(var f=[],e=u!==t;(n=n[r])&&n.nodeType!==9;)if(n.nodeType===1){if(e&&i(n).is(u))break;f.push(n)}return f},sibling:function(n,t){for(var i=[];n;n=n.nextSibling)n.nodeType===1&&n!==t&&i.push(n);return i}});var tr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ir=/<([\w:]+)/,of=/<|&#?\w+;/,sf=/<(?:script|style|link)/i,rr=/^(?:checkbox|radio)$/i,hf=/checked\s*(?:[^=]|=\s*.checked.)/i,ur=/^$|\/(?:java|ecma)script/i,cf=/^true\/(.*)/,lf=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,s={option:[1,"<select multiple='multiple'>","<\/select>"],thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};s.optgroup=s.option;s.tbody=s.tfoot=s.colgroup=s.caption=s.thead;s.th=s.td;i.fn.extend({text:function(n){return i.access(this,function(n){return n===t?i.text(this):this.empty().append((this[0]&&this[0].ownerDocument||u).createTextNode(n))},null,n,arguments.length)},append:function(){return this.domManip(arguments,function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=fr(this,n);t.appendChild(n)}})},prepend:function(){return this.domManip(arguments,function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=fr(this,n);t.insertBefore(n,t.firstChild)}})},before:function(){return this.domManip(arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return this.domManip(arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},remove:function(n,t){for(var r,f=n?i.filter(n,this):this,u=0;(r=f[u])!=null;u++)t||r.nodeType!==1||i.cleanData(o(r)),r.parentNode&&(t&&i.contains(r.ownerDocument,r)&&ti(o(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){for(var n,t=0;(n=this[t])!=null;t++)n.nodeType===1&&(i.cleanData(o(n,!1)),n.textContent="");return this},clone:function(n,t){return n=n==null?!1:n,t=t==null?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return i.access(this,function(n){var r=this[0]||{},u=0,f=this.length;if(n===t&&r.nodeType===1)return r.innerHTML;if(typeof n=="string"&&!sf.test(n)&&!s[(ir.exec(n)||["",""])[1].toLowerCase()]){n=n.replace(tr,"<$1><\/$2>");try{for(;u<f;u++)r=this[u]||{},r.nodeType===1&&(i.cleanData(o(r,!1)),r.innerHTML=n);r=0}catch(e){}}r&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(){var t=i.map(this,function(n){return[n.nextSibling,n.parentNode]}),n=0;return this.domManip(arguments,function(r){var u=t[n++],f=t[n++];f&&(u&&u.parentNode!==f&&(u=this.nextSibling),i(this).remove(),f.insertBefore(r,u))},!0),n?this:this.remove()},detach:function(n){return this.remove(n,!0)},domManip:function(n,t,u){n=li.apply([],n);var h,v,s,c,f,y,e=0,l=this.length,w=this,b=l-1,a=n[0],p=i.isFunction(a);if(p||!(l<=1||typeof a!="string"||i.support.checkClone||!hf.test(a)))return this.each(function(i){var r=w.eq(i);p&&(n[0]=a.call(this,i,r.html()));r.domManip(n,t,u)});if(l&&(h=i.buildFragment(n,this[0].ownerDocument,!1,!u&&this),v=h.firstChild,h.childNodes.length===1&&(h=v),v)){for(s=i.map(o(h,"script"),af),c=s.length;e<l;e++)f=h,e!==b&&(f=i.clone(f,!0,!0),c&&i.merge(s,o(f,"script"))),t.call(this[e],f,e);if(c)for(y=s[s.length-1].ownerDocument,i.map(s,vf),e=0;e<c;e++)f=s[e],ur.test(f.type||"")&&!r.access(f,"globalEval")&&i.contains(y,f)&&(f.src?i._evalUrl(f.src):i.globalEval(f.textContent.replace(lf,"")))}return this}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,f=[],e=i(n),o=e.length-1,r=0;r<=o;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),wt.apply(f,u.get());return this.pushStack(f)}});i.extend({clone:function(n,t,r){var u,h,e,f,s=n.cloneNode(!0),c=i.contains(n.ownerDocument,n);if(!i.support.noCloneChecked&&(n.nodeType===1||n.nodeType===11)&&!i.isXMLDoc(n))for(f=o(s),e=o(n),u=0,h=e.length;u<h;u++)yf(e[u],f[u]);if(t)if(r)for(e=e||o(n),f=f||o(s),u=0,h=e.length;u<h;u++)er(e[u],f[u]);else er(n,s);return f=o(s,"script"),f.length>0&&ti(f,!c&&o(n,"script")),s},buildFragment:function(n,t,r,u){for(var f,e,y,l,p,a,h=0,w=n.length,c=t.createDocumentFragment(),v=[];h<w;h++)if(f=n[h],f||f===0)if(i.type(f)==="object")i.merge(v,f.nodeType?[f]:f);else if(of.test(f)){for(e=e||c.appendChild(t.createElement("div")),y=(ir.exec(f)||["",""])[1].toLowerCase(),l=s[y]||s._default,e.innerHTML=l[1]+f.replace(tr,"<$1><\/$2>")+l[2],a=l[0];a--;)e=e.lastChild;i.merge(v,e.childNodes);e=c.firstChild;e.textContent=""}else v.push(t.createTextNode(f));for(c.textContent="",h=0;f=v[h++];)if((!u||i.inArray(f,u)===-1)&&(p=i.contains(f.ownerDocument,f),e=o(c.appendChild(f),"script"),p&&ti(e),r))for(a=0;f=e[a++];)ur.test(f.type||"")&&r.push(f);return c},cleanData:function(n){for(var s,u,h,o,e,l,v=i.event.special,a=0;(u=n[a])!==t;a++){if(c.accepts(u)&&(e=u[r.expando],e&&(s=r.cache[e]))){if(h=Object.keys(s.events||{}),h.length)for(l=0;(o=h[l])!==t;l++)v[o]?i.event.remove(u,o):i.removeEvent(u,o,s.handle);r.cache[e]&&delete r.cache[e]}delete f.cache[u[f.expando]]}},_evalUrl:function(n){return i.ajax({url:n,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})}});i.fn.extend({wrapAll:function(n){var t;return i.isFunction(n)?this.each(function(t){i(this).wrapAll(n.call(this,t))}):(this[0]&&(t=i(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this)},wrapInner:function(n){return i.isFunction(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=i.isFunction(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(){return this.parent().each(function(){i.nodeName(this,"body")||i(this).replaceWith(this.childNodes)}).end()}});var w,k,pf=/^(none|table(?!-c[ea]).+)/,or=/^margin/,wf=new RegExp("^("+ot+")(.*)$","i"),ii=new RegExp("^("+ot+")(?!px)[a-z%]+$","i"),bf=new RegExp("^([+-])=("+ot+")","i"),sr={BODY:"block"},kf={position:"absolute",visibility:"hidden",display:"block"},hr={letterSpacing:0,fontWeight:400},v=["Top","Right","Bottom","Left"],cr=["Webkit","O","Moz","ms"];i.fn.extend({css:function(n,r){return i.access(this,function(n,r,u){var e,o,s={},f=0;if(i.isArray(r)){for(e=ct(n),o=r.length;f<o;f++)s[r[f]]=i.css(n,r[f],!1,e);return s}return u!==t?i.style(n,r,u):i.css(n,r)},n,r,arguments.length>1)},show:function(){return ar(this,!0)},hide:function(){return ar(this)},toggle:function(n){return typeof n=="boolean"?n?this.show():this.hide():this.each(function(){d(this)?i(this).show():i(this).hide()})}});i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=w(n,"opacity");return i===""?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(n,r,u,f){if(n&&n.nodeType!==3&&n.nodeType!==8&&n.style){var o,s,e,h=i.camelCase(r),c=n.style;if(r=i.cssProps[h]||(i.cssProps[h]=lr(c,h)),e=i.cssHooks[r]||i.cssHooks[h],u!==t){if(s=typeof u,s==="string"&&(o=bf.exec(u))&&(u=(o[1]+1)*o[2]+parseFloat(i.css(n,r)),s="number"),u==null||s==="number"&&isNaN(u))return;s!=="number"||i.cssNumber[h]||(u+="px");i.support.clearCloneStyle||u!==""||r.indexOf("background")!==0||(c[r]="inherit");e&&"set"in e&&(u=e.set(n,u,f))===t||(c[r]=u)}else return e&&"get"in e&&(o=e.get(n,!1,f))!==t?o:c[r]}},css:function(n,r,u,f){var e,h,o,s=i.camelCase(r);return(r=i.cssProps[s]||(i.cssProps[s]=lr(n.style,s)),o=i.cssHooks[r]||i.cssHooks[s],o&&"get"in o&&(e=o.get(n,!0,u)),e===t&&(e=w(n,r,f)),e==="normal"&&r in hr&&(e=hr[r]),u===""||u)?(h=parseFloat(e),u===!0||i.isNumeric(h)?h||0:e):e}});w=function(n,r,u){var s,h,c,o=u||ct(n),e=o?o.getPropertyValue(r)||o[r]:t,f=n.style;return o&&(e!==""||i.contains(n.ownerDocument,n)||(e=i.style(n,r)),ii.test(e)&&or.test(r)&&(s=f.width,h=f.minWidth,c=f.maxWidth,f.minWidth=f.maxWidth=f.width=e,e=o.width,f.width=s,f.minWidth=h,f.maxWidth=c)),e};i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return n.offsetWidth===0&&pf.test(i.css(n,"display"))?i.swap(n,kf,function(){return pr(n,t,u)}):pr(n,t,u)},set:function(n,r,u){var f=u&&ct(n);return vr(n,r,u?yr(n,t,u,i.support.boxSizing&&i.css(n,"boxSizing",!1,f)==="border-box",f):0)}}});i(function(){i.support.reliableMarginRight||(i.cssHooks.marginRight={get:function(n,t){if(t)return i.swap(n,{display:"inline-block"},w,[n,"marginRight"])}});!i.support.pixelPosition&&i.fn.position&&i.each(["top","left"],function(n,t){i.cssHooks[t]={get:function(n,r){if(r)return r=w(n,t),ii.test(r)?i(n).position()[t]+"px":r}}})});i.expr&&i.expr.filters&&(i.expr.filters.hidden=function(n){return n.offsetWidth<=0&&n.offsetHeight<=0},i.expr.filters.visible=function(n){return!i.expr.filters.hidden(n)});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u=typeof i=="string"?i.split(" "):[i];r<4;r++)f[n+v[r]+t]=u[r]||u[r-2]||u[0];return f}};or.test(n)||(i.cssHooks[n+t].set=vr)});var gf=/%20/g,ne=/\[\]$/,br=/\r?\n/g,te=/^(?:submit|button|image|reset|file)$/i,ie=/^(?:input|select|textarea|keygen)/i;i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&ie.test(this.nodeName)&&!te.test(n)&&(this.checked||!rr.test(n))}).map(function(n,t){var r=i(this).val();return r==null?null:i.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(br,"\r\n")}}):{name:t.name,value:r.replace(br,"\r\n")}}).get()}});i.param=function(n,r){var u,f=[],e=function(n,t){t=i.isFunction(t)?t():t==null?"":t;f[f.length]=encodeURIComponent(n)+"="+encodeURIComponent(t)};if(r===t&&(r=i.ajaxSettings&&i.ajaxSettings.traditional),i.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){e(this.name,this.value)});else for(u in n)ri(u,n[u],r,e);return f.join("&").replace(gf,"+")};i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}});i.fn.extend({hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)},bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return arguments.length===1?this.off(n,"**"):this.off(t,n||"**",i)}});var y,l,ui=i.now(),fi=/\?/,re=/#.*$/,kr=/([?&])_=[^&]*/,ue=/^(.*?):[ \t]*([^\r\n]*)$/mg,fe=/^(?:GET|HEAD)$/,ee=/^\/\//,dr=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,gr=i.fn.load,nu={},ei={},tu="*/".concat("*");try{l=hu.href}catch(pe){l=u.createElement("a");l.href="";l=l.href}y=dr.exec(l.toLowerCase())||[];i.fn.load=function(n,r,u){if(typeof n!="string"&&gr)return gr.apply(this,arguments);var f,s,h,e=this,o=n.indexOf(" ");return o>=0&&(f=n.slice(o),n=n.slice(0,o)),i.isFunction(r)?(u=r,r=t):r&&typeof r=="object"&&(s="POST"),e.length>0&&i.ajax({url:n,type:s,dataType:"html",data:r}).done(function(n){h=arguments;e.html(f?i("<div>").append(i.parseHTML(n)).find(f):n)}).complete(u&&function(n,t){e.each(u,h||[n.responseText,t,n])}),this};i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}});i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:l,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(y[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":tu,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":i.parseJSON,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?oi(oi(n,i.ajaxSettings),t):oi(i.ajaxSettings,n)},ajaxPrefilter:iu(nu),ajaxTransport:iu(ei),ajax:function(n,r){function k(n,r,h,l){var v,rt,k,y,w,a=r;o!==2&&(o=2,g&&clearTimeout(g),c=t,d=l||"",f.readyState=n>0?4:0,v=n>=200&&n<300||n===304,h&&(y=oe(u,f,h)),y=se(u,y,f,v),v?(u.ifModified&&(w=f.getResponseHeader("Last-Modified"),w&&(i.lastModified[e]=w),w=f.getResponseHeader("etag"),w&&(i.etag[e]=w)),n===204||u.type==="HEAD"?a="nocontent":n===304?a="notmodified":(a=y.state,rt=y.data,k=y.error,v=!k)):(k=a,(n||!a)&&(a="error",n<0&&(n=0))),f.status=n,f.statusText=(r||a)+"",v?tt.resolveWith(s,[rt,a,f]):tt.rejectWith(s,[f,a,k]),f.statusCode(b),b=t,p&&nt.trigger(v?"ajaxSuccess":"ajaxError",[f,u,v?rt:k]),it.fireWith(s,[f,a]),p&&(nt.trigger("ajaxComplete",[f,u]),--i.active||i.event.trigger("ajaxStop")))}typeof n=="object"&&(r=n,n=t);r=r||{};var c,e,d,w,g,a,p,v,u=i.ajaxSetup({},r),s=u.context||u,nt=u.context&&(s.nodeType||s.jquery)?i(s):i.event,tt=i.Deferred(),it=i.Callbacks("once memory"),b=u.statusCode||{},rt={},ut={},o=0,ft="canceled",f={readyState:0,getResponseHeader:function(n){var t;if(o===2){if(!w)for(w={};t=ue.exec(d);)w[t[1].toLowerCase()]=t[2];t=w[n.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return o===2?d:null},setRequestHeader:function(n,t){var i=n.toLowerCase();return o||(n=ut[i]=ut[i]||n,rt[n]=t),this},overrideMimeType:function(n){return o||(u.mimeType=n),this},statusCode:function(n){var t;if(n)if(o<2)for(t in n)b[t]=[b[t],n[t]];else f.always(n[f.status]);return this},abort:function(n){var t=n||ft;return c&&c.abort(t),k(0,t),this}};if(tt.promise(f).complete=it.add,f.success=f.done,f.error=f.fail,u.url=((n||u.url||l)+"").replace(re,"").replace(ee,y[1]+"//"),u.type=r.method||r.type||u.method||u.type,u.dataTypes=i.trim(u.dataType||"*").toLowerCase().match(h)||[""],u.crossDomain==null&&(a=dr.exec(u.url.toLowerCase()),u.crossDomain=!!(a&&(a[1]!==y[1]||a[2]!==y[2]||(a[3]||(a[1]==="http:"?"80":"443"))!==(y[3]||(y[1]==="http:"?"80":"443"))))),u.data&&u.processData&&typeof u.data!="string"&&(u.data=i.param(u.data,u.traditional)),ru(nu,u,r,f),o===2)return f;p=u.global;p&&i.active++==0&&i.event.trigger("ajaxStart");u.type=u.type.toUpperCase();u.hasContent=!fe.test(u.type);e=u.url;u.hasContent||(u.data&&(e=u.url+=(fi.test(e)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=kr.test(e)?e.replace(kr,"$1_="+ui++):e+(fi.test(e)?"&":"?")+"_="+ui++));u.ifModified&&(i.lastModified[e]&&f.setRequestHeader("If-Modified-Since",i.lastModified[e]),i.etag[e]&&f.setRequestHeader("If-None-Match",i.etag[e]));(u.data&&u.hasContent&&u.contentType!==!1||r.contentType)&&f.setRequestHeader("Content-Type",u.contentType);f.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+(u.dataTypes[0]!=="*"?", "+tu+"; q=0.01":""):u.accepts["*"]);for(v in u.headers)f.setRequestHeader(v,u.headers[v]);if(u.beforeSend&&(u.beforeSend.call(s,f,u)===!1||o===2))return f.abort();ft="abort";for(v in{success:1,error:1,complete:1})f[v](u[v]);if(c=ru(ei,u,r,f),c){f.readyState=1;p&&nt.trigger("ajaxSend",[f,u]);u.async&&u.timeout>0&&(g=setTimeout(function(){f.abort("timeout")},u.timeout));try{o=1;c.send(rt,k)}catch(et){if(o<2)k(-1,et);else throw et;}}else k(-1,"No Transport");return f},getJSON:function(n,t,r){return i.get(n,t,r,"json")},getScript:function(n,r){return i.get(n,t,r,"script")}});i.each(["get","post"],function(n,r){i[r]=function(n,u,f,e){return i.isFunction(u)&&(e=e||f,f=u,u=t),i.ajax({url:n,type:r,dataType:e,data:u,success:f})}});i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(n){return i.globalEval(n),n}}});i.ajaxPrefilter("script",function(n){n.cache===t&&(n.cache=!1);n.crossDomain&&(n.type="GET")});i.ajaxTransport("script",function(n){if(n.crossDomain){var r,t;return{send:function(f,e){r=i("<script>").prop({async:!0,charset:n.scriptCharset,src:n.url}).on("load error",t=function(n){r.remove();t=null;n&&e(n.type==="error"?404:200,n.type)});u.head.appendChild(r[0])},abort:function(){t&&t()}}}});si=[];lt=/(=)\?(?=&|$)|\?\?/;i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=si.pop()||i.expando+"_"+ui++;return this[n]=!0,n}});i.ajaxPrefilter("json jsonp",function(r,u,f){var e,s,o,h=r.jsonp!==!1&&(lt.test(r.url)?"url":typeof r.data=="string"&&!(r.contentType||"").indexOf("application/x-www-form-urlencoded")&&lt.test(r.data)&&"data");if(h||r.dataTypes[0]==="jsonp")return e=r.jsonpCallback=i.isFunction(r.jsonpCallback)?r.jsonpCallback():r.jsonpCallback,h?r[h]=r[h].replace(lt,"$1"+e):r.jsonp!==!1&&(r.url+=(fi.test(r.url)?"&":"?")+r.jsonp+"="+e),r.converters["script json"]=function(){return o||i.error(e+" was not called"),o[0]},r.dataTypes[0]="json",s=n[e],n[e]=function(){o=arguments},f.always(function(){n[e]=s;r[e]&&(r.jsonpCallback=u.jsonpCallback,si.push(e));o&&i.isFunction(s)&&s(o[0]);o=s=t}),"script"});i.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(n){}};var g=i.ajaxSettings.xhr(),he={0:200,1223:204},ce=0,nt={};if(n.ActiveXObject)i(n).on("unload",function(){for(var n in nt)nt[n]();nt=t});i.support.cors=!!g&&"withCredentials"in g;i.support.ajax=g=!!g;i.ajaxTransport(function(n){var r;if(i.support.cors||g&&!n.crossDomain)return{send:function(i,u){var e,o,f=n.xhr();if(f.open(n.type,n.url,n.async,n.username,n.password),n.xhrFields)for(e in n.xhrFields)f[e]=n.xhrFields[e];n.mimeType&&f.overrideMimeType&&f.overrideMimeType(n.mimeType);n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(e in i)f.setRequestHeader(e,i[e]);r=function(n){return function(){r&&(delete nt[o],r=f.onload=f.onerror=null,n==="abort"?f.abort():n==="error"?u(f.status||404,f.statusText):u(he[f.status]||f.status,f.statusText,typeof f.responseText=="string"?{text:f.responseText}:t,f.getAllResponseHeaders()))}};f.onload=r();f.onerror=r("error");r=nt[o=ce++]=r("abort");f.send(n.hasContent&&n.data||null)},abort:function(){r&&r()}}});var b,at,le=/^(?:toggle|show|hide)$/,uu=new RegExp("^(?:([+-])=|)("+ot+")([a-z%]*)$","i"),ae=/queueHooks$/,vt=[ye],tt={"*":[function(n,t){var f=this.createTween(n,t),s=f.cur(),u=uu.exec(t),e=u&&u[3]||(i.cssNumber[n]?"":"px"),r=(i.cssNumber[n]||e!=="px"&&+s)&&uu.exec(i.css(f.elem,n)),o=1,h=20;if(r&&r[3]!==e){e=e||r[3];u=u||[];r=+s||1;do o=o||".5",r=r/o,i.style(f.elem,n,r+e);while(o!==(o=f.cur()/s)&&o!==1&&--h)}return u&&(r=f.start=+r||+s||0,f.unit=e,f.end=u[1]?r+(u[1]+1)*u[2]:+u[2]),f}]};i.Animation=i.extend(ou,{tweener:function(n,t){i.isFunction(n)?(t=n,n=["*"]):n=n.split(" ");for(var r,u=0,f=n.length;u<f;u++)r=n[u],tt[r]=tt[r]||[],tt[r].unshift(t)},prefilter:function(n,t){t?vt.unshift(n):vt.push(n)}});i.Tween=e;e.prototype={constructor:e,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||"swing";this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=e.propHooks[this.prop];return n&&n.get?n.get(this):e.propHooks._default.get(this)},run:function(n){var t,r=e.propHooks[this.prop];return this.pos=this.options.duration?t=i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):t=n,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):e.propHooks._default.set(this),this}};e.prototype.init.prototype=e.prototype;e.propHooks={_default:{get:function(n){var t;return n.elem[n.prop]!=null&&(!n.elem.style||n.elem.style[n.prop]==null)?n.elem[n.prop]:(t=i.css(n.elem,n.prop,""),!t||t==="auto"?0:t)},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):n.elem.style&&(n.elem.style[i.cssProps[n.prop]]!=null||i.cssHooks[n.prop])?i.style(n.elem,n.prop,n.now+n.unit):n.elem[n.prop]=n.now}}};e.propHooks.scrollTop=e.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return n==null||typeof n=="boolean"?r.apply(this,arguments):this.animate(yt(t,!0),n,i,u)}});i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(d).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,u,f){var s=i.isEmptyObject(n),o=i.speed(t,u,f),e=function(){var t=ou(this,i.extend({},n),o);(s||r.get(this,"finish"))&&t.stop(!0)};return e.finish=e,s||o.queue===!1?this.each(e):this.queue(o.queue,e)},stop:function(n,u,f){var e=function(n){var t=n.stop;delete n.stop;t(f)};return typeof n!="string"&&(f=u,u=n,n=t),u&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){var s=!0,t=n!=null&&n+"queueHooks",o=i.timers,u=r.get(this);if(t)u[t]&&u[t].stop&&e(u[t]);else for(t in u)u[t]&&u[t].stop&&ae.test(t)&&e(u[t]);for(t=o.length;t--;)o[t].elem===this&&(n==null||o[t].queue===n)&&(o[t].anim.stop(f),s=!1,o.splice(t,1));(s||!f)&&i.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var t,e=r.get(this),u=e[n+"queue"],o=e[n+"queueHooks"],f=i.timers,s=u?u.length:0;for(e.finish=!0,i.queue(this,n,[]),o&&o.stop&&o.stop.call(this,!0),t=f.length;t--;)f[t].elem===this&&f[t].queue===n&&(f[t].anim.stop(!0),f.splice(t,1));for(t=0;t<s;t++)u[t]&&u[t].finish&&u[t].finish.call(this);delete e.finish})}});i.each({slideDown:yt("show"),slideUp:yt("hide"),slideToggle:yt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.speed=function(n,t,r){var u=n&&typeof n=="object"?i.extend({},n):{complete:r||!r&&t||i.isFunction(n)&&n,duration:n,easing:r&&t||t&&!i.isFunction(t)&&t};return u.duration=i.fx.off?0:typeof u.duration=="number"?u.duration:u.duration in i.fx.speeds?i.fx.speeds[u.duration]:i.fx.speeds._default,(u.queue==null||u.queue===!0)&&(u.queue="fx"),u.old=u.complete,u.complete=function(){i.isFunction(u.old)&&u.old.call(this);u.queue&&i.dequeue(this,u.queue)},u};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2}};i.timers=[];i.fx=e.prototype.init;i.fx.tick=function(){var u,n=i.timers,r=0;for(b=i.now();r<n.length;r++)u=n[r],u()||n[r]!==u||n.splice(r--,1);n.length||i.fx.stop();b=t};i.fx.timer=function(n){n()&&i.timers.push(n)&&i.fx.start()};i.fx.interval=13;i.fx.start=function(){at||(at=setInterval(i.fx.tick,i.fx.interval))};i.fx.stop=function(){clearInterval(at);at=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fx.step={};i.expr&&i.expr.filters&&(i.expr.filters.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length});i.fn.offset=function(n){if(arguments.length)return n===t?this:this.each(function(t){i.offset.setOffset(this,n,t)});var u,e,r=this[0],f={top:0,left:0},o=r&&r.ownerDocument;if(o)return(u=o.documentElement,!i.contains(u,r))?f:(typeof r.getBoundingClientRect!==rt&&(f=r.getBoundingClientRect()),e=su(o),{top:f.top+e.pageYOffset-u.clientTop,left:f.left+e.pageXOffset-u.clientLeft})};i.offset={setOffset:function(n,t,r){var e,o,s,h,u,c,v,l=i.css(n,"position"),a=i(n),f={};l==="static"&&(n.style.position="relative");u=a.offset();s=i.css(n,"top");c=i.css(n,"left");v=(l==="absolute"||l==="fixed")&&(s+c).indexOf("auto")>-1;v?(e=a.position(),h=e.top,o=e.left):(h=parseFloat(s)||0,o=parseFloat(c)||0);i.isFunction(t)&&(t=t.call(n,r,u));t.top!=null&&(f.top=t.top-u.top+h);t.left!=null&&(f.left=t.left-u.left+o);"using"in t?t.using.call(n,f):a.css(f)}};i.fn.extend({position:function(){if(this[0]){var n,r,u=this[0],t={top:0,left:0};return i.css(u,"position")==="fixed"?r=u.getBoundingClientRect():(n=this.offsetParent(),r=this.offset(),i.nodeName(n[0],"html")||(t=n.offset()),t.top+=i.css(n[0],"borderTopWidth",!0),t.left+=i.css(n[0],"borderLeftWidth",!0)),{top:r.top-t.top-i.css(u,"marginTop",!0),left:r.left-t.left-i.css(u,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent||ci;n&&!i.nodeName(n,"html")&&i.css(n,"position")==="static";)n=n.offsetParent;return n||ci})}});i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(r,u){var f="pageYOffset"===u;i.fn[r]=function(e){return i.access(this,function(i,r,e){var o=su(i);if(e===t)return o?o[u]:i[r];o?o.scrollTo(f?n.pageXOffset:e,f?e:n.pageYOffset):i[r]=e},r,e,arguments.length,null)}});i.each({Height:"height",Width:"width"},function(n,r){i.each({padding:"inner"+n,content:r,"":"outer"+n},function(u,f){i.fn[f]=function(f,e){var o=arguments.length&&(u||typeof f!="boolean"),s=u||(f===!0||e===!0?"margin":"border");return i.access(this,function(r,u,f){var e;return i.isWindow(r)?r.document.documentElement["client"+n]:r.nodeType===9?(e=r.documentElement,Math.max(r.body["scroll"+n],e["scroll"+n],r.body["offset"+n],e["offset"+n],e["client"+n])):f===t?i.css(r,u,s):i.style(r,u,f,s)},r,o?f:t,o,null)}})});i.fn.size=function(){return this.length};i.fn.andSelf=i.fn.addBack;typeof module=="object"&&module&&typeof module.exports=="object"?module.exports=i:typeof define=="function"&&define.amd&&define("jquery",[],function(){return i});typeof n=="object"&&typeof n.document=="object"&&(n.jQuery=n.$=i)}(window),function(n){n.extend(n.fn,{validate:function(t){if(!this.length){t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.");return}var i=n.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){i.settings.submitHandler&&(i.submitButton=t.target);n(t.target).hasClass("cancel")&&(i.cancelSubmit=!0);n(t.target).attr("formnovalidate")!==undefined&&(i.cancelSubmit=!0)}),this.submit(function(t){function r(){var r;return i.settings.submitHandler?(i.submitButton&&(r=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(n(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&r.remove(),!1):!0}return(i.settings.debug&&t.preventDefault(),i.cancelSubmit)?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)},valid:function(){if(n(this[0]).is("form"))return this.validate().form();var t=!0,i=n(this[0].form).validate();return this.each(function(){t=t&&i.element(this)}),t},removeAttrs:function(t){var i={},r=this;return n.each(t.split(/\s/),function(n,t){i[t]=r.attr(t);r.removeAttr(t)}),i},rules:function(t,i){var r=this[0],o,u,h;if(t){var e=n.data(r.form,"validator").settings,s=e.rules,f=n.validator.staticRules(r);switch(t){case"add":n.extend(f,n.validator.normalizeRule(i));delete f.messages;s[r.name]=f;i.messages&&(e.messages[r.name]=n.extend(e.messages[r.name],i.messages));break;case"remove":return i?(o={},n.each(i.split(/\s/),function(n,t){o[t]=f[t];delete f[t]}),o):(delete s[r.name],f)}}return u=n.validator.normalizeRules(n.extend({},n.validator.classRules(r),n.validator.attributeRules(r),n.validator.dataRules(r),n.validator.staticRules(r)),r),u.required&&(h=u.required,delete u.required,u=n.extend({required:h},u)),u}});n.extend(n.expr[":"],{blank:function(t){return!n.trim(""+n(t).val())},filled:function(t){return!!n.trim(""+n(t).val())},unchecked:function(t){return!n(t).prop("checked")}});n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t);this.currentForm=i;this.init()};n.validator.format=function(t,i){return arguments.length===1?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(new RegExp("\\{"+n+"\\}","g"),function(){return i})}),t)};n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(n){this.lastActive=n;this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(n)).hide())},onfocusout:function(n){!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyup:function(n,t){(t.which!==9||this.elementValue(n)!=="")&&(n.name in this.submitted||n===this.lastElement)&&this.element(n)},onclick:function(n){n.name in this.submitted?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).addClass(i).removeClass(r).attr("aria-invalid","true"):n(t).addClass(i).removeClass(r).attr("aria-invalid","true")},unhighlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).removeClass(i).addClass(r).attr("aria-invalid","false"):n(t).removeClass(i).addClass(r).attr("aria-invalid","false")}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:n.validator.format("Please enter no more than {0} characters."),minlength:n.validator.format("Please enter at least {0} characters."),rangelength:n.validator.format("Please enter a value between {0} and {1} characters long."),range:n.validator.format("Please enter a value between {0} and {1}."),max:n.validator.format("Please enter a value less than or equal to {0}."),min:n.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function r(t){var i=n.data(this[0].form,"validator"),r="on"+t.type.replace(/^validate/,"");i.settings[r]&&i.settings[r].call(i,this[0],t)}var i,t;this.labelContainer=n(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm);this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();i=this.groups={};n.each(this.settings.groups,function(t,r){typeof r=="string"&&(r=r.split(/\s/));n.each(r,function(n,r){i[r]=t})});t=this.settings.rules;n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)});n(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",r).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",r);this.settings.invalidHandler&&n(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var n=0,t=this.currentElements=this.elements();t[n];n++)this.check(t[n]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t));this.lastElement=t;this.prepareElement(t);this.currentElements=n(t);var i=this.check(t)!==!1;return i?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){n.extend(this.errorMap,t);this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue").attr("aria-invalid","false")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var t=0,i;for(i in n)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&n.grep(this.errorList,function(n){return n.element.name===t.name}).length===1&&t},elements:function(){var t=this,i={};return n(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return(!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!t.objectLength(n(this).rules()))?!1:(i[this.name]=!0,!0)})},clean:function(t){return n(t)[0]},errors:function(){var t=this.settings.errorClass.replace(" ",".");return n(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=n([]);this.toHide=n([]);this.currentElements=n([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(n){this.reset();this.toHide=this.errorsFor(n)},elementValue:function(t){var r=n(t).attr("type"),i=n(t).val();return r==="radio"||r==="checkbox"?n("input[name='"+n(t).attr("name")+"']:checked").val():typeof i=="string"?i.replace(/\r/g,""):i},check:function(t){var r,u;t=this.validationTargetFor(this.clean(t));var f=n(t).rules(),e=!1,s=this.elementValue(t),i;for(r in f){u={method:r,parameters:f[r]};try{if(i=n.validator.methods[r].call(this,s,t,u.parameters),i==="dependency-mismatch"){e=!0;continue}if(e=!1,i==="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!i)return this.formatAndAdd(t,u),!1}catch(o){this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+u.method+"' method.",o);throw o;}}if(!e)return this.objectLength(f)&&this.successList.push(t),!0},customDataMessage:function(t,i){return n(t).data("msg-"+i.toLowerCase())||t.attributes&&n(t).attr("data-msg-"+i.toLowerCase())},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var n=0;n<arguments.length;n++)if(arguments[n]!==undefined)return arguments[n];return undefined},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customDataMessage(t,i),!this.settings.ignoreTitle&&t.title||undefined,n.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"<\/strong>")},formatAndAdd:function(t,i){var r=this.defaultMessage(t,i.method),u=/\$?\{(\d+)\}/g;typeof r=="function"?r=r.call(this,i.parameters,t):u.test(r)&&(r=n.validator.format(r.replace(u,"{$1}"),i.parameters));this.errorList.push({message:r,element:t});this.errorMap[t.name]=r;this.submitted[t.name]=r},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var i,t,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var r=this.errorsFor(t);r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(i)):(r=n("<"+this.settings.errorElement+">").attr("for",this.idOrName(t)).addClass(this.settings.errorClass).attr("aria-invalid","true").html(i||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,n(t)):r.insertAfter(t)));!i&&this.settings.success&&(r.text(""),typeof this.settings.success=="string"?r.addClass(this.settings.success):this.settings.success(r,t));this.toShow=this.toShow.add(r)},errorsFor:function(t){var i=this.idOrName(t);return this.errors().filter(function(){return n(this).attr("for")===i})},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},validationTargetFor:function(n){return this.checkable(n)&&(n=this.findByName(n.name).not(this.settings.ignore)[0]),n},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){return n(this.currentForm).find("[name='"+t+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return this.dependTypes[typeof n]?this.dependTypes[typeof n](n,t):!0},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){var i=this.elementValue(t);return!n.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(n){this.pending[n.name]||(this.pendingRequest++,this.pending[n.name]=!0)},stopRequest:function(t,i){this.pendingRequest--;this.pendingRequest<0&&(this.pendingRequest=0);delete this.pending[t.name];i&&this.pendingRequest===0&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.formSubmitted=!1):!i&&this.pendingRequest===0&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var i={},r=n(t).attr("class");return r&&n.each(r.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(i,n.validator.classRuleSettings[this])}),i},attributeRules:function(t){var u={},e=n(t),f=e[0].getAttribute("type"),r,i;for(r in n.validator.methods)r==="required"?(i=e.get(0).getAttribute(r),i===""&&(i=!0),i=!!i):i=e.attr(r),/min|max/.test(r)&&(f===null||/number|range|text/.test(f))&&(i=Number(i)),i?u[r]=i:f===r&&f!=="range"&&(u[r]=!0);return u.maxlength&&/-1|2147483647|524288/.test(u.maxlength)&&delete u.maxlength,u},dataRules:function(t){var i,r,u={},f=n(t);for(i in n.validator.methods)r=f.data("rule-"+i.toLowerCase()),r!==undefined&&(u[i]=r);return u},staticRules:function(t){var i={},r=n.data(t.form,"validator");return r.settings.rules&&(i=n.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1){delete t[r];return}if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=u.param!==undefined?u.param:!0:delete t[r]}}),n.each(t,function(r,u){t[r]=n.isFunction(u)?u(i):u}),n.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){var i;t[this]&&(n.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:typeof t[this]=="string"&&(i=t[this].split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),n.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if(typeof t=="string"){var i={};n.each(t.split(/\s/),function(){i[this]=!0});t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i;n.validator.messages[t]=r!==undefined?r:n.validator.messages[t];i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";if(i.nodeName.toLowerCase()==="select"){var u=n(i).val();return u&&u.length>0}return this.checkable(i)?this.getLength(t,i)>0:n.trim(t).length>0},email:function(n,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(n)},url:function(n,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n)},date:function(n,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(n).toString())},dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(n)},number:function(n,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},creditcard:function(n,t){var r,e;if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(n))return!1;var f=0,i=0,u=!1;for(n=n.replace(/\D/g,""),r=n.length-1;r>=0;r--)e=n.charAt(r),i=parseInt(e,10),u&&(i*=2)>9&&(i-=9),f+=i,u=!u;return f%10==0},minlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||u>=r},maxlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||u<=r},rangelength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||u>=r[0]&&u<=r[1]},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||n<=i},range:function(n,t,i){return this.optional(t)||n>=i[0]&&n<=i[1]},equalTo:function(t,i,r){var u=n(r);return this.settings.onfocusout&&u.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){n(i).valid()}),t===u.val()},remote:function(t,i,r){var f,u,e;return this.optional(i)?"dependency-mismatch":(f=this.previousValue(i),this.settings.messages[i.name]||(this.settings.messages[i.name]={}),f.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=f.message,r=typeof r=="string"&&{url:r}||r,f.old===t)?f.valid:(f.old=t,u=this,this.startRequest(i),e={},e[i.name]=t,n.ajax(n.extend(!0,{url:r,mode:"abort",port:"validate"+i.name,dataType:"json",data:e,success:function(r){var e,h,s,o;u.settings.messages[i.name].remote=f.originalMessage;e=r===!0||r==="true";e?(h=u.formSubmitted,u.prepareElement(i),u.formSubmitted=h,u.successList.push(i),delete u.invalid[i.name],u.showErrors()):(s={},o=r||u.defaultMessage(i,"remote"),s[i.name]=f.message=n.isFunction(o)?o(t):o,u.invalid[i.name]=!0,u.showErrors(s));f.valid=e;u.stopRequest(i,e)}},r)),"pending")}}});n.format=n.validator.format}(jQuery),function(n){var t={},i;n.ajaxPrefilter?n.ajaxPrefilter(function(n,i,r){var u=n.port;n.mode==="abort"&&(t[u]&&t[u].abort(),t[u]=r)}):(i=n.ajax,n.ajax=function(r){var f=("mode"in r?r:n.ajaxSettings).mode,u=("port"in r?r:n.ajaxSettings).port;return f==="abort"?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments),t[u]):i.apply(this,arguments)})}(jQuery),function(n){n.extend(n.fn,{validateDelegate:function(t,i,r){return this.bind(i,function(i){var u=n(i.target);if(u.is(t))return r.apply(u,arguments)})}})}(jQuery),function(n){function i(n,t,i){n.rules[t]=i;n.message&&(n.messages[t]=n.message)}function h(n){return n.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}function f(n){return n.replace(/([!"#$%&'()*+,./:;<=>?@\[\\\]^`{|}~])/g,"\\$1")}function e(n){return n.substr(0,n.lastIndexOf(".")+1)}function o(n,t){return n.indexOf("*.")===0&&(n=n.replace("*.",t)),n}function c(t,i){var r=n(this).find("[data-valmsg-for='"+f(i[0].name)+"']"),u=r.attr("data-valmsg-replace"),e=u?n.parseJSON(u)!==!1:null;r.removeClass("field-validation-valid").addClass("field-validation-error");r.attr("role","alert");t.data("unobtrusiveContainer",r);e?(r.empty(),t.removeClass("input-validation-error").appendTo(r)):t.hide()}function l(t,i){var u=n(this).find("[data-valmsg-summary=true]"),r=u.find("ul");r&&r.length&&i.errorList.length&&(r.empty(),u.addClass("validation-summary-errors").removeClass("validation-summary-valid"),u.attr("role","alert"),n.each(i.errorList,function(){n("<li />").html(this.message).appendTo(r)}))}function a(t){var i=t.data("unobtrusiveContainer"),r=i.attr("data-valmsg-replace"),u=r?n.parseJSON(r):null;i&&(i.addClass("field-validation-valid").removeClass("field-validation-error"),t.removeData("unobtrusiveContainer"),i.removeAttr("role","alert"),u&&i.empty())}function v(){var t=n(this);t.data("validator").resetForm();t.find(".validation-summary-errors").addClass("validation-summary-valid").removeClass("validation-summary-errors").removeAttr("role","alert");t.find(".field-validation-error").addClass("field-validation-valid").removeClass("field-validation-error").removeData("unobtrusiveContainer").removeAttr("role","alert").find(">*").removeData("unobtrusiveContainer")}function s(t){var i=n(t),r=i.data(u),f=n.proxy(v,t);return r||(r={options:{errorClass:"input-validation-error",errorElement:"span",errorPlacement:n.proxy(c,t),invalidHandler:n.proxy(l,t),messages:{},rules:{},success:n.proxy(a,t)},attachValidation:function(){i.unbind("reset."+u,f).bind("reset."+u,f).validate(this.options)},validate:function(){return i.validate(),i.valid()}},i.data(u,r)),r}var r=n.validator,t,u="unobtrusiveValidation";r.unobtrusive={adapters:[],parseElement:function(t,i){var u=n(t),f=u.parents("form")[0],r,e,o;f&&(r=s(f),r.options.rules[t.name]=e={},r.options.messages[t.name]=o={},n.each(this.adapters,function(){var i="data-val-"+this.name,r=u.attr(i),s={};r!==undefined&&(i+="-",n.each(this.params,function(){s[this]=u.attr(i+this)}),this.adapt({element:t,form:f,message:r,params:s,rules:e,messages:o}))}),n.extend(e,{__dummy__:!0}),i||r.attachValidation())},parse:function(t){var i=n(t).parents("form").andSelf().add(n(t).find("form")).filter("form");n(t).find(":input").filter("[data-val=true]").each(function(){r.unobtrusive.parseElement(this,!0)});i.each(function(){var n=s(this);n&&n.attachValidation()})}};t=r.unobtrusive.adapters;t.add=function(n,t,i){return i||(i=t,t=[]),this.push({name:n,params:t,adapt:i}),this};t.addBool=function(n,t){return this.add(n,function(r){i(r,t||n,!0)})};t.addMinMax=function(n,t,r,u,f,e){return this.add(n,[f||"min",e||"max"],function(n){var f=n.params.min,e=n.params.max;f&&e?i(n,u,[f,e]):f?i(n,t,f):e&&i(n,r,e)})};t.addSingleVal=function(n,t,r){return this.add(n,[t||"val"],function(u){i(u,r||n,u.params[t])})};r.addMethod("__dummy__",function(){return!0});r.addMethod("regex",function(n,t,i){var r;return this.optional(t)?!0:(r=new RegExp(i).exec(n),r&&r.index===0&&r[0].length===n.length)});r.addMethod("nonalphamin",function(n,t,i){var r;return i&&(r=n.match(/\W/g),r=r&&r.length>=i),r});r.methods.extension?(t.addSingleVal("accept","mimtype"),t.addSingleVal("extension","extension")):t.addSingleVal("extension","extension","accept");t.addSingleVal("regex","pattern");t.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url");t.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range");t.add("equalto",["other"],function(t){var r=e(t.element.name),u=t.params.other,s=o(u,r),h=n(t.form).find(":input").filter("[name='"+f(s)+"']")[0];i(t,"equalTo",h)});t.add("required",function(n){(n.element.tagName.toUpperCase()!=="INPUT"||n.element.type.toUpperCase()!=="CHECKBOX")&&i(n,"required",!0)});t.add("remote",["url","type","additionalfields"],function(t){var r={url:t.params.url,type:t.params.type||"GET",data:{}},u=e(t.element.name);n.each(h(t.params.additionalfields||t.element.name),function(i,e){var s=o(e,u);r.data[s]=function(){return n(t.form).find(":input").filter("[name='"+f(s)+"']").val()}});i(t,"remote",r)});t.add("password",["min","nonalphamin","regex"],function(n){n.params.min&&i(n,"minlength",n.params.min);n.params.nonalphamin&&i(n,"nonalphamin",n.params.nonalphamin);n.params.regex&&i(n,"regex",n.params.regex)});n(function(){r.unobtrusive.parse(document)})}(jQuery),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){function u(t,i){var r,u,e,o=t.nodeName.toLowerCase();return"area"===o?(r=t.parentNode,u=r.name,!t.href||!u||r.nodeName.toLowerCase()!=="map")?!1:(e=n("img[usemap=#"+u+"]")[0],!!e&&f(e)):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&f(t)}function f(t){return n.expr.filters.visible(t)&&!n(t).parents().addBack().filter(function(){return n.css(this,"visibility")==="hidden"}).length}function v(n){for(var t,i;n.length&&n[0]!==document;){if(t=n.css("position"),(t==="absolute"||t==="relative"||t==="fixed")&&(i=parseInt(n.css("zIndex"),10),!isNaN(i)&&i!==0))return i;n=n.parent()}return 0}function o(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._datepickerShowing=!1;this._inDialog=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};n.extend(this._defaults,this.regional[""]);this.regional.en=n.extend(!0,{},this.regional[""]);this.regional["en-US"]=n.extend(!0,{},this.regional.en);this.dpDiv=s(n("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>"))}function s(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){n(this).removeClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!==-1&&n(this).removeClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!==-1&&n(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){n.datepicker._isDisabledDatepicker(r.inline?t.parent()[0]:r.input[0])||(n(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),n(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&n(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&n(this).addClass("ui-datepicker-next-hover"))})}function t(t,i){n.extend(t,i);for(var r in i)i[r]==null&&(t[r]=i[r]);return t}var e,i,h,c,l,a,r,y,p;n.ui=n.ui||{};n.extend(n.ui,{version:"1.11.0",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});n.fn.extend({scrollParent:function(){var t=this.css("position"),r=t==="absolute",i=this.parents().filter(function(){var t=n(this);return r&&t.css("position")==="static"?!1:/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return t==="fixed"||!i.length?n(this[0].ownerDocument||document):i},uniqueId:function(){var n=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&n(this).removeAttr("id")})}});n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])},focusable:function(t){return u(t,!isNaN(n.attr(t,"tabindex")))},tabbable:function(t){var i=n.attr(t,"tabindex"),r=isNaN(i);return(r||i>=0)&&u(t,!r)}});n("<a>").outerWidth(1).jquery||n.each(["Width","Height"],function(t,i){function f(t,i,r,u){return n.each(e,function(){i-=parseFloat(n.css(t,"padding"+this))||0;r&&(i-=parseFloat(n.css(t,"border"+this+"Width"))||0);u&&(i-=parseFloat(n.css(t,"margin"+this))||0)}),i}var e=i==="Width"?["Left","Right"]:["Top","Bottom"],r=i.toLowerCase(),u={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+i]=function(t){return t===undefined?u["inner"+i].call(this):this.each(function(){n(this).css(r,f(this,t)+"px")})};n.fn["outer"+i]=function(t,e){return typeof t!="number"?u["outer"+i].call(this,t):this.each(function(){n(this).css(r,f(this,t,!0,e)+"px")})}});n.fn.addBack||(n.fn.addBack=function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))});n("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(n.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,n.camelCase(i)):t.call(this)}}(n.fn.removeData));n.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());n.fn.extend({focus:function(t){return function(i,r){return typeof i=="number"?this.each(function(){var t=this;setTimeout(function(){n(t).focus();r&&r.call(t)},i)}):t.apply(this,arguments)}}(n.fn.focus),disableSelection:function(){var n="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(n+".ui-disableSelection",function(n){n.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(t!==undefined)return this.css("zIndex",t);if(this.length)for(var i=n(this[0]),r,u;i.length&&i[0]!==document;){if(r=i.css("position"),(r==="absolute"||r==="relative"||r==="fixed")&&(u=parseInt(i.css("zIndex"),10),!isNaN(u)&&u!==0))return u;i=i.parent()}return 0}});n.ui.plugin={add:function(t,i,r){var u,f=n.ui[t].prototype;for(u in r)f.plugins[u]=f.plugins[u]||[],f.plugins[u].push([i,r[u]])},call:function(n,t,i,r){var u,f=n.plugins[t];if(f&&(r||n.element[0].parentNode&&n.element[0].parentNode.nodeType!==11))for(u=0;u<f.length;u++)n.options[f[u][0]]&&f[u][1].apply(n.element,i)}};e=0;i=Array.prototype.slice;n.cleanData=function(t){return function(i){for(var r=0,u;(u=i[r])!=null;r++)try{n(u).triggerHandler("remove")}catch(f){}t(i)}}(n.cleanData);n.widget=function(t,i,r){var s,f,u,o,h={},e=t.split(".")[0];return t=t.split(".")[1],s=e+"-"+t,r||(r=i,i=n.Widget),n.expr[":"][s.toLowerCase()]=function(t){return!!n.data(t,s)},n[e]=n[e]||{},f=n[e][t],u=n[e][t]=function(n,t){if(!this._createWidget)return new u(n,t);arguments.length&&this._createWidget(n,t)},n.extend(u,f,{version:r.version,_proto:n.extend({},r),_childConstructors:[]}),o=new i,o.options=n.widget.extend({},o.options),n.each(r,function(t,r){if(!n.isFunction(r)){h[t]=r;return}h[t]=function(){var n=function(){return i.prototype[t].apply(this,arguments)},u=function(n){return i.prototype[t].apply(this,n)};return function(){var i=this._super,f=this._superApply,t;return this._super=n,this._superApply=u,t=r.apply(this,arguments),this._super=i,this._superApply=f,t}}()}),u.prototype=n.widget.extend(o,{widgetEventPrefix:f?o.widgetEventPrefix||t:t},h,{constructor:u,namespace:e,widgetName:t,widgetFullName:s}),f?(n.each(f._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,u,i._proto)}),delete f._childConstructors):i._childConstructors.push(u),n.widget.bridge(t,u),u};n.widget.extend=function(t){for(var e=i.call(arguments,1),f=0,o=e.length,r,u;f<o;f++)for(r in e[f])u=e[f][r],e[f].hasOwnProperty(r)&&u!==undefined&&(t[r]=n.isPlainObject(u)?n.isPlainObject(t[r])?n.widget.extend({},t[r],u):n.widget.extend({},u):u);return t};n.widget.bridge=function(t,r){var u=r.prototype.widgetFullName||t;n.fn[t]=function(f){var s=typeof f=="string",o=i.call(arguments,1),e=this;return f=!s&&o.length?n.widget.extend.apply(null,[f].concat(o)):f,s?this.each(function(){var i,r=n.data(this,u);return f==="instance"?(e=r,!1):r?!n.isFunction(r[f])||f.charAt(0)==="_"?n.error("no such method '"+f+"' for "+t+" widget instance"):(i=r[f].apply(r,o),i!==r&&i!==undefined?(e=i&&i.jquery?e.pushStack(i.get()):i,!1):void 0):n.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+f+"'")}):this.each(function(){var t=n.data(this,u);t?(t.option(f||{}),t._init&&t._init()):n.data(this,u,new r(f,this))}),e}};n.Widget=function(){};n.Widget._childConstructors=[];n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=n(i||this.defaultElement||this)[0];this.element=n(i);this.uuid=e++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=n.widget.extend({},this.options,this._getCreateOptions(),t);this.bindings=n();this.hoverable=n();this.focusable=n();i!==this&&(n.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=n(i.style?i.ownerDocument:i.document||i),this.window=n(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(t,i){var e=t,r,u,f;if(arguments.length===0)return n.widget.extend({},this.options);if(typeof t=="string")if(e={},r=t.split("."),t=r.shift(),r.length){for(u=e[t]=n.widget.extend({},this.options[t]),f=0;f<r.length-1;f++)u[r[f]]=u[r[f]]||{},u=u[r[f]];if(t=r.pop(),arguments.length===1)return u[t]===undefined?null:u[t];u[t]=i}else{if(arguments.length===1)return this.options[t]===undefined?null:this.options[t];e[t]=i}return this._setOptions(e),this},_setOptions:function(n){var t;for(t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return this.options[n]=t,n==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,r){var f,u=this;typeof t!="boolean"&&(r=i,i=t,t=!1);r?(i=f=n(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,f=this.widget());n.each(r,function(r,e){function o(){if(t||u.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled"))return(typeof e=="string"?u[e]:e).apply(u,arguments)}typeof e!="string"&&(o.guid=e.guid=e.guid||o.guid||n.guid++);var s=r.match(/^([\w:-]*)\s*(.*)$/),h=s[1]+u.eventNamespace,c=s[2];c?f.delegate(c,h,o):i.bind(h,o)})},_off:function(n,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;n.unbind(t).undelegate(t)},_delay:function(n,t){function r(){return(typeof n=="string"?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){n(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){n(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){n(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){n(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent,f)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}};n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){typeof u=="string"&&(u={effect:u});var o,e=u?u===!0||typeof u=="number"?i:u.effect||i:t;u=u||{};typeof u=="number"&&(u={duration:u});o=!n.isEmptyObject(u);u.complete=f;u.delay&&r.delay(u.delay);o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t]();f&&f.call(r[0]);i()})}});h=n.widget,function(){function a(n,t,i){return[parseFloat(n[0])*(l.test(n[0])?t/100:1),parseFloat(n[1])*(l.test(n[1])?i/100:1)]}function r(t,i){return parseInt(n.css(t,i),10)||0}function y(t){var i=t[0];return i.nodeType===9?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:n.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}n.ui=n.ui||{};var u,f,i=Math.max,t=Math.abs,e=Math.round,o=/left|center|right/,s=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,l=/%$/,v=n.fn.position;n.position={scrollbarWidth:function(){if(u!==undefined)return u;var r,i,t=n("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'><\/div><\/div>"),f=t.children()[0];return n("body").append(t),r=f.offsetWidth,t.css("overflow","scroll"),i=f.offsetWidth,r===i&&(i=t[0].clientWidth),t.remove(),u=r-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),u=i==="scroll"||i==="auto"&&t.width<t.element[0].scrollWidth,f=r==="scroll"||r==="auto"&&t.height<t.element[0].scrollHeight;return{width:f?n.position.scrollbarWidth():0,height:u?n.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=n(t||window),r=n.isWindow(i[0]),u=!!i[0]&&i[0].nodeType===9;return{element:i,isWindow:r,isDocument:u,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:r?i.width():i.outerWidth(),height:r?i.height():i.outerHeight()}}};n.fn.position=function(u){if(!u||!u.of)return v.apply(this,arguments);u=n.extend({},u);var k,l,p,b,w,g,nt=n(u.of),it=n.position.getWithinInfo(u.within),rt=n.position.getScrollInfo(it),d=(u.collision||"flip").split(" "),tt={};return g=y(nt),nt[0].preventDefault&&(u.at="left top"),l=g.width,p=g.height,b=g.offset,w=n.extend({},b),n.each(["my","at"],function(){var n=(u[this]||"").split(" "),t,i;n.length===1&&(n=o.test(n[0])?n.concat(["center"]):s.test(n[0])?["center"].concat(n):["center","center"]);n[0]=o.test(n[0])?n[0]:"center";n[1]=s.test(n[1])?n[1]:"center";t=h.exec(n[0]);i=h.exec(n[1]);tt[this]=[t?t[0]:0,i?i[0]:0];u[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),d.length===1&&(d[1]=d[0]),u.at[0]==="right"?w.left+=l:u.at[0]==="center"&&(w.left+=l/2),u.at[1]==="bottom"?w.top+=p:u.at[1]==="center"&&(w.top+=p/2),k=a(tt.at,l,p),w.left+=k[0],w.top+=k[1],this.each(function(){var y,g,s=n(this),h=s.outerWidth(),c=s.outerHeight(),ut=r(this,"marginLeft"),ft=r(this,"marginTop"),et=h+ut+r(this,"marginRight")+rt.width,ot=c+ft+r(this,"marginBottom")+rt.height,o=n.extend({},w),v=a(tt.my,s.outerWidth(),s.outerHeight());u.my[0]==="right"?o.left-=h:u.my[0]==="center"&&(o.left-=h/2);u.my[1]==="bottom"?o.top-=c:u.my[1]==="center"&&(o.top-=c/2);o.left+=v[0];o.top+=v[1];f||(o.left=e(o.left),o.top=e(o.top));y={marginLeft:ut,marginTop:ft};n.each(["left","top"],function(t,i){n.ui.position[d[t]]&&n.ui.position[d[t]][i](o,{targetWidth:l,targetHeight:p,elemWidth:h,elemHeight:c,collisionPosition:y,collisionWidth:et,collisionHeight:ot,offset:[k[0]+v[0],k[1]+v[1]],my:u.my,at:u.at,within:it,elem:s})});u.using&&(g=function(n){var r=b.left-o.left,a=r+l-h,f=b.top-o.top,v=f+p-c,e={target:{element:nt,left:b.left,top:b.top,width:l,height:p},element:{element:s,left:o.left,top:o.top,width:h,height:c},horizontal:a<0?"left":r>0?"right":"center",vertical:v<0?"top":f>0?"bottom":"middle"};l<h&&t(r+a)<l&&(e.horizontal="center");p<c&&t(f+v)<p&&(e.vertical="middle");e.important=i(t(r),t(a))>i(t(f),t(v))?"horizontal":"vertical";u.using.call(this,n,e)});s.offset(n.extend(o,{using:g}))})};n.ui.position={fit:{left:function(n,t){var e=t.within,u=e.isWindow?e.scrollLeft:e.offset.left,o=e.width,s=n.left-t.collisionPosition.marginLeft,r=u-s,f=s+t.collisionWidth-o-u,h;t.collisionWidth>o?r>0&&f<=0?(h=n.left+r+t.collisionWidth-o-u,n.left+=r-h):n.left=f>0&&r<=0?u:r>f?u+o-t.collisionWidth:u:r>0?n.left+=r:f>0?n.left-=f:n.left=i(n.left-s,n.left)},top:function(n,t){var o=t.within,u=o.isWindow?o.scrollTop:o.offset.top,e=t.within.height,s=n.top-t.collisionPosition.marginTop,r=u-s,f=s+t.collisionHeight-e-u,h;t.collisionHeight>e?r>0&&f<=0?(h=n.top+r+t.collisionHeight-e-u,n.top+=r-h):n.top=f>0&&r<=0?u:r>f?u+e-t.collisionHeight:u:r>0?n.top+=r:f>0?n.top-=f:n.top=i(n.top-s,n.top)}},flip:{left:function(n,i){var r=i.within,y=r.offset.left+r.scrollLeft,c=r.width,o=r.isWindow?r.scrollLeft:r.offset.left,l=n.left-i.collisionPosition.marginLeft,a=l-o,v=l+i.collisionWidth-c-o,u=i.my[0]==="left"?-i.elemWidth:i.my[0]==="right"?i.elemWidth:0,f=i.at[0]==="left"?i.targetWidth:i.at[0]==="right"?-i.targetWidth:0,e=-2*i.offset[0],s,h;a<0?(s=n.left+u+f+e+i.collisionWidth-c-y,(s<0||s<t(a))&&(n.left+=u+f+e)):v>0&&(h=n.left-i.collisionPosition.marginLeft+u+f+e-o,(h>0||t(h)<v)&&(n.left+=u+f+e))},top:function(n,i){var r=i.within,y=r.offset.top+r.scrollTop,a=r.height,o=r.isWindow?r.scrollTop:r.offset.top,v=n.top-i.collisionPosition.marginTop,s=v-o,h=v+i.collisionHeight-a-o,p=i.my[1]==="top",u=p?-i.elemHeight:i.my[1]==="bottom"?i.elemHeight:0,f=i.at[1]==="top"?i.targetHeight:i.at[1]==="bottom"?-i.targetHeight:0,e=-2*i.offset[1],c,l;s<0?(l=n.top+u+f+e+i.collisionHeight-a-y,n.top+u+f+e>s&&(l<0||l<t(s))&&(n.top+=u+f+e)):h>0&&(c=n.top-i.collisionPosition.marginTop+u+f+e-o,n.top+u+f+e>h&&(c>0||t(c)<h)&&(n.top+=u+f+e))}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments);n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments);n.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,r,u,e,o=document.getElementsByTagName("body")[0],s=document.createElement("div");t=document.createElement(o?"div":"body");r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};o&&n.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(e in r)t.style[e]=r[e];t.appendChild(s);i=o||document.documentElement;i.insertBefore(t,i.firstChild);s.style.cssText="position: absolute; left: 10.7432222px;";u=n(s).offset().left;f=u>10&&u<11;t.innerHTML="";i.removeChild(t)}()}();c=n.ui.position;l=n.widget("ui.menu",{version:"1.11.0",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0});this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item":function(n){n.preventDefault()},"click .ui-menu-item":function(t){var i=n(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&n(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=n(t.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active");this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(n,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(n,i)},blur:function(t){this._delay(function(){n.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(n){this._closeOnDocumentClick(n)&&this.collapseAll(n);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=n(this);t.data("ui-menu-submenu-carat")&&t.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function s(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,f,r,e,u,o=!0;switch(t.keyCode){case n.ui.keyCode.PAGE_UP:this.previousPage(t);break;case n.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case n.ui.keyCode.HOME:this._move("first","first",t);break;case n.ui.keyCode.END:this._move("last","last",t);break;case n.ui.keyCode.UP:this.previous(t);break;case n.ui.keyCode.DOWN:this.next(t);break;case n.ui.keyCode.LEFT:this.collapse(t);break;case n.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case n.ui.keyCode.ENTER:case n.ui.keyCode.SPACE:this._activate(t);break;case n.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1;f=this.previousFilter||"";r=String.fromCharCode(t.keyCode);e=!1;clearTimeout(this.filterTimer);r===f?e=!0:r=f+r;u=new RegExp("^"+s(r),"i");i=this.activeMenu.find(this.options.items).filter(function(){return u.test(n(this).text())});i=e&&i.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):i;i.length||(r=String.fromCharCode(t.keyCode),u=new RegExp("^"+s(r),"i"),i=this.activeMenu.find(this.options.items).filter(function(){return u.test(n(this).text())}));i.length?(this.focus(t,i),i.length>1?(this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}o&&t.preventDefault()},_activate:function(n){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(n):this.select(n))},refresh:function(){var i,t,u=this,f=this.options.icons.submenu,r=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);r.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=n(this),i=t.parent(),r=n("<span>").addClass("ui-menu-icon ui-icon "+f).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(r);t.attr("aria-labelledby",i.attr("id"))});i=r.add(this.element);t=i.find(this.options.items);t.not(".ui-menu-item").each(function(){var t=n(this);u._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")});t.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()});t.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!n.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(n,t){n==="icons"&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu);n==="disabled"&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t);this._super(n,t)},focus:function(n,t){var i,r;this.blur(n,n&&n.type==="focus");this._scrollIntoView(t);this.active=t.first();r=this.active.addClass("ui-state-focus").removeClass("ui-state-active");this.options.role&&this.element.attr("aria-activedescendant",r.attr("id"));this.active.parent().closest(".ui-menu-item").addClass("ui-state-active");n&&n.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay);i=t.children(".ui-menu");i.length&&n&&/^mouse/.test(n.type)&&this._startOpening(i);this.activeMenu=t.parent();this._trigger("focus",n,{item:t})},_scrollIntoView:function(t){var e,o,i,r,u,f;this._hasScroll()&&(e=parseFloat(n.css(this.activeMenu[0],"borderTopWidth"))||0,o=parseFloat(n.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-e-o,r=this.activeMenu.scrollTop(),u=this.activeMenu.height(),f=t.outerHeight(),i<0?this.activeMenu.scrollTop(r+i):i+f>u&&this.activeMenu.scrollTop(r+i-u+f))},blur:function(n,t){(t||clearTimeout(this.timer),this.active)&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",n,{item:this.active}))},_startOpening:function(n){(clearTimeout(this.timer),n.attr("aria-hidden")==="true")&&(this.timer=this._delay(function(){this._close();this._open(n)},this.delay))},_open:function(t){var i=n.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true");t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer);this.timer=this._delay(function(){var r=i?this.element:n(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element);this._close(r);this.blur(t);this.activeMenu=r},this.delay)},_close:function(n){n||(n=this.active?this.active.parent():this.element);n.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!n(t.target).closest(".ui-menu").length},_isDivider:function(n){return!/[^\-\u2014\u2013\s]/.test(n.text())},collapse:function(n){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(n,t))},expand:function(n){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(n,t)}))},next:function(n){this._move("next","first",n)},previous:function(n){this._move("prev","last",n)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(n,t,i){var r;this.active&&(r=n==="first"||n==="last"?this.active[n==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[n+"All"](".ui-menu-item").eq(0));r&&r.length&&this.active||(r=this.activeMenu.find(this.options.items)[t]());this.focus(i,r)},nextPage:function(t){var i,r,u;if(!this.active){this.next(t);return}this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=n(this),i.offset().top-r-u<0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))},previousPage:function(t){var i,r,u;if(!this.active){this.next(t);return}this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=n(this),i.offset().top-r+u>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||n(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0);this._trigger("select",t,i)}});n.widget("ui.autocomplete",{version:"1.11.0",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,r,u=this.element[0].nodeName.toLowerCase(),f=u==="textarea",e=u==="input";this.isMultiLine=f?!0:e?!1:this.element.prop("isContentEditable");this.valueMethod=this.element[f||e?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(u){if(this.element.prop("readOnly")){t=!0;r=!0;i=!0;return}t=!1;r=!1;i=!1;var f=n.ui.keyCode;switch(u.keyCode){case f.PAGE_UP:t=!0;this._move("previousPage",u);break;case f.PAGE_DOWN:t=!0;this._move("nextPage",u);break;case f.UP:t=!0;this._keyEvent("previous",u);break;case f.DOWN:t=!0;this._keyEvent("next",u);break;case f.ENTER:this.menu.active&&(t=!0,u.preventDefault(),this.menu.select(u));break;case f.TAB:this.menu.active&&this.menu.select(u);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(u),u.preventDefault());break;default:i=!0;this._searchTimeout(u)}},keypress:function(r){if(t){t=!1;(!this.isMultiLine||this.menu.element.is(":visible"))&&r.preventDefault();return}if(!i){var u=n.ui.keyCode;switch(r.keyCode){case u.PAGE_UP:this._move("previousPage",r);break;case u.PAGE_DOWN:this._move("nextPage",r);break;case u.UP:this._keyEvent("previous",r);break;case u.DOWN:this._keyEvent("next",r)}}},input:function(n){if(r){r=!1;n.preventDefault();return}this._searchTimeout(n)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(n){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching);this.close(n);this._change(n)}});this._initSource();this.menu=n("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._on(this.menu.element,{mousedown:function(t){t.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];n(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(r){r.target===t.element[0]||r.target===i||n.contains(i,r.target)||t.close()})})},menufocus:function(t,i){var r,u;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){n(t.target).trigger(t.originalEvent)});return}u=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:u})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(u.value);r=i.item.attr("aria-label")||u.value;r&&jQuery.trim(r).length&&(this.liveRegion.children().hide(),n("<div>").text(r).appendTo(this.liveRegion))},menuselect:function(n,t){var i=t.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=r,this._delay(function(){this.previous=r;this.selectedItem=i}));!1!==this._trigger("select",n,{item:i})&&this._value(i.value);this.term=this._value();this.close(n);this.selectedItem=i}});this.liveRegion=n("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(n,t){this._super(n,t);n==="source"&&this._initSource();n==="appendTo"&&this.menu.element.appendTo(this._appendTo());n==="disabled"&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?n(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var i,r,t=this;n.isArray(this.options.source)?(i=this.options.source,this.source=function(t,r){r(n.ui.autocomplete.filter(i,t.term))}):typeof this.options.source=="string"?(r=this.options.source,this.source=function(i,u){t.xhr&&t.xhr.abort();t.xhr=n.ajax({url:r,data:i,dataType:"json",success:function(n){u(n)},error:function(){u([])}})}):this.source=this.options.source},_searchTimeout:function(n){clearTimeout(this.searching);this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),r=n.altKey||n.ctrlKey||n.metaKey||n.shiftKey;t&&(!t||i||r)||(this.selectedItem=null,this.search(null,n))},this.options.delay)},search:function(n,t){return(n=n!=null?n:this._value(),this.term=this._value(),n.length<this.options.minLength)?this.close(t):this._trigger("search",t)===!1?void 0:this._search(n)},_search:function(n){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:n},this._response())},_response:function(){var t=++this.requestIndex;return n.proxy(function(n){t===this.requestIndex&&this.__response(n);this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(n){n&&(n=this._normalize(n));this._trigger("response",null,{content:n});!this.options.disabled&&n&&n.length&&!this.cancelSearch?(this._suggest(n),this._trigger("open")):this._close()},close:function(n){this.cancelSearch=!0;this._close(n)},_close:function(n){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",n))},_change:function(n){this.previous!==this._value()&&this._trigger("change",n,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:n.map(t,function(t){return typeof t=="string"?{label:t,value:t}:n.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t);this.isNewMenu=!0;this.menu.refresh();i.show();this._resizeMenu();i.position(n.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var n=this.menu.element;n.outerWidth(Math.max(n.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var r=this;n.each(i,function(n,i){r._renderItemData(t,i)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return n("<li>").text(i.label).appendTo(t)},_move:function(n,t){if(!this.menu.element.is(":visible")){this.search(null,t);return}if(this.menu.isFirstItem()&&/^previous/.test(n)||this.menu.isLastItem()&&/^next/.test(n)){this.isMultiLine||this._value(this.term);this.menu.blur();return}this.menu[n](t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(n,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(n,t),t.preventDefault())}});n.extend(n.ui.autocomplete,{escapeRegex:function(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var r=new RegExp(n.ui.autocomplete.escapeRegex(i),"i");return n.grep(t,function(n){return r.test(n.label||n.value||n)})}});n.widget("ui.autocomplete",n.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(n){return n+(n>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;(this._superApply(arguments),this.options.disabled||this.cancelSearch)||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),n("<div>").text(i).appendTo(this.liveRegion))}});a=n.ui.autocomplete;n.extend(n.ui,{datepicker:{version:"1.11.0"}});n.extend(o.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(n){return t(this._defaults,n||{}),this},_attachDatepicker:function(t,i){var r,f,u;r=t.nodeName.toLowerCase();f=r==="div"||r==="span";t.id||(this.uuid+=1,t.id="dp"+this.uuid);u=this._newInst(n(t),f);u.settings=n.extend({},i||{});r==="input"?this._connectDatepicker(t,u):f&&this._inlineDatepicker(t,u)},_newInst:function(t,i){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?s(n("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>")):this.dpDiv}},_connectDatepicker:function(t,i){var r=n(t);(i.append=n([]),i.trigger=n([]),r.hasClass(this.markerClassName))||(this._attachments(r,i),r.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),n.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var u,r,f,e=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove();e&&(i.append=n("<span class='"+this._appendClass+"'>"+e+"<\/span>"),t[o?"before":"after"](i.append));t.unbind("focus",this._showDatepicker);i.trigger&&i.trigger.remove();u=this._get(i,"showOn");(u==="focus"||u==="both")&&t.focus(this._showDatepicker);(u==="button"||u==="both")&&(r=this._get(i,"buttonText"),f=this._get(i,"buttonImage"),i.trigger=n(this._get(i,"buttonImageOnly")?n("<img/>").addClass(this._triggerClass).attr({src:f,alt:r,title:r}):n("<button type='button'><\/button>").addClass(this._triggerClass).html(f?n("<img/>").attr({src:f,alt:r,title:r}):r)),t[o?"before":"after"](i.trigger),i.trigger.click(function(){return n.datepicker._datepickerShowing&&n.datepicker._lastInput===t[0]?n.datepicker._hideDatepicker():n.datepicker._datepickerShowing&&n.datepicker._lastInput!==t[0]?(n.datepicker._hideDatepicker(),n.datepicker._showDatepicker(t[0])):n.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(n){if(this._get(n,"autoSize")&&!n.inline){var r,u,f,t,i=new Date(2009,11,20),e=this._get(n,"dateFormat");e.match(/[DM]/)&&(r=function(n){for(u=0,f=0,t=0;t<n.length;t++)n[t].length>u&&(u=n[t].length,f=t);return f},i.setMonth(r(this._get(n,e.match(/MM/)?"monthNames":"monthNamesShort"))),i.setDate(r(this._get(n,e.match(/DD/)?"dayNames":"dayNamesShort"))+20-i.getDay()));n.input.attr("size",this._formatDate(n,i).length)}},_inlineDatepicker:function(t,i){var r=n(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(i.dpDiv),n.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(i,r,u,f,e){var s,h,c,l,a,o=this._dialogInst;return o||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=n("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),n("body").append(this._dialogInput),o=this._dialogInst=this._newInst(this._dialogInput,!1),o.settings={},n.data(this._dialogInput[0],"datepicker",o)),t(o.settings,f||{}),r=r&&r.constructor===Date?this._formatDate(o,r):r,this._dialogInput.val(r),this._pos=e?e.length?e:[e.pageX,e.pageY]:null,this._pos||(h=document.documentElement.clientWidth,c=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,a=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+l,c/2-150+a]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),o.settings.onSelect=u,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),n.blockUI&&n.blockUI(this.dpDiv),n.data(this._dialogInput[0],"datepicker",o),this},_destroyDatepicker:function(t){var i,r=n(t),u=n.data(t,"datepicker");r.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),n.removeData(t,"datepicker"),i==="input"?(u.append.remove(),u.trigger.remove(),r.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(i==="div"||i==="span")&&r.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var i,r,u=n(t),f=n.data(t,"datepicker");u.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),i==="input"?(t.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):(i==="div"||i==="span")&&(r=u.children("."+this._inlineClass),r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}))},_disableDatepicker:function(t){var i,r,u=n(t),f=n.data(t,"datepicker");u.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),i==="input"?(t.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):(i==="div"||i==="span")&&(r=u.children("."+this._inlineClass),r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(n){if(!n)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===n)return!0;return!1},_getInst:function(t){try{return n.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(i,r,u){var e,h,o,s,f=this._getInst(i);if(arguments.length===2&&typeof r=="string")return r==="defaults"?n.extend({},n.datepicker._defaults):f?r==="all"?n.extend({},f.settings):this._get(f,r):null;e=r||{};typeof r=="string"&&(e={},e[r]=u);f&&(this._curInst===f&&this._hideDatepicker(),h=this._getDateDatepicker(i,!0),o=this._getMinMaxDate(f,"min"),s=this._getMinMaxDate(f,"max"),t(f.settings,e),o!==null&&e.dateFormat!==undefined&&e.minDate===undefined&&(f.settings.minDate=this._formatDate(f,o)),s!==null&&e.dateFormat!==undefined&&e.maxDate===undefined&&(f.settings.maxDate=this._formatDate(f,s)),"disabled"in e&&(e.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(n(i),f),this._autoSize(f),this._setDate(f,h),this._updateAlternate(f),this._updateDatepicker(f))},_changeDatepicker:function(n,t,i){this._optionDatepicker(n,t,i)},_refreshDatepicker:function(n){var t=this._getInst(n);t&&this._updateDatepicker(t)},_setDateDatepicker:function(n,t){var i=this._getInst(n);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(n,t){var i=this._getInst(n);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var u,e,f,i=n.datepicker._getInst(t.target),r=!0,o=i.dpDiv.is(".ui-datepicker-rtl");if(i._keyEvent=!0,n.datepicker._datepickerShowing)switch(t.keyCode){case 9:n.datepicker._hideDatepicker();r=!1;break;case 13:return f=n("td."+n.datepicker._dayOverClass+":not(."+n.datepicker._currentClass+")",i.dpDiv),f[0]&&n.datepicker._selectDay(t.target,i.selectedMonth,i.selectedYear,f[0]),u=n.datepicker._get(i,"onSelect"),u?(e=n.datepicker._formatDate(i),u.apply(i.input?i.input[0]:null,[e,i])):n.datepicker._hideDatepicker(),!1;case 27:n.datepicker._hideDatepicker();break;case 33:n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 34:n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&n.datepicker._clearDate(t.target);r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&n.datepicker._gotoToday(t.target);r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,o?1:-1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,-7,"D");r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,o?-1:1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,7,"D");r=t.ctrlKey||t.metaKey;break;default:r=!1}else t.keyCode===36&&t.ctrlKey?n.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,r,u=n.datepicker._getInst(t.target);if(n.datepicker._get(u,"constrainInput"))return i=n.datepicker._possibleChars(n.datepicker._get(u,"dateFormat")),r=String.fromCharCode(t.charCode==null?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||r<" "||!i||i.indexOf(r)>-1},_doKeyUp:function(t){var r,i=n.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{r=n.datepicker.parseDate(n.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,n.datepicker._getFormatConfig(i));r&&(n.datepicker._setDateFromField(i),n.datepicker._updateAlternate(i),n.datepicker._updateDatepicker(i))}catch(u){}return!0},_showDatepicker:function(i){if(i=i.target||i,i.nodeName.toLowerCase()!=="input"&&(i=n("input",i.parentNode)[0]),!n.datepicker._isDisabledDatepicker(i)&&n.datepicker._lastInput!==i){var r,o,s,u,f,e,h;(r=n.datepicker._getInst(i),n.datepicker._curInst&&n.datepicker._curInst!==r&&(n.datepicker._curInst.dpDiv.stop(!0,!0),r&&n.datepicker._datepickerShowing&&n.datepicker._hideDatepicker(n.datepicker._curInst.input[0])),o=n.datepicker._get(r,"beforeShow"),s=o?o.apply(i,[i,r]):{},s!==!1)&&(t(r.settings,s),r.lastVal=null,n.datepicker._lastInput=i,n.datepicker._setDateFromField(r),n.datepicker._inDialog&&(i.value=""),n.datepicker._pos||(n.datepicker._pos=n.datepicker._findPos(i),n.datepicker._pos[1]+=i.offsetHeight),u=!1,n(i).parents().each(function(){return u|=n(this).css("position")==="fixed",!u}),f={left:n.datepicker._pos[0],top:n.datepicker._pos[1]},n.datepicker._pos=null,r.dpDiv.empty(),r.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),n.datepicker._updateDatepicker(r),f=n.datepicker._checkOffset(r,f,u),r.dpDiv.css({position:n.datepicker._inDialog&&n.blockUI?"static":u?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"}),r.inline||(e=n.datepicker._get(r,"showAnim"),h=n.datepicker._get(r,"duration"),r.dpDiv.css("z-index",v(n(i))+1),n.datepicker._datepickerShowing=!0,n.effects&&n.effects.effect[e]?r.dpDiv.show(e,n.datepicker._get(r,"showOptions"),h):r.dpDiv[e||"show"](e?h:null),n.datepicker._shouldFocusInput(r)&&r.input.focus(),n.datepicker._curInst=r))}},_updateDatepicker:function(t){this.maxRows=4;r=t;t.dpDiv.empty().append(this._generateHTML(t));this._attachHandlers(t);t.dpDiv.find("."+this._dayOverClass+" a");var i,u=this._getNumberOfMonths(t),f=u[1];t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");f>1&&t.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",17*f+"em");t.dpDiv[(u[0]!==1||u[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");t===n.datepicker._curInst&&n.datepicker._datepickerShowing&&n.datepicker._shouldFocusInput(t)&&t.input.focus();t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml);i=t.yearshtml=null},0))},_shouldFocusInput:function(n){return n.input&&n.input.is(":visible")&&!n.input.is(":disabled")&&!n.input.is(":focus")},_checkOffset:function(t,i,r){var u=t.dpDiv.outerWidth(),f=t.dpDiv.outerHeight(),h=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,e=document.documentElement.clientWidth+(r?0:n(document).scrollLeft()),s=document.documentElement.clientHeight+(r?0:n(document).scrollTop());return i.left-=this._get(t,"isRTL")?u-h:0,i.left-=r&&i.left===t.input.offset().left?n(document).scrollLeft():0,i.top-=r&&i.top===t.input.offset().top+o?n(document).scrollTop():0,i.left-=Math.min(i.left,i.left+u>e&&e>u?Math.abs(i.left+u-e):0),i.top-=Math.min(i.top,i.top+f>s&&s>f?Math.abs(f+o):0),i},_findPos:function(t){for(var i,r=this._getInst(t),u=this._get(r,"isRTL");t&&(t.type==="hidden"||t.nodeType!==1||n.expr.filters.hidden(t));)t=t[u?"previousSibling":"nextSibling"];return i=n(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var r,f,u,e,i=this._curInst;i&&(!t||i===n.data(t,"datepicker"))&&this._datepickerShowing&&(r=this._get(i,"showAnim"),f=this._get(i,"duration"),u=function(){n.datepicker._tidyDialog(i)},n.effects&&(n.effects.effect[r]||n.effects[r])?i.dpDiv.hide(r,n.datepicker._get(i,"showOptions"),f,u):i.dpDiv[r==="slideDown"?"slideUp":r==="fadeIn"?"fadeOut":"hide"](r?f:null,u),r||u(),this._datepickerShowing=!1,e=this._get(i,"onClose"),e&&e.apply(i.input?i.input[0]:null,[i.input?i.input.val():"",i]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),n.blockUI&&(n.unblockUI(),n("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(n){n.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(n.datepicker._curInst){var i=n(t.target),r=n.datepicker._getInst(i[0]);(i[0].id===n.datepicker._mainDivId||i.parents("#"+n.datepicker._mainDivId).length!==0||i.hasClass(n.datepicker.markerClassName)||i.closest("."+n.datepicker._triggerClass).length||!n.datepicker._datepickerShowing||n.datepicker._inDialog&&n.blockUI)&&(!i.hasClass(n.datepicker.markerClassName)||n.datepicker._curInst===r)||n.datepicker._hideDatepicker()}},_adjustDate:function(t,i,r){var f=n(t),u=this._getInst(f[0]);this._isDisabledDatepicker(f[0])||(this._adjustInstDate(u,i+(r==="M"?this._get(u,"showCurrentAtPos"):0),r),this._updateDatepicker(u))},_gotoToday:function(t){var r,u=n(t),i=this._getInst(u[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(r=new Date,i.selectedDay=r.getDate(),i.drawMonth=i.selectedMonth=r.getMonth(),i.drawYear=i.selectedYear=r.getFullYear());this._notifyChange(i);this._adjustDate(u)},_selectMonthYear:function(t,i,r){var f=n(t),u=this._getInst(f[0]);u["selected"+(r==="M"?"Month":"Year")]=u["draw"+(r==="M"?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10);this._notifyChange(u);this._adjustDate(f)},_selectDay:function(t,i,r,u){var f,e=n(t);n(u).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0])||(f=this._getInst(e[0]),f.selectedDay=f.currentDay=n("a",u).html(),f.selectedMonth=f.currentMonth=i,f.selectedYear=f.currentYear=r,this._selectDate(t,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(t){var i=n(t);this._selectDate(i,"")},_selectDate:function(t,i){var u,f=n(t),r=this._getInst(f[0]);i=i!=null?i:this._formatDate(r);r.input&&r.input.val(i);this._updateAlternate(r);u=this._get(r,"onSelect");u?u.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change");r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],typeof r.input[0]!="object"&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,r,u,f=this._get(t,"altField");f&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),u=this.formatDate(i,r,this._getFormatConfig(t)),n(f).each(function(){n(this).val(u)}))},noWeekends:function(n){var t=n.getDay();return[t>0&&t<6,""]},iso8601Week:function(n){var i,t=new Date(n.getTime());return t.setDate(t.getDate()+4-(t.getDay()||7)),i=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1},parseDate:function(t,i,r){if(t==null||i==null)throw"Invalid arguments";if(i=typeof i=="object"?i.toString():i+"",i==="")return null;for(var a,v,f=0,y=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,d=typeof y!="string"?y:(new Date).getFullYear()%100+parseInt(y,10),g=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,nt=(r?r.dayNames:null)||this._defaults.dayNames,tt=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,it=(r?r.monthNames:null)||this._defaults.monthNames,e=-1,s=-1,h=-1,p=-1,w=!1,u,l=function(n){var i=o+1<t.length&&t.charAt(o+1)===n;return i&&o++,i},c=function(n){var r=l(n),u=n==="@"?14:n==="!"?20:n==="y"&&r?4:n==="o"?3:2,e=new RegExp("^\\d{1,"+u+"}"),t=i.substring(f).match(e);if(!t)throw"Missing number at position "+f;return f+=t[0].length,parseInt(t[0],10)},k=function(t,r,u){var e=-1,o=n.map(l(t)?u:r,function(n,t){return[[t,n]]}).sort(function(n,t){return-(n[1].length-t[1].length)});if(n.each(o,function(n,t){var r=t[1];if(i.substr(f,r.length).toLowerCase()===r.toLowerCase())return e=t[0],f+=r.length,!1}),e!==-1)return e+1;throw"Unknown name at position "+f;},b=function(){if(i.charAt(f)!==t.charAt(o))throw"Unexpected literal at position "+f;f++},o=0;o<t.length;o++)if(w)t.charAt(o)!=="'"||l("'")?b():w=!1;else switch(t.charAt(o)){case"d":h=c("d");break;case"D":k("D",g,nt);break;case"o":p=c("o");break;case"m":s=c("m");break;case"M":s=k("M",tt,it);break;case"y":e=c("y");break;case"@":u=new Date(c("@"));e=u.getFullYear();s=u.getMonth()+1;h=u.getDate();break;case"!":u=new Date((c("!")-this._ticksTo1970)/1e4);e=u.getFullYear();s=u.getMonth()+1;h=u.getDate();break;case"'":l("'")?b():w=!0;break;default:b()}if(f<i.length&&(v=i.substr(f),!/^\s+/.test(v)))throw"Extra/unparsed characters found in date: "+v;if(e===-1?e=(new Date).getFullYear():e<100&&(e+=(new Date).getFullYear()-(new Date).getFullYear()%100+(e<=d?0:-100)),p>-1){s=1;h=p;do{if(a=this._getDaysInMonth(e,s-1),h<=a)break;s++;h-=a}while(1)}if(u=this._daylightSavingAdjust(new Date(e,s-1,h)),u.getFullYear()!==e||u.getMonth()+1!==s||u.getDate()!==h)throw"Invalid date";return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*864e9,formatDate:function(n,t,i){if(!t)return"";var u,h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,c=(i?i.dayNames:null)||this._defaults.dayNames,l=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,f=function(t){var i=u+1<n.length&&n.charAt(u+1)===t;return i&&u++,i},e=function(n,t,i){var r=""+t;if(f(n))while(r.length<i)r="0"+r;return r},s=function(n,t,i,r){return f(n)?r[t]:i[t]},r="",o=!1;if(t)for(u=0;u<n.length;u++)if(o)n.charAt(u)!=="'"||f("'")?r+=n.charAt(u):o=!1;else switch(n.charAt(u)){case"d":r+=e("d",t.getDate(),2);break;case"D":r+=s("D",t.getDay(),h,c);break;case"o":r+=e("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":r+=e("m",t.getMonth()+1,2);break;case"M":r+=s("M",t.getMonth(),l,a);break;case"y":r+=f("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":r+=t.getTime();break;case"!":r+=t.getTime()*1e4+this._ticksTo1970;break;case"'":f("'")?r+="'":o=!0;break;default:r+=n.charAt(u)}return r},_possibleChars:function(n){for(var i="",r=!1,u=function(i){var r=t+1<n.length&&n.charAt(t+1)===i;return r&&t++,r},t=0;t<n.length;t++)if(r)n.charAt(t)!=="'"||u("'")?i+=n.charAt(t):r=!1;else switch(n.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":u("'")?i+="'":r=!0;break;default:i+=n.charAt(t)}return i},_get:function(n,t){return n.settings[t]!==undefined?n.settings[t]:this._defaults[t]},_setDateFromField:function(n,t){if(n.input.val()!==n.lastVal){var f=this._get(n,"dateFormat"),r=n.lastVal=n.input?n.input.val():null,u=this._getDefaultDate(n),i=u,e=this._getFormatConfig(n);try{i=this.parseDate(f,r,e)||u}catch(o){r=t?"":r}n.selectedDay=i.getDate();n.drawMonth=n.selectedMonth=i.getMonth();n.drawYear=n.selectedYear=i.getFullYear();n.currentDay=r?i.getDate():0;n.currentMonth=r?i.getMonth():0;n.currentYear=r?i.getFullYear():0;this._adjustInstDate(n)}},_getDefaultDate:function(n){return this._restrictMinMax(n,this._determineDate(n,this._get(n,"defaultDate"),new Date))},_determineDate:function(t,i,r){var f=function(n){var t=new Date;return t.setDate(t.getDate()+n),t},e=function(i){try{return n.datepicker.parseDate(n.datepicker._get(t,"dateFormat"),i,n.datepicker._getFormatConfig(t))}catch(h){}for(var o=(i.toLowerCase().match(/^c/)?n.datepicker._getDate(t):null)||new Date,f=o.getFullYear(),e=o.getMonth(),r=o.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=s.exec(i);u;){switch(u[2]||"d"){case"d":case"D":r+=parseInt(u[1],10);break;case"w":case"W":r+=parseInt(u[1],10)*7;break;case"m":case"M":e+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e));break;case"y":case"Y":f+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e))}u=s.exec(i)}return new Date(f,e,r)},u=i==null||i===""?r:typeof i=="string"?e(i):typeof i=="number"?isNaN(i)?r:f(i):new Date(i.getTime());return u=u&&u.toString()==="Invalid Date"?r:u,u&&(u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0)),this._daylightSavingAdjust(u)},_daylightSavingAdjust:function(n){return n?(n.setHours(n.getHours()>12?n.getHours()+2:0),n):null},_setDate:function(n,t,i){var u=!t,f=n.selectedMonth,e=n.selectedYear,r=this._restrictMinMax(n,this._determineDate(n,t,new Date));n.selectedDay=n.currentDay=r.getDate();n.drawMonth=n.selectedMonth=n.currentMonth=r.getMonth();n.drawYear=n.selectedYear=n.currentYear=r.getFullYear();f===n.selectedMonth&&e===n.selectedYear||i||this._notifyChange(n);this._adjustInstDate(n);n.input&&n.input.val(u?"":this._formatDate(n))},_getDate:function(n){return!n.currentYear||n.input&&n.input.val()===""?null:this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay))},_attachHandlers:function(t){var r=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){n.datepicker._adjustDate(i,-r,"M")},next:function(){n.datepicker._adjustDate(i,+r,"M")},hide:function(){n.datepicker._hideDatepicker()},today:function(){n.datepicker._gotoToday(i)},selectDay:function(){return n.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return n.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return n.datepicker._selectMonthYear(i,this,"Y"),!1}};n(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(n){var b,s,rt,h,ut,k,ft,et,ri,c,ot,ui,fi,ei,oi,st,g,si,ht,nt,f,y,ct,p,lt,l,u,at,vt,yt,pt,tt,wt,i,bt,kt,d,a,it,dt=new Date,gt=this._daylightSavingAdjust(new Date(dt.getFullYear(),dt.getMonth(),dt.getDate())),e=this._get(n,"isRTL"),li=this._get(n,"showButtonPanel"),hi=this._get(n,"hideIfNoPrevNext"),ni=this._get(n,"navigationAsDateFormat"),o=this._getNumberOfMonths(n),ai=this._get(n,"showCurrentAtPos"),ci=this._get(n,"stepMonths"),ti=o[0]!==1||o[1]!==1,ii=this._daylightSavingAdjust(n.currentDay?new Date(n.currentYear,n.currentMonth,n.currentDay):new Date(9999,9,9)),w=this._getMinMaxDate(n,"min"),v=this._getMinMaxDate(n,"max"),t=n.drawMonth-ai,r=n.drawYear;if(t<0&&(t+=12,r--),v)for(b=this._daylightSavingAdjust(new Date(v.getFullYear(),v.getMonth()-o[0]*o[1]+1,v.getDate())),b=w&&b<w?w:b;this._daylightSavingAdjust(new Date(r,t,1))>b;)t--,t<0&&(t=11,r--);for(n.drawMonth=t,n.drawYear=r,s=this._get(n,"prevText"),s=ni?this.formatDate(s,this._daylightSavingAdjust(new Date(r,t-ci,1)),this._getFormatConfig(n)):s,rt=this._canAdjustMonth(n,-1,r,t)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(e?"e":"w")+"'>"+s+"<\/span><\/a>":hi?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(e?"e":"w")+"'>"+s+"<\/span><\/a>",h=this._get(n,"nextText"),h=ni?this.formatDate(h,this._daylightSavingAdjust(new Date(r,t+ci,1)),this._getFormatConfig(n)):h,ut=this._canAdjustMonth(n,1,r,t)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(e?"w":"e")+"'>"+h+"<\/span><\/a>":hi?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(e?"w":"e")+"'>"+h+"<\/span><\/a>",k=this._get(n,"currentText"),ft=this._get(n,"gotoCurrent")&&n.currentDay?ii:gt,k=ni?this.formatDate(k,ft,this._getFormatConfig(n)):k,et=n.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(n,"closeText")+"<\/button>",ri=li?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(e?et:"")+(this._isInRange(n,ft)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+k+"<\/button>":"")+(e?"":et)+"<\/div>":"",c=parseInt(this._get(n,"firstDay"),10),c=isNaN(c)?0:c,ot=this._get(n,"showWeek"),ui=this._get(n,"dayNames"),fi=this._get(n,"dayNamesMin"),ei=this._get(n,"monthNames"),oi=this._get(n,"monthNamesShort"),st=this._get(n,"beforeShowDay"),g=this._get(n,"showOtherMonths"),si=this._get(n,"selectOtherMonths"),ht=this._getDefaultDate(n),nt="",f,y=0;y<o[0];y++){for(ct="",this.maxRows=4,p=0;p<o[1];p++){if(lt=this._daylightSavingAdjust(new Date(r,t,n.selectedDay)),l=" ui-corner-all",u="",ti){if(u+="<div class='ui-datepicker-group",o[1]>1)switch(p){case 0:u+=" ui-datepicker-group-first";l=" ui-corner-"+(e?"right":"left");break;case o[1]-1:u+=" ui-datepicker-group-last";l=" ui-corner-"+(e?"left":"right");break;default:u+=" ui-datepicker-group-middle";l=""}u+="'>"}for(u+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+l+"'>"+(/all|left/.test(l)&&y===0?e?ut:rt:"")+(/all|right/.test(l)&&y===0?e?rt:ut:"")+this._generateMonthYearHeader(n,t,r,w,v,y>0||p>0,ei,oi)+"<\/div><table class='ui-datepicker-calendar'><thead><tr>",at=ot?"<th class='ui-datepicker-week-col'>"+this._get(n,"weekHeader")+"<\/th>":"",f=0;f<7;f++)vt=(f+c)%7,at+="<th scope='col'"+((f+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+ui[vt]+"'>"+fi[vt]+"<\/span><\/th>";for(u+=at+"<\/tr><\/thead><tbody>",yt=this._getDaysInMonth(r,t),r===n.selectedYear&&t===n.selectedMonth&&(n.selectedDay=Math.min(n.selectedDay,yt)),pt=(this._getFirstDayOfMonth(r,t)-c+7)%7,tt=Math.ceil((pt+yt)/7),wt=ti?this.maxRows>tt?this.maxRows:tt:tt,this.maxRows=wt,i=this._daylightSavingAdjust(new Date(r,t,1-pt)),bt=0;bt<wt;bt++){for(u+="<tr>",kt=ot?"<td class='ui-datepicker-week-col'>"+this._get(n,"calculateWeek")(i)+"<\/td>":"",f=0;f<7;f++)d=st?st.apply(n.input?n.input[0]:null,[i]):[!0,""],a=i.getMonth()!==t,it=a&&!si||!d[0]||w&&i<w||v&&i>v,kt+="<td class='"+((f+c+6)%7>=5?" ui-datepicker-week-end":"")+(a?" ui-datepicker-other-month":"")+(i.getTime()===lt.getTime()&&t===n.selectedMonth&&n._keyEvent||ht.getTime()===i.getTime()&&ht.getTime()===lt.getTime()?" "+this._dayOverClass:"")+(it?" "+this._unselectableClass+" ui-state-disabled":"")+(a&&!g?"":" "+d[1]+(i.getTime()===ii.getTime()?" "+this._currentClass:"")+(i.getTime()===gt.getTime()?" ui-datepicker-today":""))+"'"+((!a||g)&&d[2]?" title='"+d[2].replace(/'/g,"&#39;")+"'":"")+(it?"":" data-handler='selectDay' data-event='click' data-month='"+i.getMonth()+"' data-year='"+i.getFullYear()+"'")+">"+(a&&!g?"&#xa0;":it?"<span class='ui-state-default'>"+i.getDate()+"<\/span>":"<a class='ui-state-default"+(i.getTime()===gt.getTime()?" ui-state-highlight":"")+(i.getTime()===ii.getTime()?" ui-state-active":"")+(a?" ui-priority-secondary":"")+"' href='#'>"+i.getDate()+"<\/a>")+"<\/td>",i.setDate(i.getDate()+1),i=this._daylightSavingAdjust(i);u+=kt+"<\/tr>"}t++;t>11&&(t=0,r++);u+="<\/tbody><\/table>"+(ti?"<\/div>"+(o[0]>0&&p===o[1]-1?"<div class='ui-datepicker-row-break'><\/div>":""):"");ct+=u}nt+=ct}return nt+=ri,n._keyEvent=!1,nt},_generateMonthYearHeader:function(n,t,i,r,u,f,e,o){var k,d,h,v,y,p,s,a,w=this._get(n,"changeMonth"),b=this._get(n,"changeYear"),g=this._get(n,"showMonthAfterYear"),c="<div class='ui-datepicker-title'>",l="";if(f||!w)l+="<span class='ui-datepicker-month'>"+e[t]+"<\/span>";else{for(k=r&&r.getFullYear()===i,d=u&&u.getFullYear()===i,l+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;h<12;h++)(!k||h>=r.getMonth())&&(!d||h<=u.getMonth())&&(l+="<option value='"+h+"'"+(h===t?" selected='selected'":"")+">"+o[h]+"<\/option>");l+="<\/select>"}if(g||(c+=l+(f||!(w&&b)?"&#xa0;":"")),!n.yearshtml)if(n.yearshtml="",f||!b)c+="<span class='ui-datepicker-year'>"+i+"<\/span>";else{for(v=this._get(n,"yearRange").split(":"),y=(new Date).getFullYear(),p=function(n){var t=n.match(/c[+\-].*/)?i+parseInt(n.substring(1),10):n.match(/[+\-].*/)?y+parseInt(n,10):parseInt(n,10);return isNaN(t)?y:t},s=p(v[0]),a=Math.max(s,p(v[1]||"")),s=r?Math.max(s,r.getFullYear()):s,a=u?Math.min(a,u.getFullYear()):a,n.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";s<=a;s++)n.yearshtml+="<option value='"+s+"'"+(s===i?" selected='selected'":"")+">"+s+"<\/option>";n.yearshtml+="<\/select>";c+=n.yearshtml;n.yearshtml=null}return c+=this._get(n,"yearSuffix"),g&&(c+=(f||!(w&&b)?"&#xa0;":"")+l),c+"<\/div>"},_adjustInstDate:function(n,t,i){var u=n.drawYear+(i==="Y"?t:0),f=n.drawMonth+(i==="M"?t:0),e=Math.min(n.selectedDay,this._getDaysInMonth(u,f))+(i==="D"?t:0),r=this._restrictMinMax(n,this._daylightSavingAdjust(new Date(u,f,e)));n.selectedDay=r.getDate();n.drawMonth=n.selectedMonth=r.getMonth();n.drawYear=n.selectedYear=r.getFullYear();(i==="M"||i==="Y")&&this._notifyChange(n)},_restrictMinMax:function(n,t){var i=this._getMinMaxDate(n,"min"),r=this._getMinMaxDate(n,"max"),u=i&&t<i?i:t;return r&&u>r?r:u},_notifyChange:function(n){var t=this._get(n,"onChangeMonthYear");t&&t.apply(n.input?n.input[0]:null,[n.selectedYear,n.selectedMonth+1,n])},_getNumberOfMonths:function(n){var t=this._get(n,"numberOfMonths");return t==null?[1,1]:typeof t=="number"?[1,t]:t},_getMinMaxDate:function(n,t){return this._determineDate(n,this._get(n,t+"Date"),null)},_getDaysInMonth:function(n,t){return 32-this._daylightSavingAdjust(new Date(n,t,32)).getDate()},_getFirstDayOfMonth:function(n,t){return new Date(n,t,1).getDay()},_canAdjustMonth:function(n,t,i,r){var f=this._getNumberOfMonths(n),u=this._daylightSavingAdjust(new Date(i,r+(t<0?t:f[0]*f[1]),1));return t<0&&u.setDate(this._getDaysInMonth(u.getFullYear(),u.getMonth())),this._isInRange(n,u)},_isInRange:function(n,t){var i,f,e=this._getMinMaxDate(n,"min"),o=this._getMinMaxDate(n,"max"),r=null,u=null,s=this._get(n,"yearRange");return s&&(i=s.split(":"),f=(new Date).getFullYear(),r=parseInt(i[0],10),u=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=f),i[1].match(/[+\-].*/)&&(u+=f)),(!e||t.getTime()>=e.getTime())&&(!o||t.getTime()<=o.getTime())&&(!r||t.getFullYear()>=r)&&(!u||t.getFullYear()<=u)},_getFormatConfig:function(n){var t=this._get(n,"shortYearCutoff");return t=typeof t!="string"?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(n,"dayNamesShort"),dayNames:this._get(n,"dayNames"),monthNamesShort:this._get(n,"monthNamesShort"),monthNames:this._get(n,"monthNames")}},_formatDate:function(n,t,i,r){t||(n.currentDay=n.selectedDay,n.currentMonth=n.selectedMonth,n.currentYear=n.selectedYear);var u=t?typeof t=="object"?t:this._daylightSavingAdjust(new Date(r,i,t)):this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay));return this.formatDate(this._get(n,"dateFormat"),u,this._getFormatConfig(n))}});n.fn.datepicker=function(t){if(!this.length)return this;n.datepicker.initialized||(n(document).mousedown(n.datepicker._checkExternalClick),n.datepicker.initialized=!0);n("#"+n.datepicker._mainDivId).length===0&&n("body").append(n.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return typeof t=="string"&&(t==="isDisabled"||t==="getDate"||t==="widget")?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):t==="option"&&arguments.length===2&&typeof arguments[1]=="string"?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):this.each(function(){typeof t=="string"?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this].concat(i)):n.datepicker._attachDatepicker(this,t)})};n.datepicker=new o;n.datepicker.initialized=!1;n.datepicker.uuid=(new Date).getTime();n.datepicker.version="1.11.0";y=n.datepicker;p=n.widget("ui.selectmenu",{version:"1.11.0",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var n=this.element.uniqueId().attr("id");this.ids={element:n,button:n+"-button",menu:n+"-menu"};this._drawButton();this._drawMenu();this.options.disabled&&this.disable()},_drawButton:function(){var t=this,i=this.element.attr("tabindex");this.label=n("label[for='"+this.ids.element+"']").attr("for",this.ids.button);this._on(this.label,{click:function(n){this.button.focus();n.preventDefault()}});this.element.hide();this.button=n("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:i||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element);n("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button);this.buttonText=n("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button);this._setText(this.buttonText,this.element.find("option:selected").text());this._setOption("width",this.options.width);this._on(this.button,this._buttonEvents);this.button.one("focusin",function(){t.menuItems||t._refreshMenu()});this._hoverable(this.button);this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=n("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=n("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo());this.menuInstance=this.menu.menu({role:"listbox",select:function(n,i){n.preventDefault();t._select(i.item.data("ui-selectmenu-item"),n)},focus:function(n,i){var r=i.item.data("ui-selectmenu-item");t.focusIndex!=null&&r.index!==t.focusIndex&&(t._trigger("focus",n,{item:r}),t.isOpen||t._select(r,n));t.focusIndex=r.index;t.button.attr("aria-activedescendant",t.menuItems.eq(r.index).attr("id"))}}).menu("instance");this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all");this.menuInstance._off(this.menu,"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return!1};this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu();this._setText(this.buttonText,this._getSelectedItem().text());this._setOption("width",this.options.width)},_refreshMenu:function(){this.menu.empty();var n,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),n=this._getSelectedItem(),this.menuInstance.focus(null,n),this._setAria(n.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(n){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",n))},_position:function(){this.menuWrap.position(n.extend({of:this.button},this.options.position))},close:function(n){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this._off(this.document),this._trigger("close",n))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,i){var u=this,r="";n.each(i,function(i,f){f.optgroup!==r&&(n("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(f.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:f.optgroup}).appendTo(t),r=f.optgroup);u._renderItemData(t,f)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var r=n("<li>");return i.disabled&&r.addClass("ui-state-disabled"),this._setText(r,i.label),r.appendTo(t)},_setText:function(n,t){t?n.text(t):n.html("&#160;")},_move:function(n,t){var i,r,u=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),u+=":not(.ui-state-disabled)");r=n==="first"||n==="last"?i[n==="first"?"prevAll":"nextAll"](u).eq(-1):i[n+"All"](u).eq(0);r.length&&this.menuInstance.focus(t,r)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(n){this[this.isOpen?"close":"open"](n)},_documentClick:{mousedown:function(t){this.isOpen&&(n(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{click:"_toggle",keydown:function(t){var i=!0;switch(t.keyCode){case n.ui.keyCode.TAB:case n.ui.keyCode.ESCAPE:this.close(t);i=!1;break;case n.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case n.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case n.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case n.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case n.ui.keyCode.LEFT:this._move("prev",t);break;case n.ui.keyCode.RIGHT:this._move("next",t);break;case n.ui.keyCode.HOME:case n.ui.keyCode.PAGE_UP:this._move("first",t);break;case n.ui.keyCode.END:case n.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t);i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(n){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),n)},_select:function(n,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=n.index;this._setText(this.buttonText,n.label);this._setAria(n);this._trigger("select",t,{item:n});n.index!==i&&this._trigger("change",t,{item:n});this.close(t)},_setAria:function(n){var t=this.menuItems.eq(n.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t});this.menu.attr("aria-activedescendant",t)},_setOption:function(n,t){n==="icons"&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button);this._super(n,t);n==="appendTo"&&this.menuWrap.appendTo(this._appendTo());n==="disabled"&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0));n==="width"&&(t||(t=this.element.outerWidth()),this.button.outerWidth(t))},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?n(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen);this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen);this.menu.attr("aria-hidden",!this.isOpen)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var i=[];t.each(function(t,r){var u=n(r),f=u.parent("optgroup");i.push({element:u,index:t,value:u.attr("value"),label:u.text(),optgroup:f.attr("label")||"",disabled:f.prop("disabled")||u.prop("disabled")})});this.items=i},_destroy:function(){this.menuWrap.remove();this.button.remove();this.element.show();this.element.removeUniqueId();this.label.attr("for",this.ids.element)}})}),function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery"],n):n(typeof jQuery!="undefined"?jQuery:window.Zepto)}(function(n){"use strict";function u(t){var i=t.data;t.isDefaultPrevented()||(t.preventDefault(),n(t.target).ajaxSubmit(i))}function f(t){var r=t.target,u=n(r),f,i,e;if(!u.is("[type=submit],[type=image]")){if(f=u.closest("[type=submit]"),f.length===0)return;r=f[0]}i=this;i.clk=r;r.type=="image"&&(t.offsetX!==undefined?(i.clk_x=t.offsetX,i.clk_y=t.offsetY):typeof n.fn.offset=="function"?(e=u.offset(),i.clk_x=t.pageX-e.left,i.clk_y=t.pageY-e.top):(i.clk_x=t.pageX-r.offsetLeft,i.clk_y=t.pageY-r.offsetTop));setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}function t(){if(n.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var i={},r;i.fileapi=n("<input type='file'/>").get(0).files!==undefined;i.formdata=window.FormData!==undefined;r=!!n.fn.prop;n.fn.attr2=function(){if(!r)return this.attr.apply(this,arguments);var n=this.prop.apply(this,arguments);return n&&n.jquery||typeof n=="string"?n:this.attr.apply(this,arguments)};n.fn.ajaxSubmit=function(u){function ot(t){for(var r=n.param(t,u.traditional).split("&"),o=r.length,e=[],f,i=0;i<o;i++)r[i]=r[i].replace(/\+/g," "),f=r[i].split("="),e.push([decodeURIComponent(f[0]),decodeURIComponent(f[1])]);return e}function st(t){for(var o=new FormData,f,r,s,i=0;i<t.length;i++)o.append(t[i].name,t[i].value);if(u.extraData)for(f=ot(u.extraData),i=0;i<f.length;i++)f[i]&&o.append(f[i][0],f[i][1]);return u.data=null,r=n.extend(!0,{},n.ajaxSettings,u,{contentType:!1,processData:!1,cache:!1,type:e||"POST"}),u.uploadProgress&&(r.xhr=function(){var t=n.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",function(n){var t=0,i=n.loaded||n.position,r=n.total;n.lengthComputable&&(t=Math.ceil(i/r*100));u.uploadProgress(n,i,r,t)},!1),t}),r.data=null,s=r.beforeSend,r.beforeSend=function(n,t){t.data=u.formData?u.formData:o;s&&s.call(this,n,t)},n.ajax(r)}function ft(i){function ot(n){var i=null;try{n.contentWindow&&(i=n.contentWindow.document)}catch(r){t("cannot get iframe.contentWindow document: "+r)}if(i)return i;try{i=n.contentDocument?n.contentDocument:n.document}catch(r){t("cannot get iframe.contentDocument: "+r);i=n.document}return i}function st(){function h(){try{var n=ot(a).readyState;t("state = "+n);n&&n.toLowerCase()=="uninitialized"&&setTimeout(h,50)}catch(i){t("Server abort: ",i," (",i.name,")");b(tt);g&&clearTimeout(g);g=undefined}}var u=f.attr2("target"),s=f.attr2("action"),y=f.attr("enctype")||f.attr("encoding")||"multipart/form-data",r,i,c;l.setAttribute("target",d);(!e||/post/i.test(e))&&l.setAttribute("method","POST");s!=o.url&&l.setAttribute("action",o.url);o.skipEncodingOverride||e&&!/post/i.test(e)||f.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});o.timeout&&(g=setTimeout(function(){rt=!0;b(ut)},o.timeout));r=[];try{if(o.extraData)for(i in o.extraData)o.extraData.hasOwnProperty(i)&&(n.isPlainObject(o.extraData[i])&&o.extraData[i].hasOwnProperty("name")&&o.extraData[i].hasOwnProperty("value")?r.push(n('<input type="hidden" name="'+o.extraData[i].name+'">').val(o.extraData[i].value).appendTo(l)[0]):r.push(n('<input type="hidden" name="'+i+'">').val(o.extraData[i]).appendTo(l)[0]));o.iframeTarget||v.appendTo("body");a.attachEvent?a.attachEvent("onload",b):a.addEventListener("load",b,!1);setTimeout(h,15);try{l.submit()}catch(p){c=document.createElement("form").submit;c.apply(l)}}finally{l.setAttribute("action",s);l.setAttribute("enctype",y);u?l.setAttribute("target",u):f.removeAttr("target");n(r).remove()}}function b(i){var r,u,w,f,k,d,e,c,l;if(!s.aborted&&!lt){if(h=ot(a),h||(t("cannot access response document"),i=tt),i===ut&&s){s.abort("timeout");y.reject(s,"timeout");return}if(i==tt&&s){s.abort("server abort");y.reject(s,"error","server abort");return}if(h&&h.location.href!=o.iframeSrc||rt){a.detachEvent?a.detachEvent("onload",b):a.removeEventListener("load",b,!1);r="success";try{if(rt)throw"timeout";if(w=o.dataType=="xml"||h.XMLDocument||n.isXMLDoc(h),t("isXml="+w),!w&&window.opera&&(h.body===null||!h.body.innerHTML)&&--ct){t("requeing onLoad callback, DOM not available");setTimeout(b,250);return}f=h.body?h.body:h.documentElement;s.responseText=f?f.innerHTML:null;s.responseXML=h.XMLDocument?h.XMLDocument:h;w&&(o.dataType="xml");s.getResponseHeader=function(n){var t={"content-type":o.dataType};return t[n.toLowerCase()]};f&&(s.status=Number(f.getAttribute("status"))||s.status,s.statusText=f.getAttribute("statusText")||s.statusText);k=(o.dataType||"").toLowerCase();d=/(json|script|text)/.test(k);d||o.textarea?(e=h.getElementsByTagName("textarea")[0],e?(s.responseText=e.value,s.status=Number(e.getAttribute("status"))||s.status,s.statusText=e.getAttribute("statusText")||s.statusText):d&&(c=h.getElementsByTagName("pre")[0],l=h.getElementsByTagName("body")[0],c?s.responseText=c.textContent?c.textContent:c.innerText:l&&(s.responseText=l.textContent?l.textContent:l.innerText))):k=="xml"&&!s.responseXML&&s.responseText&&(s.responseXML=at(s.responseText));try{ht=yt(s,k,o)}catch(nt){r="parsererror";s.error=u=nt||r}}catch(nt){t("error caught: ",nt);r="error";s.error=u=nt||r}s.aborted&&(t("upload aborted"),r=null);s.status&&(r=s.status>=200&&s.status<300||s.status===304?"success":"error");r==="success"?(o.success&&o.success.call(o.context,ht,"success",s),y.resolve(s.responseText,"success",s),p&&n.event.trigger("ajaxSuccess",[s,o])):r&&(u===undefined&&(u=s.statusText),o.error&&o.error.call(o.context,s,r,u),y.reject(s,"error",u),p&&n.event.trigger("ajaxError",[s,o,u]));p&&n.event.trigger("ajaxComplete",[s,o]);p&&!--n.active&&n.event.trigger("ajaxStop");o.complete&&o.complete.call(o.context,s,r);lt=!0;o.timeout&&clearTimeout(g);setTimeout(function(){o.iframeTarget?v.attr("src",o.iframeSrc):v.remove();s.responseXML=null},100)}}}var l=f[0],it,nt,o,p,d,v,a,s,k,w,rt,g,y=n.Deferred(),ut,tt,ft,et,ht,h,ct,lt;if(y.abort=function(n){s.abort(n)},i)for(nt=0;nt<c.length;nt++)it=n(c[nt]),r?it.prop("disabled",!1):it.removeAttr("disabled");if(o=n.extend(!0,{},n.ajaxSettings,u),o.context=o.context||o,d="jqFormIO"+(new Date).getTime(),o.iframeTarget?(v=n(o.iframeTarget),w=v.attr2("name"),w?d=w:v.attr2("name",d)):(v=n('<iframe name="'+d+'" src="'+o.iframeSrc+'" />'),v.css({position:"absolute",top:"-1000px",left:"-1000px"})),a=v[0],s={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(i){var r=i==="timeout"?"timeout":"aborted";t("aborting upload... "+r);this.aborted=1;try{a.contentWindow.document.execCommand&&a.contentWindow.document.execCommand("Stop")}catch(u){}v.attr("src",o.iframeSrc);s.error=r;o.error&&o.error.call(o.context,s,r,i);p&&n.event.trigger("ajaxError",[s,o,r]);o.complete&&o.complete.call(o.context,s,r)}},p=o.global,p&&0==n.active++&&n.event.trigger("ajaxStart"),p&&n.event.trigger("ajaxSend",[s,o]),o.beforeSend&&o.beforeSend.call(o.context,s,o)===!1)return o.global&&n.active--,y.reject(),y;if(s.aborted)return y.reject(),y;k=l.clk;k&&(w=k.name,w&&!k.disabled&&(o.extraData=o.extraData||{},o.extraData[w]=k.value,k.type=="image"&&(o.extraData[w+".x"]=l.clk_x,o.extraData[w+".y"]=l.clk_y)));ut=1;tt=2;ft=n("meta[name=csrf-token]").attr("content");et=n("meta[name=csrf-param]").attr("content");et&&ft&&(o.extraData=o.extraData||{},o.extraData[et]=ft);o.forceSync?st():setTimeout(st,10);ct=50;var at=n.parseXML||function(n,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(n)):t=(new DOMParser).parseFromString(n,"text/xml"),t&&t.documentElement&&t.documentElement.nodeName!="parsererror"?t:null},vt=n.parseJSON||function(s){return window.eval("("+s+")")},yt=function(t,i,r){var f=t.getResponseHeader("content-type")||"",e=i==="xml"||!i&&f.indexOf("xml")>=0,u=e?t.responseXML:t.responseText;return e&&u.documentElement.nodeName==="parsererror"&&n.error&&n.error("parsererror"),r&&r.dataFilter&&(u=r.dataFilter(u,i)),typeof u=="string"&&(i==="json"||!i&&f.indexOf("json")>=0?u=vt(u):(i==="script"||!i&&f.indexOf("javascript")>=0)&&n.globalEval(u)),u};return y}var e,b,o,f,a,v,c,y,s,l,h,d,g,nt,ut,p,w;if(!this.length)return t("ajaxSubmit: skipping submit process - no element selected"),this;if(f=this,typeof u=="function"?u={success:u}:u===undefined&&(u={}),e=u.type||this.attr2("method"),b=u.url||this.attr2("action"),o=typeof b=="string"?n.trim(b):"",o=o||window.location.href||"",o&&(o=(o.match(/^([^#]+)/)||[])[1]),u=n.extend(!0,{url:o,success:n.ajaxSettings.success,type:e||n.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},u),a={},this.trigger("form-pre-serialize",[this,u,a]),a.veto)return t("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(u.beforeSerialize&&u.beforeSerialize(this,u)===!1)return t("ajaxSubmit: submit aborted via beforeSerialize callback"),this;if(v=u.traditional,v===undefined&&(v=n.ajaxSettings.traditional),c=[],s=this.formToArray(u.semantic,c),u.data&&(u.extraData=u.data,y=n.param(u.data,v)),u.beforeSubmit&&u.beforeSubmit(s,this,u)===!1)return t("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[s,this,u,a]),a.veto)return t("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;l=n.param(s,v);y&&(l=l?l+"&"+y:y);u.type.toUpperCase()=="GET"?(u.url+=(u.url.indexOf("?")>=0?"&":"?")+l,u.data=null):u.data=l;h=[];u.resetForm&&h.push(function(){f.resetForm()});u.clearForm&&h.push(function(){f.clearForm(u.includeHidden)});!u.dataType&&u.target?(d=u.success||function(){},h.push(function(t){var i=u.replaceTarget?"replaceWith":"html";n(u.target)[i](t).each(d,arguments)})):u.success&&h.push(u.success);u.success=function(n,t,i){for(var o=u.context||this,r=0,e=h.length;r<e;r++)h[r].apply(o,[n,t,i||f,f])};u.error&&(g=u.error,u.error=function(n,t,i){var r=u.context||this;g.apply(r,[n,t,i,f])});u.complete&&(nt=u.complete,u.complete=function(n,t){var i=u.context||this;nt.apply(i,[n,t,f])});var et=n("input[type=file]:enabled",this).filter(function(){return n(this).val()!==""}),tt=et.length>0,it="multipart/form-data",rt=f.attr("enctype")==it||f.attr("encoding")==it,k=i.fileapi&&i.formdata;for(t("fileAPI :"+k),ut=(tt||rt)&&!k,u.iframe!==!1&&(u.iframe||ut)?u.closeKeepAlive?n.get(u.closeKeepAlive,function(){p=ft(s)}):p=ft(s):p=(tt||rt)&&k?st(s):n.ajax(u),f.removeData("jqxhr").data("jqxhr",p),w=0;w<c.length;w++)c[w]=null;return this.trigger("form-submit-notify",[this,u]),this};n.fn.ajaxForm=function(i){if(i=i||{},i.delegation=i.delegation&&n.isFunction(n.fn.on),!i.delegation&&this.length===0){var r={s:this.selector,c:this.context};return!n.isReady&&r.s?(t("DOM not ready, queuing ajaxForm"),n(function(){n(r.s,r.c).ajaxForm(i)}),this):(t("terminating; zero elements found by selector"+(n.isReady?"":" (DOM not ready)")),this)}if(i.delegation){n(document).off("submit.form-plugin",this.selector,u).off("click.form-plugin",this.selector,f).on("submit.form-plugin",this.selector,i,u).on("click.form-plugin",this.selector,i,f);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",i,u).bind("click.form-plugin",i,f)};n.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};n.fn.formToArray=function(t,r){var e=[],l,h,f,c,u,b,k,a,p,v;if(this.length===0)return e;var o=this[0],w=this.attr("id"),s=t?o.getElementsByTagName("*"):o.elements,y;if(s&&!/MSIE [678]/.test(navigator.userAgent)&&(s=n(s).get()),w&&(y=n(':input[form="'+w+'"]').get(),y.length&&(s=(s||[]).concat(y))),!s||!s.length)return e;for(l=0,b=s.length;l<b;l++)if(u=s[l],f=u.name,f&&!u.disabled){if(t&&o.clk&&u.type=="image"){o.clk==u&&(e.push({name:f,value:n(u).val(),type:u.type}),e.push({name:f+".x",value:o.clk_x},{name:f+".y",value:o.clk_y}));continue}if(c=n.fieldValue(u,!0),c&&c.constructor==Array)for(r&&r.push(u),h=0,k=c.length;h<k;h++)e.push({name:f,value:c[h]});else if(i.fileapi&&u.type=="file")if(r&&r.push(u),a=u.files,a.length)for(h=0;h<a.length;h++)e.push({name:f,value:a[h],type:u.type});else e.push({name:f,value:"",type:u.type});else c!==null&&typeof c!="undefined"&&(r&&r.push(u),e.push({name:f,value:c,type:u.type,required:u.required}))}return!t&&o.clk&&(p=n(o.clk),v=p[0],f=v.name,f&&!v.disabled&&v.type=="image"&&(e.push({name:f,value:p.val()}),e.push({name:f+".x",value:o.clk_x},{name:f+".y",value:o.clk_y}))),e};n.fn.formSerialize=function(t){return n.param(this.formToArray(t))};n.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var f=this.name,r,u,e;if(f)if(r=n.fieldValue(this,t),r&&r.constructor==Array)for(u=0,e=r.length;u<e;u++)i.push({name:f,value:r[u]});else r!==null&&typeof r!="undefined"&&i.push({name:this.name,value:r})}),n.param(i)};n.fn.fieldValue=function(t){for(var f,i,r=[],u=0,e=this.length;u<e;u++)(f=this[u],i=n.fieldValue(f,t),i!==null&&typeof i!="undefined"&&(i.constructor!=Array||i.length))&&(i.constructor==Array?n.merge(r,i):r.push(i));return r};n.fieldValue=function(t,i){var a=t.name,u=t.type,h=t.tagName.toLowerCase(),e,o,r,f;if(i===undefined&&(i=!0),i&&(!a||t.disabled||u=="reset"||u=="button"||(u=="checkbox"||u=="radio")&&!t.checked||(u=="submit"||u=="image")&&t.form&&t.form.clk!=t||h=="select"&&t.selectedIndex==-1))return null;if(h=="select"){if(e=t.selectedIndex,e<0)return null;var c=[],l=t.options,s=u=="select-one",v=s?e+1:l.length;for(o=s?e:0;o<v;o++)if(r=l[o],r.selected){if(f=r.value,f||(f=r.attributes&&r.attributes.value&&!r.attributes.value.specified?r.text:r.value),s)return f;c.push(f)}return c}return n(t).val()};n.fn.clearForm=function(t){return this.each(function(){n("input,select,textarea",this).clearFields(t)})};n.fn.clearFields=n.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var r=this.type,u=this.tagName.toLowerCase();i.test(r)||u=="textarea"?this.value="":r=="checkbox"||r=="radio"?this.checked=!1:u=="select"?this.selectedIndex=-1:r=="file"?/MSIE/.test(navigator.userAgent)?n(this).replaceWith(n(this).clone(!0)):n(this).val(""):t&&(t===!0&&/hidden/.test(r)||typeof t=="string"&&n(this).is(t))&&(this.value="")})};n.fn.resetForm=function(){return this.each(function(){typeof this.reset!="function"&&(typeof this.reset!="object"||this.reset.nodeType)||this.reset()})};n.fn.enable=function(n){return n===undefined&&(n=!0),this.each(function(){this.disabled=!n})};n.fn.selected=function(t){return t===undefined&&(t=!0),this.each(function(){var r=this.type,i;r=="checkbox"||r=="radio"?this.checked=t:this.tagName.toLowerCase()=="option"&&(i=n(this).parent("select"),t&&i[0]&&i[0].type=="select-one"&&i.find("option").selected(!1),this.selected=t)})};n.fn.ajaxSubmit.debug=!1}),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){function t(){n(this).closest(".expandingText").find("div").text(this.value.replace(/\r\n/g,"\n")+" ");n(this).trigger("resize.expanding")}n.expandingTextarea=n.extend({autoInitialize:!0,initialSelector:"textarea.expanding",opts:{resize:function(){}}},n.expandingTextarea||{});var i=["lineHeight","textDecoration","letterSpacing","fontSize","fontFamily","fontStyle","fontWeight","textTransform","textAlign","direction","wordSpacing","fontSizeAdjust","wordWrap","word-break","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","boxSizing","webkitBoxSizing","mozBoxSizing","msBoxSizing"],r={position:"absolute",height:"100%",resize:"none"},u={visibility:"hidden",border:"0 solid"},f={position:"relative"};n.fn.expandingTextarea=function(e){var o=n.extend({},n.expandingTextarea.opts,e);return e==="resize"?this.trigger("input.expanding"):e==="destroy"?(this.filter(".expanding-init").each(function(){var t=n(this).removeClass("expanding-init"),i=t.closest(".expandingText");i.before(t).remove();t.attr("style",t.data("expanding-styles")||"").removeData("expanding-styles")}),this):(this.filter("textarea").not(".expanding-init").addClass("expanding-init").each(function(){var e=n(this),h,s;e.wrap("<div class='expandingText'><\/div>");e.after("<pre class='textareaClone'><div><\/div><\/pre>");h=e.parent().css(f);s=h.find("pre").css(u);s.css(e.attr("wrap")==="off"?{overflowX:"scroll"}:{whiteSpace:"pre-wrap"});e.data("expanding-styles",e.attr("style"));e.css(r);n.each(i,function(n,t){var i=e.css(t);s.css(t)!==i&&s.css(t,i)});h.css({"min-height":e.outerHeight(!0)});e.bind("input.expanding propertychange.expanding keyup.expanding change.expanding",t);t.apply(this);o.resize&&e.bind("resize.expanding",o.resize)}),this)};n(function(){n.expandingTextarea.autoInitialize&&n(n.expandingTextarea.initialSelector).expandingTextarea()})}),function(n,t){var i,g,nt,tt,it,r,h,v,c,rt,y,f,u,p,e,l,w,b,ut,k,o,a,d,s;i=function(n){return new i.prototype.init(n)};typeof require!="undefined"&&typeof exports!="undefined"&&typeof module!="undefined"?module.exports=i:n.Globalize=i;i.cultures={};i.prototype={constructor:i,init:function(n){return this.cultures=i.cultures,this.cultureSelector=n,this}};i.prototype.init.prototype=i.prototype;i.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}};i.cultures["default"].calendar=i.cultures["default"].calendars.standard;i.cultures.en=i.cultures["default"];i.cultureSelector="en";g=/^0x[a-f0-9]+$/i;nt=/^[+\-]?infinity$/i;tt=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/;it=/^\s+|\s+$/g;r=function(n,t){if(n.indexOf)return n.indexOf(t);for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1};h=function(n,t){return n.substr(n.length-t.length)===t};v=function(){var e,u,r,i,o,s,n=arguments[0]||{},f=1,l=arguments.length,h=!1;for(typeof n=="boolean"&&(h=n,n=arguments[1]||{},f=2),typeof n=="object"||rt(n)||(n={});f<l;f++)if((e=arguments[f])!=null)for(u in e)(r=n[u],i=e[u],n!==i)&&(h&&i&&(y(i)||(o=c(i)))?(o?(o=!1,s=r&&c(r)?r:[]):s=r&&y(r)?r:{},n[u]=v(h,s,i)):i!==t&&(n[u]=i));return n};c=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};rt=function(n){return Object.prototype.toString.call(n)==="[object Function]"};y=function(n){return Object.prototype.toString.call(n)==="[object Object]"};f=function(n,t){return n.indexOf(t)===0};u=function(n){return(n+"").replace(it,"")};p=function(n){return isNaN(n)?NaN:Math[n<0?"ceil":"floor"](n)};e=function(n,t,i){for(var r=n.length;r<t;r+=1)n=i?"0"+n:n+"0";return n};l=function(n,t){for(var f=0,i=!1,u,r=0,e=n.length;r<e;r++){u=n.charAt(r);switch(u){case"'":i?t.push("'"):f++;i=!1;break;case"\\":i&&t.push("\\");i=!i;break;default:t.push(u);i=!1}}return f};w=function(n,t){t=t||"F";var i,u=n.patterns,r=t.length;if(r===1){if(i=u[t],!i)throw"Invalid date format string '"+t+"'.";t=i}else r===2&&t.charAt(0)==="%"&&(t=t.charAt(1));return t};b=function(n,t,i){function e(n,t){var i,r=n+"";return t>1&&r.length<t?(i=st[t-2]+r,i.substr(i.length-t,t)):r}function ct(){return c||ut?c:(c=ht.test(t),ut=!0,c)}function it(n,t){if(v)return v[t];switch(t){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();default:throw"Invalid part value "+t;}}var u=i.calendar,d=u.convert,r,g,rt,nt,tt,p,f,ot,h;if(!t||!t.length||t==="i")return i&&i.name.length?d?r=b(n,u.patterns.F,i):(g=new Date(n.getTime()),rt=o(n,u.eras),g.setFullYear(a(n,u,rt)),r=g.toLocaleString()):r=n.toString(),r;nt=u.eras;tt=t==="s";t=w(u,t);r=[];var s,st=["0","00","000"],c,ut,ht=/([^d]|^)(d|dd)([^d]|$)/g,ft=0,et=k(),v;for(!tt&&d&&(v=d.fromGregorian(n));;){var lt=et.lastIndex,y=et.exec(t),at=t.slice(lt,y?y.index:t.length);if(ft+=l(at,r),!y)break;if(ft%2){r.push(y[0]);continue}p=y[0];f=p.length;switch(p){case"ddd":case"dddd":ot=f===3?u.days.namesAbbr:u.days.names;r.push(ot[n.getDay()]);break;case"d":case"dd":c=!0;r.push(e(it(n,2),f));break;case"MMM":case"MMMM":h=it(n,1);r.push(u.monthsGenitive&&ct()?u.monthsGenitive[f===3?"namesAbbr":"names"][h]:u.months[f===3?"namesAbbr":"names"][h]);break;case"M":case"MM":r.push(e(it(n,1)+1,f));break;case"y":case"yy":case"yyyy":h=v?v[0]:a(n,u,o(n,nt),tt);f<4&&(h=h%100);r.push(e(h,f));break;case"h":case"hh":s=n.getHours()%12;s===0&&(s=12);r.push(e(s,f));break;case"H":case"HH":r.push(e(n.getHours(),f));break;case"m":case"mm":r.push(e(n.getMinutes(),f));break;case"s":case"ss":r.push(e(n.getSeconds(),f));break;case"t":case"tt":h=n.getHours()<12?u.AM?u.AM[0]:" ":u.PM?u.PM[0]:" ";r.push(f===1?h.charAt(0):h);break;case"f":case"ff":case"fff":r.push(e(n.getMilliseconds(),3).substr(0,f));break;case"z":case"zz":s=n.getTimezoneOffset()/60;r.push((s<=0?"+":"-")+e(Math.floor(Math.abs(s)),f));break;case"zzz":s=n.getTimezoneOffset()/60;r.push((s<=0?"+":"-")+e(Math.floor(Math.abs(s)),2)+":"+e(Math.abs(n.getTimezoneOffset()%60),2));break;case"g":case"gg":u.eras&&r.push(u.eras[o(n,nt)].name);break;case"/":r.push(u["/"]);break;default:throw"Invalid date format pattern '"+p+"'.";}}return r.join("")},function(){var n;n=function(n,t,i){var l=i.groupSizes,c=l[0],a=1,p=Math.pow(10,t),v=Math.round(n*p)/p;isFinite(v)||(v=n);n=v;var r=n+"",u="",o=r.split(/e/i),f=o.length>1?parseInt(o[1],10):0;r=o[0];o=r.split(".");r=o[0];u=o.length>1?o[1]:"";f>0?(u=e(u,f,!1),r+=u.slice(0,f),u=u.substr(f)):f<0&&(f=-f,r=e(r,f+1,!0),u=r.slice(-f,r.length)+u,r=r.slice(0,-f));u=t>0?i["."]+(u.length>t?u.slice(0,t):e(u,t)):"";for(var s=r.length-1,y=i[","],h="";s>=0;){if(c===0||c>s)return r.slice(0,s+1)+(h.length?y+h+u:u);h=r.slice(s-c+1,s+1)+(h.length?y+h:"");s-=c;a<l.length&&(c=l[a],a++)}return r.slice(0,s+1)+y+h+u};ut=function(t,i,r){var a,f,v,o,y,l;if(!isFinite(t))return t===Infinity?r.numberFormat.positiveInfinity:t===-Infinity?r.numberFormat.negativeInfinity:r.numberFormat.NaN;if(!i||i==="i")return r.name.length?t.toLocaleString():t.toString();i=i||"D";var s=r.numberFormat,u=Math.abs(t),h=-1,c;i.length>1&&(h=parseInt(i.slice(1),10));a=i.charAt(0).toUpperCase();switch(a){case"D":c="n";u=p(u);h!==-1&&(u=e(""+u,h,!0));t<0&&(u="-"+u);break;case"N":f=s;case"C":f=f||s.currency;case"P":f=f||s.percent;c=t<0?f.pattern[0]:f.pattern[1]||"n";h===-1&&(h=f.decimals);u=n(u*(a==="P"?100:1),h,f);break;default:throw"Bad number format specifier: "+a;}for(v=/n|\$|-|%/g,o="";;){if(y=v.lastIndex,l=v.exec(c),o+=c.slice(y,l?l.index:c.length),!l)break;switch(l[0]){case"n":o+=u;break;case"$":o+=s.currency.symbol;break;case"-":/[1-9]/.test(u)&&(o+=s["-"]);break;case"%":o+=s.percent.symbol}}return o}}();k=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g};o=function(n,t){var r,u,i,f;if(!t)return 0;for(u=n.getTime(),i=0,f=t.length;i<f;i++)if(r=t[i].start,r===null||u>=r)return i;return 0};a=function(n,t,i,r){var u=n.getFullYear();return!r&&t.eras&&(u-=t.eras[i].offset),u},function(){var e,s,h,c,n,i,t;e=function(n,t){if(t<100){var r=new Date,f=o(r),u=a(r,n,f),i=n.twoDigitYearMax;i=typeof i=="string"?(new Date).getFullYear()%100+parseInt(i,10):i;t+=u-u%100;t>i&&(t-=100)}return t};s=function(n,u,f){var e,s=n.days,o=n._upperDays;return o||(n._upperDays=o=[t(s.names),t(s.namesAbbr),t(s.namesShort)]),u=i(u),f?(e=r(o[1],u),e===-1&&(e=r(o[2],u))):e=r(o[0],u),e};h=function(n,u,f){var h=n.months,c=n.monthsGenitive||n.months,e=n._upperMonths,s=n._upperMonthsGen,o;return e||(n._upperMonths=e=[t(h.names),t(h.namesAbbr)],n._upperMonthsGen=s=[t(c.names),t(c.namesAbbr)]),u=i(u),o=r(f?e[1]:e[0],u),o<0&&(o=r(f?s[1]:s[0],u)),o};c=function(n,t){var f=n._parseRegExp,o,y,e,p,i,b,d;if(f){if(o=f[t],o)return o}else n._parseRegExp=f={};for(var s=w(n,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),r=["^"],c=[],h=0,a=0,v=k(),u;(u=v.exec(s))!==null;){if(y=s.slice(h,u.index),h=v.lastIndex,a+=l(y,r),a%2){r.push(u[0]);continue}e=u[0];p=e.length;switch(e){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":i="(\\D+)";break;case"tt":case"t":i="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":i="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":i="(\\d\\d?)";break;case"zzz":i="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":i="([+-]?\\d\\d?)";break;case"/":i="(\\/)";break;default:throw"Invalid date format pattern '"+e+"'.";}i&&r.push(i);c.push(u[0])}return l(s.slice(h),r),r.push("$"),b=r.join("").replace(/\s+/g,"\\s+"),d={regExp:b,groups:c},f[t]=d};n=function(n,t,i){return n<t||n>i};i=function(n){return n.split("").join(" ").toUpperCase()};t=function(n){for(var r=[],t=0,u=n.length;t<u;t++)r[t]=i(n[t]);return r};d=function(t,i,r){var d,wt,l,ft,et,g,nt,kt,a,dt,tt,at;t=u(t);var o=r.calendar,vt=c(o,i),yt=new RegExp(vt.regExp).exec(t);if(yt===null)return null;var pt=vt.groups,ot=null,w=null,p=null,b=null,it=null,y=0,k,st=0,ht=0,ct=0,rt=null,lt=!1;for(d=0,wt=pt.length;d<wt;d++)if(l=yt[d+1],l){var bt=pt[d],ut=bt.length,v=parseInt(l,10);switch(bt){case"dd":case"d":if(b=v,n(b,1,31))return null;break;case"MMM":case"MMMM":if(p=h(o,l,ut===3),n(p,0,11))return null;break;case"M":case"MM":if(p=v-1,n(p,0,11))return null;break;case"y":case"yy":case"yyyy":if(w=ut<4?e(o,v):v,n(w,0,9999))return null;break;case"h":case"hh":if(y=v,y===12&&(y=0),n(y,0,11))return null;break;case"H":case"HH":if(y=v,n(y,0,23))return null;break;case"m":case"mm":if(st=v,n(st,0,59))return null;break;case"s":case"ss":if(ht=v,n(ht,0,59))return null;break;case"tt":case"t":if(lt=o.PM&&(l===o.PM[0]||l===o.PM[1]||l===o.PM[2]),!lt&&(!o.AM||l!==o.AM[0]&&l!==o.AM[1]&&l!==o.AM[2]))return null;break;case"f":case"ff":case"fff":if(ct=v*Math.pow(10,3-ut),n(ct,0,999))return null;break;case"ddd":case"dddd":if(it=s(o,l,ut===3),n(it,0,6))return null;break;case"zzz":if((ft=l.split(/:/),ft.length!==2)||(k=parseInt(ft[0],10),n(k,-12,13))||(et=parseInt(ft[1],10),n(et,0,59)))return null;rt=k*60+(f(l,"-")?-et:et);break;case"z":case"zz":if(k=v,n(k,-12,13))return null;rt=k*60;break;case"g":case"gg":if(g=l,!g||!o.eras)return null;for(g=u(g.toLowerCase()),nt=0,kt=o.eras.length;nt<kt;nt++)if(g===o.eras[nt].name.toLowerCase()){ot=nt;break}if(ot===null)return null}}if(a=new Date,tt=o.convert,dt=tt?tt.fromGregorian(a)[0]:a.getFullYear(),w===null?w=dt:o.eras&&(w+=o.eras[ot||0].offset),p===null&&(p=0),b===null&&(b=1),tt){if(a=tt.toGregorian(w,p,b),a===null)return null}else if((a.setFullYear(w,p,b),a.getDate()!==b)||it!==null&&a.getDay()!==it)return null;return lt&&y<12&&(y+=12),a.setHours(y,st,ht,ct),rt!==null&&(at=a.getMinutes()-(rt+a.getTimezoneOffset()),a.setHours(a.getHours()+parseInt(at/60,10),at%60)),a}}();s=function(n,t,i){var r=t["-"],u=t["+"],e;switch(i){case"n -":r=" "+r;u=" "+u;case"n-":h(n,r)?e=["-",n.substr(0,n.length-r.length)]:h(n,u)&&(e=["+",n.substr(0,n.length-u.length)]);break;case"- n":r+=" ";u+=" ";case"-n":f(n,r)?e=["-",n.substr(r.length)]:f(n,u)&&(e=["+",n.substr(u.length)]);break;case"(n)":f(n,"(")&&h(n,")")&&(e=["-",n.substr(1,n.length-2)])}return e||["",n]};i.prototype.findClosestCulture=function(n){return i.findClosestCulture.call(this,n)};i.prototype.format=function(n,t,r){return i.format.call(this,n,t,r)};i.prototype.localize=function(n,t){return i.localize.call(this,n,t)};i.prototype.parseInt=function(n,t,r){return i.parseInt.call(this,n,t,r)};i.prototype.parseFloat=function(n,t,r){return i.parseFloat.call(this,n,t,r)};i.prototype.culture=function(n){return i.culture.call(this,n)};i.addCultureInfo=function(n,t,i){var r={},u=!1;typeof n!="string"?(i=n,n=this.culture().name,r=this.cultures[n]):typeof t!="string"?(i=t,u=this.cultures[n]==null,r=this.cultures[n]||this.cultures["default"]):(u=!0,r=this.cultures[t]);this.cultures[n]=v(!0,{},r,i);u&&(this.cultures[n].calendar=this.cultures[n].calendars.standard)};i.findClosestCulture=function(n){var r,f,h,l,y,a;if(!n)return this.findClosestCulture(this.cultureSelector)||this.cultures["default"];if(typeof n=="string"&&(n=n.split(",")),c(n)){for(var i,o=this.cultures,v=n,s=v.length,e=[],t=0;t<s;t++)n=u(v[t]),h=n.split(";"),i=u(h[0]),h.length===1?f=1:(n=u(h[1]),n.indexOf("q=")===0?(n=n.substr(2),f=parseFloat(n),f=isNaN(f)?0:f):f=1),e.push({lang:i,pri:f});for(e.sort(function(n,t){return n.pri<t.pri?1:n.pri>t.pri?-1:0}),t=0;t<s;t++)if(i=e[t].lang,r=o[i],r)return r;for(t=0;t<s;t++){i=e[t].lang;do{if(l=i.lastIndexOf("-"),l===-1)break;if(i=i.substr(0,l),r=o[i],r)return r}while(1)}for(t=0;t<s;t++){i=e[t].lang;for(y in o)if(a=o[y],a.language===i)return a}}else if(typeof n=="object")return n;return r||null};i.format=function(n,t,i){var r=this.findClosestCulture(i);return n instanceof Date?n=b(n,t,r):typeof n=="number"&&(n=ut(n,t,r)),n};i.localize=function(n,t){return this.findClosestCulture(t).messages[n]||this.cultures["default"].messages[n]};i.parseDate=function(n,t,i){var r,o,f,u,s,e;if(i=this.findClosestCulture(i),t){if(typeof t=="string"&&(t=[t]),t.length)for(u=0,s=t.length;u<s;u++)if(e=t[u],e&&(r=d(n,e,i),r))break}else{f=i.calendar.patterns;for(o in f)if(r=d(n,f[o],i),r)break}return r||null};i.parseInt=function(n,t,r){return p(i.parseFloat(n,t,r))};i.parseFloat=function(n,t,i){var y,c,l,h,p,k,w,b,d,a,it;typeof t!="number"&&(i=t,t=10);var f=this.findClosestCulture(i),v=NaN,r=f.numberFormat;if(n.indexOf(f.numberFormat.currency.symbol)>-1&&(n=n.replace(f.numberFormat.currency.symbol,""),n=n.replace(f.numberFormat.currency["."],f.numberFormat["."])),n.indexOf(f.numberFormat.percent.symbol)>-1&&(n=n.replace(f.numberFormat.percent.symbol,"")),n=n.replace(/ /g,""),nt.test(n))v=parseFloat(n);else if(!t&&g.test(n))v=parseInt(n,16);else{var u=s(n,r,r.pattern[0]),e=u[0],o=u[1];e===""&&r.pattern[0]!=="(n)"&&(u=s(n,r,"(n)"),e=u[0],o=u[1]);e===""&&r.pattern[0]!=="-n"&&(u=s(n,r,"-n"),e=u[0],o=u[1]);e=e||"+";l=o.indexOf("e");l<0&&(l=o.indexOf("E"));l<0?(c=o,y=null):(c=o.substr(0,l),y=o.substr(l+1));k=r["."];w=c.indexOf(k);w<0?(h=c,p=null):(h=c.substr(0,w),p=c.substr(w+k.length));b=r[","];h=h.split(b).join("");d=b.replace(/\u00A0/g," ");b!==d&&(h=h.split(d).join(""));a=e+h;p!==null&&(a+="."+p);y!==null&&(it=s(y,r,"-n"),a+="e"+(it[0]||"+")+it[1]);tt.test(a)&&(v=parseFloat(a))}return v};i.culture=function(n){return typeof n!="undefined"&&(this.cultureSelector=n),this.findClosestCulture(n)||this.cultures["default"]}}(this),function(n){var t;t=typeof require!="undefined"&&typeof exports!="undefined"&&typeof module!="undefined"?require("globalize"):n.Globalize;t.addCultureInfo("no","default",{name:"no",englishName:"Norwegian",nativeName:"norsk",language:"no",numberFormat:{",":"",".":",",negativeInfinity:"-INF",positiveInfinity:"INF",percent:{",":"",".":","},currency:{pattern:["$ -n","$ n"],",":"",".":",",symbol:"kr"}},calendars:{standard:{"/":".",firstDay:1,days:{names:["sndag","mandag","tirsdag","onsdag","torsdag","fredag","lrdag"],namesAbbr:["s","ma","ti","on","to","fr","l"],namesShort:["s","ma","ti","on","to","fr","l"]},months:{names:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],namesAbbr:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""]},AM:null,PM:null,patterns:{d:"dd.MM.yyyy",D:"d. MMMM yyyy",t:"HH:mm",T:"HH:mm:ss",f:"d. MMMM yyyy HH:mm",F:"d. MMMM yyyy HH:mm:ss",M:"d. MMMM",Y:"MMMM yyyy"}}}})}(this),function(n){function i(n,t){for(var i=window,r=(n||"").split(".");i&&r.length;)i=i[r.shift()];return typeof i=="function"?i:(t.push(n),Function.constructor.apply(null,t))}function r(n){return n==="GET"||n==="POST"}function e(n,t){r(t)||n.setRequestHeader("X-HTTP-Method-Override",t)}function o(t,i,r){var u;r.indexOf("application/x-javascript")===-1&&(u=(t.getAttribute("data-ajax-mode")||"").toUpperCase(),n(t.getAttribute("data-ajax-update")).each(function(t,r){var f;switch(u){case"BEFORE":f=r.firstChild;n("<div />").html(i).contents().each(function(){r.insertBefore(this,f)});break;case"AFTER":n("<div />").html(i).contents().each(function(){r.appendChild(this)});break;default:n(r).html(i)}}))}function u(t,u){var s,h,f,c;(s=t.getAttribute("data-ajax-confirm"),!s||window.confirm(s))&&(h=n(t.getAttribute("data-ajax-loading")),c=t.getAttribute("data-ajax-loading-duration")||0,n.extend(u,{type:t.getAttribute("data-ajax-method")||undefined,url:t.getAttribute("data-ajax-url")||undefined,beforeSend:function(n){var r;return e(n,f),r=i(t.getAttribute("data-ajax-begin"),["xhr"]).apply(this,arguments),r!==!1&&h.show(c),r},complete:function(){h.hide(c);i(t.getAttribute("data-ajax-complete"),["xhr","status"]).apply(this,arguments)},success:function(n,r,u){o(t,n,u.getResponseHeader("Content-Type")||"text/html");i(t.getAttribute("data-ajax-success"),["data","status","xhr"]).apply(this,arguments)},error:i(t.getAttribute("data-ajax-failure"),["xhr","status","error"])}),u.data.push({name:"X-Requested-With",value:"XMLHttpRequest"}),f=u.type.toUpperCase(),r(f)||(u.type="POST",u.data.push({name:"X-HTTP-Method-Override",value:f})),n.ajax(u))}function s(t){var i=n(t).data(f);return!i||!i.validate||i.validate()}var t="unobtrusiveAjaxClick",f="unobtrusiveValidation";n("a[data-ajax=true]").on("click",function(n){n.preventDefault();u(this,{url:this.href,type:"GET",data:[]})});n("form[data-ajax=true] input[type=image]").on("click",function(i){var r=i.target.name,u=n(i.target),f=u.parents("form")[0],e=u.offset();n(f).data(t,[{name:r+".x",value:Math.round(i.pageX-e.left)},{name:r+".y",value:Math.round(i.pageY-e.top)}]);setTimeout(function(){n(f).removeData(t)},0)});n("form[data-ajax=true] :submit").on("click",function(i){var r=i.target.name,u=n(i.target).parents("form")[0];n(u).data(t,r?[{name:r,value:i.target.value}]:[]);setTimeout(function(){n(u).removeData(t)},0)});n("form[data-ajax=true]").on("submit",function(i){var r=n(this).data(t)||[];(i.preventDefault(),s(this))&&u(this,{url:this.action,type:this.method||"GET",data:r.concat(n(this).serializeArray())})})}(jQuery),function(){"use strict";function n(t,r){function h(n,t){return function(){return n.apply(t,arguments)}}var o,f,e,u,s;if(r=r||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=r.touchBoundary||10,this.layer=t,this.tapDelay=r.tapDelay||200,this.tapTimeout=r.tapTimeout||700,!n.notNeeded(t)){for(f=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],e=this,u=0,s=f.length;u<s;u++)e[f[u]]=h(e[f[u]],e);i&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0));t.addEventListener("click",this.onClick,!0);t.addEventListener("touchstart",this.onTouchStart,!1);t.addEventListener("touchmove",this.onTouchMove,!1);t.addEventListener("touchend",this.onTouchEnd,!1);t.addEventListener("touchcancel",this.onTouchCancel,!1);Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(n,i,r){var u=Node.prototype.removeEventListener;n==="click"?u.call(t,n,i.hijacked||i,r):u.call(t,n,i,r)},t.addEventListener=function(n,i,r){var u=Node.prototype.addEventListener;n==="click"?u.call(t,n,i.hijacked||(i.hijacked=function(n){n.propagationStopped||i(n)}),r):u.call(t,n,i,r)});typeof t.onclick=="function"&&(o=t.onclick,t.addEventListener("click",function(n){o(n)},!1),t.onclick=null)}}var r=navigator.userAgent.indexOf("Windows Phone")>=0,i=navigator.userAgent.indexOf("Android")>0&&!r,t=/iP(ad|hone|od)/.test(navigator.userAgent)&&!r,u=t&&/OS 4_\d(_\d)?/.test(navigator.userAgent),f=t&&/OS [6-7]_\d/.test(navigator.userAgent),e=navigator.userAgent.indexOf("BB10")>0;n.prototype.needsClick=function(n){switch(n.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(n.disabled)return!0;break;case"input":if(t&&n.type==="file"||n.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(n.className)};n.prototype.needsFocus=function(n){switch(n.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!i;case"input":switch(n.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!n.disabled&&!n.readOnly;default:return/\bneedsfocus\b/.test(n.className)}};n.prototype.sendClick=function(n,t){var r,i;document.activeElement&&document.activeElement!==n&&document.activeElement.blur();i=t.changedTouches[0];r=document.createEvent("MouseEvents");r.initMouseEvent(this.determineEventType(n),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null);r.forwardedTouchEvent=!0;n.dispatchEvent(r)};n.prototype.determineEventType=function(n){return i&&n.tagName.toLowerCase()==="select"?"mousedown":"click"};n.prototype.focus=function(n){var i;t&&n.setSelectionRange&&n.type.indexOf("date")!==0&&n.type!=="time"&&n.type!=="month"?(i=n.value.length,n.setSelectionRange(i,i)):n.focus()};n.prototype.updateScrollParent=function(n){var i,t;if(i=n.fastClickScrollParent,!i||!i.contains(n)){t=n;do{if(t.scrollHeight>t.offsetHeight){i=t;n.fastClickScrollParent=t;break}t=t.parentElement}while(t)}i&&(i.fastClickLastScrollTop=i.scrollTop)};n.prototype.getTargetElementFromEventTarget=function(n){return n.nodeType===Node.TEXT_NODE?n.parentNode:n};n.prototype.onTouchStart=function(n){var r,i,f;if(n.targetTouches.length>1)return!0;if(r=this.getTargetElementFromEventTarget(n.target),i=n.targetTouches[0],t){if(f=window.getSelection(),f.rangeCount&&!f.isCollapsed)return!0;if(!u){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return n.preventDefault(),!1;this.lastTouchIdentifier=i.identifier;this.updateScrollParent(r)}}return this.trackingClick=!0,this.trackingClickStart=n.timeStamp,this.targetElement=r,this.touchStartX=i.pageX,this.touchStartY=i.pageY,n.timeStamp-this.lastClickTime<this.tapDelay&&n.preventDefault(),!0};n.prototype.touchHasMoved=function(n){var t=n.changedTouches[0],i=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>i||Math.abs(t.pageY-this.touchStartY)>i?!0:!1};n.prototype.onTouchMove=function(n){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(n.target)||this.touchHasMoved(n))&&(this.trackingClick=!1,this.targetElement=null),!0):!0};n.prototype.findControl=function(n){return n.control!==undefined?n.control:n.htmlFor?document.getElementById(n.htmlFor):n.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};n.prototype.onTouchEnd=function(n){var s,c,e,o,h,r=this.targetElement;if(!this.trackingClick)return!0;if(n.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(n.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=n.timeStamp,c=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,f&&(h=n.changedTouches[0],r=document.elementFromPoint(h.pageX-window.pageXOffset,h.pageY-window.pageYOffset)||r,r.fastClickScrollParent=this.targetElement.fastClickScrollParent),e=r.tagName.toLowerCase(),e==="label"){if(s=this.findControl(r),s){if(this.focus(r),i)return!1;r=s}}else if(this.needsFocus(r))return n.timeStamp-c>100||t&&window.top!==window&&e==="input"?(this.targetElement=null,!1):(this.focus(r),this.sendClick(r,n),t&&e==="select"||(this.targetElement=null,n.preventDefault()),!1);return t&&!u&&(o=r.fastClickScrollParent,o&&o.fastClickLastScrollTop!==o.scrollTop)?!0:(this.needsClick(r)||(n.preventDefault(),this.sendClick(r,n)),!1)};n.prototype.onTouchCancel=function(){this.trackingClick=!1;this.targetElement=null};n.prototype.onMouse=function(n){return this.targetElement?n.forwardedTouchEvent?!0:n.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(n.stopImmediatePropagation?n.stopImmediatePropagation():n.propagationStopped=!0,n.stopPropagation(),n.preventDefault(),!1):!0:!0:!0};n.prototype.onClick=function(n){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):n.target.type==="submit"&&n.detail===0?!0:(t=this.onMouse(n),t||(this.targetElement=null),t)};n.prototype.destroy=function(){var n=this.layer;i&&(n.removeEventListener("mouseover",this.onMouse,!0),n.removeEventListener("mousedown",this.onMouse,!0),n.removeEventListener("mouseup",this.onMouse,!0));n.removeEventListener("click",this.onClick,!0);n.removeEventListener("touchstart",this.onTouchStart,!1);n.removeEventListener("touchmove",this.onTouchMove,!1);n.removeEventListener("touchend",this.onTouchEnd,!1);n.removeEventListener("touchcancel",this.onTouchCancel,!1)};n.notNeeded=function(n){var t,r,u,f;if(typeof window.ontouchstart=="undefined")return!0;if(r=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],r)if(i){if(t=document.querySelector("meta[name=viewport]"),t&&(t.content.indexOf("user-scalable=no")!==-1||r>31&&document.documentElement.scrollWidth<=window.outerWidth))return!0}else return!0;return e&&(u=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),u[1]>=10&&u[2]>=3&&(t=document.querySelector("meta[name=viewport]"),t&&(t.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))?!0:n.style.msTouchAction==="none"||n.style.touchAction==="manipulation"?!0:(f=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],f>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(t.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))?!0:n.style.touchAction==="none"||n.style.touchAction==="manipulation"?!0:!1};n.attach=function(t,i){return new n(t,i)};typeof define=="function"&&typeof define.amd=="object"&&define.amd?define(function(){return n}):typeof module!="undefined"&&module.exports?(module.exports=n.attach,module.exports.FastClick=n):window.FastClick=n}(),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?n(require("jquery")):n(jQuery)}(function(n){function i(n){return t.raw?n:encodeURIComponent(n)}function f(n){return t.raw?n:decodeURIComponent(n)}function e(n){return i(t.json?JSON.stringify(n):String(n))}function o(n){n.indexOf('"')===0&&(n=n.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return n=decodeURIComponent(n.replace(u," ")),t.json?JSON.parse(n):n}catch(i){}}function r(i,r){var u=t.raw?i:o(i);return n.isFunction(r)?r(u):u}var u=/\+/g,t=n.cookie=function(u,o,s){var y,a,h,v,c,p;if(o!==undefined&&!n.isFunction(o))return s=n.extend({},t.defaults,s),typeof s.expires=="number"&&(y=s.expires,a=s.expires=new Date,a.setTime(+a+y*864e5)),document.cookie=[i(u),"=",e(o),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("");for(h=u?undefined:{},v=document.cookie?document.cookie.split("; "):[],c=0,p=v.length;c<p;c++){var w=v[c].split("="),b=f(w.shift()),l=w.join("=");if(u&&u===b){h=r(l,o);break}u||(l=r(l))===undefined||(h[b]=l)}return h};t.defaults={};n.removeCookie=function(t,i){return n.cookie(t)===undefined?!1:(n.cookie(t,"",n.extend({},i,{expires:-1})),!n.cookie(t))}}),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){if(!n.support.cors&&n.ajaxTransport&&window.XDomainRequest){var t=/^https?:\/\//i,i=/^get|post$/i,r=new RegExp("^"+location.protocol,"i");n.ajaxTransport("* text html xml json",function(u,f){if(u.crossDomain&&u.async&&i.test(u.type)&&t.test(u.url)&&r.test(u.url)){var e=null;return{send:function(t,i){var o="",r=(f.dataType||"").toLowerCase();e=new XDomainRequest;/^\d+$/.test(f.timeout)&&(e.timeout=f.timeout);e.ontimeout=function(){i(500,"timeout")};e.onload=function(){var o="Content-Length: "+e.responseText.length+"\r\nContent-Type: "+e.contentType,u={code:200,message:"success"},f={text:e.responseText},t;try{if(r==="html"||/text\/html/i.test(e.contentType))f.html=e.responseText;else if(r==="json"||r!=="text"&&/\/json/i.test(e.contentType))try{f.json=n.parseJSON(e.responseText)}catch(h){u.code=500;u.message="parseerror"}else if(r==="xml"||r!=="text"&&/\/xml/i.test(e.contentType)){t=new ActiveXObject("Microsoft.XMLDOM");t.async=!1;try{t.loadXML(e.responseText)}catch(h){t=undefined}if(!t||!t.documentElement||t.getElementsByTagName("parsererror").length){u.code=500;u.message="parseerror";throw"Invalid XML: "+e.responseText;}f.xml=t}}catch(s){throw s;}finally{i(u.code,u.message,f,o)}};e.onprogress=function(){};e.onerror=function(){i(500,"error",{text:e.responseText})};f.data&&(o=n.type(f.data)==="string"?f.data:n.param(f.data));e.open(u.type,u.url);e.send(o)},abort:function(){e&&e.abort()}}}})}});!function(n){function o(n){var i=n.length,r=t.type(n);return"function"===r||t.isWindow(n)?!1:1===n.nodeType&&i?!0:"array"===r||0===i||"number"==typeof i&&i>0&&i-1 in n}var t,i;if(!n.jQuery){t=function(n,i){return new t.fn.init(n,i)};t.isWindow=function(n){return null!=n&&n==n.window};t.type=function(n){return null==n?n+"":"object"==typeof n||"function"==typeof n?r[s.call(n)]||"object":typeof n};t.isArray=Array.isArray||function(n){return"array"===t.type(n)};t.isPlainObject=function(n){var i;if(!n||"object"!==t.type(n)||n.nodeType||t.isWindow(n))return!1;try{if(n.constructor&&!f.call(n,"constructor")&&!f.call(n.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}for(i in n);return void 0===i||f.call(n,i)};t.each=function(n,t,i){var u,r=0,f=n.length,e=o(n);if(i){if(e)for(;f>r&&(u=t.apply(n[r],i),u!==!1);r++);else for(r in n)if(u=t.apply(n[r],i),u===!1)break}else if(e)for(;f>r&&(u=t.call(n[r],r,n[r]),u!==!1);r++);else for(r in n)if(u=t.call(n[r],r,n[r]),u===!1)break;return n};t.data=function(n,r,u){var e,f;if(void 0===u){if(f=n[t.expando],e=f&&i[f],void 0===r)return e;if(e&&r in e)return e[r]}else if(void 0!==r)return f=n[t.expando]||(n[t.expando]=++t.uuid),i[f]=i[f]||{},i[f][r]=u,u};t.removeData=function(n,r){var u=n[t.expando],f=u&&i[u];f&&t.each(r,function(n,t){delete f[t]})};t.extend=function(){var r,e,i,f,o,s,n=arguments[0]||{},u=1,c=arguments.length,h=!1;for("boolean"==typeof n&&(h=n,n=arguments[u]||{},u++),"object"!=typeof n&&"function"!==t.type(n)&&(n={}),u===c&&(n=this,u--);c>u;u++)if(null!=(o=arguments[u]))for(f in o)r=n[f],i=o[f],n!==i&&(h&&i&&(t.isPlainObject(i)||(e=t.isArray(i)))?(e?(e=!1,s=r&&t.isArray(r)?r:[]):s=r&&t.isPlainObject(r)?r:{},n[f]=t.extend(h,s,i)):void 0!==i&&(n[f]=i));return n};t.queue=function(n,i,r){function f(n,t){var i=t||[];return null!=n&&(o(Object(n))?!function(n,t){for(var r=+t.length,i=0,u=n.length;r>i;)n[u++]=t[i++];if(r!==r)for(;void 0!==t[i];)n[u++]=t[i++];return n.length=u,n}(i,"string"==typeof n?[n]:n):[].push.call(i,n)),i}if(n){i=(i||"fx")+"queue";var u=t.data(n,i);return r?(!u||t.isArray(r)?u=t.data(n,i,f(r)):u.push(r),u):u||[]}};t.dequeue=function(n,i){t.each(n.nodeType?[n]:n,function(n,r){i=i||"fx";var f=t.queue(r,i),u=f.shift();"inprogress"===u&&(u=f.shift());u&&("fx"===i&&f.unshift("inprogress"),u.call(r,function(){t.dequeue(r,i)}))})};t.fn=t.prototype={init:function(n){if(n.nodeType)return this[0]=n,this;throw new Error("Not a DOM node.");},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(n.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(n.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function e(){for(var n=this.offsetParent||document;n&&!1&&"static"===n.style.position;)n=n.offsetParent;return n||document}var r=this[0],e=e.apply(r),n=this.offset(),i=/^(?:body|html)$/i.test(e.nodeName)?{top:0,left:0}:t(e).offset();return n.top-=parseFloat(r.style.marginTop)||0,n.left-=parseFloat(r.style.marginLeft)||0,e.style&&(i.top+=parseFloat(e.style.borderTopWidth)||0,i.left+=parseFloat(e.style.borderLeftWidth)||0),{top:n.top-i.top,left:n.left-i.left}}};i={};t.expando="velocity"+(new Date).getTime();t.uuid=0;for(var r={},f=r.hasOwnProperty,s=r.toString,e="Boolean Number String Function Array Date RegExp Object Error".split(" "),u=0;u<e.length;u++)r["[object "+e[u]+"]"]=e[u].toLowerCase();t.fn.init.prototype=t.fn;n.Velocity={Utilities:t}}}(window),function(n){"object"==typeof module&&"object"==typeof module.exports?module.exports=n():"function"==typeof define&&define.amd?define(n):n()}(function(){return function(n,t,i,r){function tt(n){for(var t,i=-1,u=n?n.length:0,r=[];++i<u;)t=n[i],t&&r.push(t);return r}function y(n){return s.isWrapped(n)?n=[].slice.call(n):s.isNode(n)&&(n=[n]),n}function e(n){var t=o.data(n,"velocity");return null===t?r:t}function it(n){return function(t){return Math.round(t*n)*(1/n)}}function p(n,i,r,u){function l(n,t){return 1-3*t+3*n}function a(n,t){return 3*t-6*n}function v(n){return 3*n}function s(n,t,i){return((l(t,i)*n+a(t,i))*n+v(t))*n}function y(n,t,i){return 3*l(t,i)*n*n+2*a(t,i)*n+v(t)}function b(t,i){for(var f,e,u=0;tt>u;++u){if(f=y(i,n,r),0===f)return i;e=s(i,n,r)-t;i-=e/f}return i}function k(){for(var t=0;e>t;++t)o[t]=s(t*h,n,r)}function d(t,i,u){var e,f,o=0;do f=i+(u-i)/2,e=s(f,n,r)-t,e>0?u=f:i=f;while(Math.abs(e)>rt&&++o<ut);return f}function g(t){for(var u=0,i=1,c=e-1;i!=c&&o[i]<=t;++i)u+=h;--i;var l=(t-o[i])/(o[i+1]-o[i]),f=u+l*h,s=y(f,n,r);return s>=it?b(t,f):0==s?f:d(t,u,u+h)}function nt(){p=!0;(n!=i||r!=u)&&k()}var tt=4,it=.001,rt=1e-7,ut=10,e=11,h=1/(e-1),ft="Float32Array"in t,f,w;if(4!==arguments.length)return!1;for(f=0;4>f;++f)if("number"!=typeof arguments[f]||isNaN(arguments[f])||!isFinite(arguments[f]))return!1;n=Math.min(n,1);r=Math.min(r,1);n=Math.max(n,0);r=Math.max(r,0);var o=ft?new Float32Array(e):new Array(e),p=!1,c=function(t){return p||nt(),n===i&&r===u?t:0===t?0:1===t?1:s(g(t),i,u)};return c.getControlPoints=function(){return[{x:n,y:i},{x:r,y:u}]},w="generateBezier("+[n,i,r,u]+")",c.toString=function(){return w},c}function w(n,t){var i=n;return s.isString(n)?f.Easings[n]||(i=!1):i=s.isArray(n)&&1===n.length?it.apply(null,n):s.isArray(n)&&2===n.length?nt.apply(null,n.concat([t])):s.isArray(n)&&4===n.length?p.apply(null,n):!1,i===!1&&(i=f.Easings[f.defaults.easing]?f.defaults.easing:g),i}function a(n){var g,h,nt,et,v,i,w,ot,k,ut,tt;if(n)for(var it=(new Date).getTime(),c=0,st=f.State.calls.length;st>c;c++)if(f.State.calls[c]){var p=f.State.calls[c],ft=p[0],t=p[2],y=p[3],ht=!!y;y||(y=f.State.calls[c][3]=it-16);for(var d=Math.min((it-y)/t.duration,1),rt=0,ct=ft.length;ct>rt;rt++)if(g=ft[rt],h=g.element,e(h)){nt=!1;t.display!==r&&null!==t.display&&"none"!==t.display&&("flex"===t.display&&(et=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],o.each(et,function(n,t){u.setPropertyValue(h,"display",t)})),u.setPropertyValue(h,"display",t.display));t.visibility!==r&&"hidden"!==t.visibility&&u.setPropertyValue(h,"visibility",t.visibility);for(v in g)if("element"!==v){if(i=g[v],ot=s.isString(i.easing)?f.Easings[i.easing]:i.easing,1===d)w=i.endValue;else if(w=i.startValue+(i.endValue-i.startValue)*ot(d),!ht&&w===i.currentValue)continue;(i.currentValue=w,u.Hooks.registered[v])&&(k=u.Hooks.getRoot(v),ut=e(h).rootPropertyValueCache[k],ut&&(i.rootPropertyValue=ut));tt=u.setPropertyValue(h,v,i.currentValue+(0===parseFloat(w)?"":i.unitType),i.rootPropertyValue,i.scrollData);u.Hooks.registered[v]&&(e(h).rootPropertyValueCache[k]=u.Normalizations.registered[k]?u.Normalizations.registered[k]("extract",null,tt[1]):tt[1]);"transform"===tt[0]&&(nt=!0)}t.mobileHA&&e(h).transformCache.translate3d===r&&(e(h).transformCache.translate3d="(0px, 0px, 0px)",nt=!0);nt&&u.flushTransformCache(h)}t.display!==r&&"none"!==t.display&&(f.State.calls[c][2].display=!1);t.visibility!==r&&"hidden"!==t.visibility&&(f.State.calls[c][2].visibility=!1);t.progress&&t.progress.call(p[1],p[1],d,Math.max(0,y+t.duration-it),y);1===d&&b(c)}f.State.isTicking&&l(a)}function b(n,t){var i,c,l,b;if(!f.State.calls[n])return!1;for(var v=f.State.calls[n][0],a=f.State.calls[n][1],s=f.State.calls[n][2],y=f.State.calls[n][4],p=!1,h=0,w=v.length;w>h;h++){if(i=v[h].element,(t||s.loop||("none"===s.display&&u.setPropertyValue(i,"display",s.display),"hidden"===s.visibility&&u.setPropertyValue(i,"visibility",s.visibility)),s.loop!==!0&&(o.queue(i)[1]===r||!/\.velocityQueueEntryFlag/i.test(o.queue(i)[1]))&&e(i))&&(e(i).isAnimating=!1,e(i).rootPropertyValueCache={},c=!1,o.each(u.Lists.transforms3D,function(n,t){var u=/^scale/.test(t)?1:0,f=e(i).transformCache[t];e(i).transformCache[t]!==r&&new RegExp("^\\("+u+"[^.]").test(f)&&(c=!0,delete e(i).transformCache[t])}),s.mobileHA&&(c=!0,delete e(i).transformCache.translate3d),c&&u.flushTransformCache(i),u.Values.removeClass(i,"velocity-animating")),!t&&s.complete&&!s.loop&&h===w-1)try{s.complete.call(a,a)}catch(k){setTimeout(function(){throw k;},1)}y&&s.loop!==!0&&y(a);s.loop!==!0||t||(o.each(e(i).tweensContainer,function(n,t){/^rotate/.test(n)&&360===parseFloat(t.endValue)&&(t.endValue=0,t.startValue=360)}),f(i,"reverse",{loop:!0,delay:s.delay}));s.queue!==!1&&o.dequeue(i,s.queue)}for(f.State.calls[n]=!1,l=0,b=f.State.calls.length;b>l;l++)if(f.State.calls[l]!==!1){p=!0;break}p===!1&&(f.State.isTicking=!1,delete f.State.calls,f.State.calls=[])}var h=function(){var n,t;if(i.documentMode)return i.documentMode;for(n=7;n>4;n--)if(t=i.createElement("div"),t.innerHTML="<!--[if IE "+n+"]><span><\/span><![endif]-->",t.getElementsByTagName("span").length)return t=null,n;return r}(),k=function(){var n=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var r=(new Date).getTime(),i;return i=Math.max(0,16-(r-n)),n=r+i,setTimeout(function(){t(r+i)},i)}}(),s={isString:function(n){return"string"==typeof n},isArray:Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)},isFunction:function(n){return"[object Function]"===Object.prototype.toString.call(n)},isNode:function(n){return n&&n.nodeType},isNodeList:function(n){return"object"==typeof n&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(n))&&n.length!==r&&(0===n.length||"object"==typeof n[0]&&n[0].nodeType>0)},isWrapped:function(n){return n&&(n.jquery||t.Zepto&&t.Zepto.zepto.isZ(n))},isSVG:function(n){return t.SVGElement&&n instanceof t.SVGElement},isEmptyObject:function(n){for(var t in n)return!1;return!0}},o,d=!1,nt,u,c,l;if(n.fn&&n.fn.jquery?(o=n,d=!0):o=t.Velocity.Utilities,8>=h&&!d)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=h)return void(jQuery.fn.velocity=jQuery.fn.animate);var v=400,g="swing",f={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:i.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:o,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:v,easing:g,begin:r,complete:r,progress:r,display:r,visibility:r,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(n){o.data(n,"velocity",{isSVG:s.isSVG(n),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:1,patch:0},debug:!1};return t.pageYOffset!==r?(f.State.scrollAnchor=t,f.State.scrollPropertyLeft="pageXOffset",f.State.scrollPropertyTop="pageYOffset"):(f.State.scrollAnchor=i.documentElement||i.body.parentNode||i.body,f.State.scrollPropertyLeft="scrollLeft",f.State.scrollPropertyTop="scrollTop"),nt=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function n(n,i,r){var u={x:n.x+r.dx*i,v:n.v+r.dv*i,tension:n.tension,friction:n.friction};return{dx:u.v,dv:t(u)}}function i(i,r){var u={dx:i.v,dv:t(i)},f=n(i,.5*r,u),e=n(i,.5*r,f),o=n(i,r,e),s=1/6*(u.dx+2*(f.dx+e.dx)+o.dx),h=1/6*(u.dv+2*(f.dv+e.dv)+o.dv);return i.x=i.x+s*r,i.v=i.v+h*r,i}return function r(n,t,u){var o={x:-1,v:0,tension:null,friction:null},s=[0],e=0,l=.0001,a=.016,h,c,f;for(n=parseFloat(n)||500,t=parseFloat(t)||20,u=u||null,o.tension=n,o.friction=t,h=null!==u,h?(e=r(n,t),c=e/u*a):c=a;;)if(f=i(f||o,c),s.push(1+f.x),e+=16,!(Math.abs(f.x)>l&&Math.abs(f.v)>l))break;return h?function(n){return s[n*(s.length-1)|0]}:e}}(),f.Easings={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2},spring:function(n){return 1-Math.cos(4.5*n*Math.PI)*Math.exp(6*-n)}},o.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(n,t){f.Easings[t[0]]=p.apply(null,t[1])}),u=f.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e,i,r,t,f,o,s,n=0;n<u.Lists.colors.length;n++)e="color"===u.Lists.colors[n]?"0 0 0 1":"255 255 255 1",u.Hooks.templates[u.Lists.colors[n]]=["Red Green Blue Alpha",e];if(h)for(i in u.Hooks.templates)r=u.Hooks.templates[i],t=r[0].split(" "),f=r[1].match(u.RegEx.valueSplit),"Color"===t[0]&&(t.push(t.shift()),f.push(f.shift()),u.Hooks.templates[i]=[t.join(" "),f.join(" ")]);for(i in u.Hooks.templates){r=u.Hooks.templates[i];t=r[0].split(" ");for(n in t)o=i+t[n],s=n,u.Hooks.registered[o]=[i,s]}},getRoot:function(n){var t=u.Hooks.registered[n];return t?t[0]:n},cleanRootPropertyValue:function(n,t){return u.RegEx.valueUnwrap.test(t)&&(t=t.match(u.RegEx.valueUnwrap)[1]),u.Values.isCSSNullValue(t)&&(t=u.Hooks.templates[n][1]),t},extractValue:function(n,t){var i=u.Hooks.registered[n],r,f;return i?(r=i[0],f=i[1],t=u.Hooks.cleanRootPropertyValue(r,t),t.toString().match(u.RegEx.valueSplit)[f]):t},injectValue:function(n,t,i){var r=u.Hooks.registered[n],e,o,f,s;return r?(e=r[0],o=r[1],i=u.Hooks.cleanRootPropertyValue(e,i),f=i.toString().match(u.RegEx.valueSplit),f[o]=t,s=f.join(" ")):i}},Normalizations:{registered:{clip:function(n,t,i){switch(n){case"name":return"clip";case"extract":var r;return u.RegEx.wrappedValueAlreadyExtracted.test(i)?r=i:(r=i.toString().match(u.RegEx.valueUnwrap),r=r?r[1].replace(/,(\s+)?/g," "):i),r;case"inject":return"rect("+i+")"}},blur:function(n,t,i){var r,u;switch(n){case"name":return"-webkit-filter";case"extract":return r=parseFloat(i),r||0===r||(u=i.toString().match(/blur\(([0-9]+[A-z]+)\)/i),r=u?u[1]:0),r;case"inject":return parseFloat(i)?"blur("+i+")":"none"}},opacity:function(n,t,i){if(8>=h)switch(n){case"name":return"filter";case"extract":var r=i.toString().match(/alpha\(opacity=(.*)\)/i);return r?r[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(i)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(i),10)+")"}else switch(n){case"name":return"opacity";case"extract":return i;case"inject":return i}}},register:function(){var n;for(9>=h||f.State.isGingerbread||(u.Lists.transformsBase=u.Lists.transformsBase.concat(u.Lists.transforms3D)),n=0;n<u.Lists.transformsBase.length;n++)!function(){var t=u.Lists.transformsBase[n];u.Normalizations.registered[t]=function(n,i,u){switch(n){case"name":return"transform";case"extract":return e(i)===r||e(i).transformCache[t]===r?/^scale/i.test(t)?1:0:e(i).transformCache[t].replace(/[()]/g,"");case"inject":var o=!1;switch(t.substr(0,t.length-1)){case"translate":o=!/(%|px|em|rem|vw|vh|\d)$/i.test(u);break;case"scal":case"scale":f.State.isAndroid&&e(i).transformCache[t]===r&&1>u&&(u=1);o=!/(\d)$/i.test(u);break;case"skew":o=!/(deg|\d)$/i.test(u);break;case"rotate":o=!/(deg|\d)$/i.test(u)}return o||(e(i).transformCache[t]="("+u+")"),e(i).transformCache[t]}}}();for(n=0;n<u.Lists.colors.length;n++)!function(){var t=u.Lists.colors[n];u.Normalizations.registered[t]=function(n,i,f){var e,s,o;switch(n){case"name":return t;case"extract":return u.RegEx.wrappedValueAlreadyExtracted.test(f)?e=f:(o={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"},/^[A-z]+$/i.test(f)?s=o[f]!==r?o[f]:o.black:u.RegEx.isHex.test(f)?s="rgb("+u.Values.hexToRgb(f).join(" ")+")":/^rgba?\(/i.test(f)||(s=o.black),e=(s||f).toString().match(u.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")),8>=h||3!==e.split(" ").length||(e+=" 1"),e;case"inject":return 8>=h?4===f.split(" ").length&&(f=f.split(/\s+/).slice(0,3).join(" ")):3===f.split(" ").length&&(f+=" 1"),(8>=h?"rgb":"rgba")+"("+f.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(n){return n.replace(/-(\w)/g,function(n,t){return t.toUpperCase()})},SVGAttribute:function(n){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(h||f.State.isAndroid&&!f.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(n)},prefixCheck:function(n){var i;if(f.State.prefixMatches[n])return[f.State.prefixMatches[n],!0];for(var r=["","Webkit","Moz","ms","O"],t=0,u=r.length;u>t;t++)if(i=0===t?n:r[t]+n.replace(/^\w/,function(n){return n.toUpperCase()}),s.isString(f.State.prefixElement.style[i]))return f.State.prefixMatches[n]=i,[i,!0];return[n,!1]}},Values:{hexToRgb:function(n){var t;return n=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,t,i,r){return t+t+i+i+r+r}),t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(n){return 0==n||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(n)},getUnitType:function(n){return/^(rotate|skew)/i.test(n)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(n)?"":"px"},getDisplayType:function(n){var t=n&&n.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":"block"},addClass:function(n,t){n.classList?n.classList.add(t):n.className+=(n.className.length?" ":"")+t},removeClass:function(n,t){n.classList?n.classList.remove(t):n.className=n.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(n,i,s,c){function y(n,i){function l(){a&&u.setPropertyValue(n,"display","none")}var s=0,a,w,b,v,p;if(8>=h)s=o.css(n,i);else{if(a=!1,/^(width|height)$/.test(i)&&0===u.getPropertyValue(n,"display")&&(a=!0,u.setPropertyValue(n,"display",u.Values.getDisplayType(n))),!c){if("height"===i&&"border-box"!==u.getPropertyValue(n,"boxSizing").toString().toLowerCase())return w=n.offsetHeight-(parseFloat(u.getPropertyValue(n,"borderTopWidth"))||0)-(parseFloat(u.getPropertyValue(n,"borderBottomWidth"))||0)-(parseFloat(u.getPropertyValue(n,"paddingTop"))||0)-(parseFloat(u.getPropertyValue(n,"paddingBottom"))||0),l(),w;if("width"===i&&"border-box"!==u.getPropertyValue(n,"boxSizing").toString().toLowerCase())return b=n.offsetWidth-(parseFloat(u.getPropertyValue(n,"borderLeftWidth"))||0)-(parseFloat(u.getPropertyValue(n,"borderRightWidth"))||0)-(parseFloat(u.getPropertyValue(n,"paddingLeft"))||0)-(parseFloat(u.getPropertyValue(n,"paddingRight"))||0),l(),b}v=e(n)===r?t.getComputedStyle(n,null):e(n).computedStyle?e(n).computedStyle:e(n).computedStyle=t.getComputedStyle(n,null);(h||f.State.isFirefox)&&"borderColor"===i&&(i="borderTopColor");s=9===h&&"filter"===i?v.getPropertyValue(i):v[i];(""===s||null===s)&&(s=n.style[i]);l()}return"auto"===s&&/^(top|right|bottom|left)$/i.test(i)&&(p=y(n,"position"),("fixed"===p||"absolute"===p&&/top|left/i.test(i))&&(s=o(n).position()[i]+"px")),s}var l,p,a,w,v;return u.Hooks.registered[i]?(p=i,a=u.Hooks.getRoot(p),s===r&&(s=u.getPropertyValue(n,u.Names.prefixCheck(a)[0])),u.Normalizations.registered[a]&&(s=u.Normalizations.registered[a]("extract",n,s)),l=u.Hooks.extractValue(p,s)):u.Normalizations.registered[i]&&(w=u.Normalizations.registered[i]("name",n),"transform"!==w&&(v=y(n,u.Names.prefixCheck(w)[0]),u.Values.isCSSNullValue(v)&&u.Hooks.templates[i]&&(v=u.Hooks.templates[i][1])),l=u.Normalizations.registered[i]("extract",n,v)),/^[\d-]/.test(l)||(l=e(n)&&e(n).isSVG&&u.Names.SVGAttribute(i)?/^(height|width)$/i.test(i)?n.getBBox()[i]:n.getAttribute(i):y(n,u.Names.prefixCheck(i)[0])),u.Values.isCSSNullValue(l)&&(l=0),f.debug>=2&&console.log("Get "+i+": "+l),l},setPropertyValue:function(n,i,r,o,s){var c=i,a,l;if("scroll"===i)s.container?s.container["scroll"+s.direction]=r:"Left"===s.direction?t.scrollTo(r,s.alternateValue):t.scrollTo(s.alternateValue,r);else if(u.Normalizations.registered[i]&&"transform"===u.Normalizations.registered[i]("name",n))u.Normalizations.registered[i]("inject",n,r),c="transform",r=e(n).transformCache[i];else{if(u.Hooks.registered[i]&&(a=i,l=u.Hooks.getRoot(i),o=o||u.getPropertyValue(n,l),r=u.Hooks.injectValue(a,r,o),i=l),u.Normalizations.registered[i]&&(r=u.Normalizations.registered[i]("inject",n,r),i=u.Normalizations.registered[i]("name",n)),c=u.Names.prefixCheck(i)[0],8>=h)try{n.style[c]=r}catch(v){f.debug&&console.log("Browser does not support ["+r+"] for ["+c+"]")}else e(n)&&e(n).isSVG&&u.Names.SVGAttribute(i)?n.setAttribute(i,r):n.style[c]=r;f.debug>=2&&console.log("Set "+i+" ("+c+"): "+r)}return[c,r]},flushTransformCache:function(n){function t(t){return parseFloat(u.getPropertyValue(n,t))}var i="",r,s,c;(h||f.State.isAndroid&&!f.State.isChrome)&&e(n).isSVG?(r={translate:[t("translateX"),t("translateY")],skewX:[t("skewX")],skewY:[t("skewY")],scale:1!==t("scale")?[t("scale"),t("scale")]:[t("scaleX"),t("scaleY")],rotate:[t("rotateZ"),0,0]},o.each(e(n).transformCache,function(n){/^translate/i.test(n)?n="translate":/^scale/i.test(n)?n="scale":/^rotate/i.test(n)&&(n="rotate");r[n]&&(i+=n+"("+r[n].join(" ")+") ",delete r[n])})):(o.each(e(n).transformCache,function(t){return s=e(n).transformCache[t],"transformPerspective"===t?(c=s,!0):(9===h&&"rotateZ"===t&&(t="rotate"),void(i+=t+s+" "))}),c&&(i="perspective"+c+" "+i));u.setPropertyValue(n,"transform",i)}},u.Hooks.register(),u.Normalizations.register(),f.hook=function(n,t,i){var u=r;return n=y(n),o.each(n,function(n,o){if(e(o)===r&&f.init(o),i===r)u===r&&(u=f.CSS.getPropertyValue(o,t));else{var s=f.CSS.setPropertyValue(o,t,i);"transform"===s[0]&&f.CSS.flushTransformCache(o);u=s}}),u},c=function(){function et(){return ot?d.promise||null:yt}function bt(){function g(){function gt(t,i){var f=r,o=r,e=r;return s.isArray(t)?(f=t[0],!s.isArray(t[1])&&/^[\d-]/.test(t[1])||s.isFunction(t[1])||u.RegEx.isHex.test(t[1])?e=t[1]:(s.isString(t[1])&&!u.RegEx.isHex.test(t[1])||s.isArray(t[1]))&&(o=i?t[1]:w(t[1],n.duration),t[2]!==r&&(e=t[2]))):f=t,i||(o=o||n.easing),s.isFunction(f)&&(f=f.call(c,it,nt)),s.isFunction(e)&&(e=e.call(c,it,nt)),[f||0,o,e]}function ni(n,t){var i,r;return r=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(n){return i=n,""}),i||(i=u.Values.getUnitType(n)),[r,i]}function ri(){var s={myParent:c.parentNode||i.body,position:u.getPropertyValue(c,"position"),fontSize:u.getPropertyValue(c,"fontSize")},a=s.position===h.lastPosition&&s.myParent===h.lastParent,v=s.fontSize===h.lastFontSize,l,r,n;return h.lastParent=s.myParent,h.lastPosition=s.position,h.lastFontSize=s.fontSize,l=100,r={},v&&a?(r.emToPx=h.lastEmToPx,r.percentToPxWidth=h.lastPercentToPxWidth,r.percentToPxHeight=h.lastPercentToPxHeight):(n=e(c).isSVG?i.createElementNS("http://www.w3.org/2000/svg","rect"):i.createElement("div"),f.init(n),s.myParent.appendChild(n),o.each(["overflow","overflowX","overflowY"],function(t,i){f.CSS.setPropertyValue(n,i,"hidden")}),f.CSS.setPropertyValue(n,"position",s.position),f.CSS.setPropertyValue(n,"fontSize",s.fontSize),f.CSS.setPropertyValue(n,"boxSizing","content-box"),o.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(t,i){f.CSS.setPropertyValue(n,i,l+"%")}),f.CSS.setPropertyValue(n,"paddingLeft",l+"em"),r.percentToPxWidth=h.lastPercentToPxWidth=(parseFloat(u.getPropertyValue(n,"width",null,!0))||1)/l,r.percentToPxHeight=h.lastPercentToPxHeight=(parseFloat(u.getPropertyValue(n,"height",null,!0))||1)/l,r.emToPx=h.lastEmToPx=(parseFloat(u.getPropertyValue(n,"paddingLeft"))||1)/l,s.myParent.removeChild(n)),null===h.remToPx&&(h.remToPx=parseFloat(u.getPropertyValue(i.body,"fontSize"))||16),null===h.vwToPx&&(h.vwToPx=parseFloat(t.innerWidth)/100,h.vhToPx=parseFloat(t.innerHeight)/100),r.remToPx=h.remToPx,r.vwToPx=h.vwToPx,r.vhToPx=h.vhToPx,f.debug>=1&&console.log("Unit ratios: "+JSON.stringify(r),c),r}var st,wt,yt,ti,bt,ot,ii,ft,v,ht,ct,at,et,vt,pt,dt;if(n.begin&&0===it)try{n.begin.call(l,l)}catch(ui){setTimeout(function(){throw ui;},1)}if("scroll"===rt)st=/^x$/i.test(n.axis)?"Left":"Top",wt=parseFloat(n.offset)||0,n.container?s.isWrapped(n.container)||s.isNode(n.container)?(n.container=n.container[0]||n.container,yt=n.container["scroll"+st],bt=yt+o(c).position()[st.toLowerCase()]+wt):n.container=null:(yt=f.State.scrollAnchor[f.State["scrollProperty"+st]],ti=f.State.scrollAnchor[f.State["scrollProperty"+("Left"===st?"Top":"Left")]],bt=o(c).offset()[st.toLowerCase()]+wt),y={scroll:{rootPropertyValue:!1,startValue:yt,currentValue:yt,endValue:bt,unitType:"",easing:n.easing,scrollData:{container:n.container,direction:st,alternateValue:ti}},element:c},f.debug&&console.log("tweensContainer (scroll): ",y.scroll,c);else if("reverse"===rt){if(!e(c).tweensContainer)return void o.dequeue(c,n.queue);"none"===e(c).opts.display&&(e(c).opts.display="auto");"hidden"===e(c).opts.visibility&&(e(c).opts.visibility="visible");e(c).opts.loop=!1;e(c).opts.begin=null;e(c).opts.complete=null;p.easing||delete n.easing;p.duration||delete n.duration;n=o.extend({},e(c).opts,n);ft=o.extend(!0,{},e(c).tweensContainer);for(ot in ft)"element"!==ot&&(ii=ft[ot].startValue,ft[ot].startValue=ft[ot].currentValue=ft[ot].endValue,ft[ot].endValue=ii,s.isEmptyObject(p)||(ft[ot].easing=n.easing),f.debug&&console.log("reverse tweensContainer ("+ot+"): "+JSON.stringify(ft[ot]),c));y=ft}else if("start"===rt){e(c).tweensContainer&&e(c).isAnimating===!0&&(ft=e(c).tweensContainer);o.each(k,function(n,t){var f;if(RegExp("^"+u.Lists.colors.join("$|^")+"$").test(n)){var e=gt(t,!0),o=e[0],s=e[1],h=e[2];if(u.RegEx.isHex.test(o)){for(var c=["Red","Green","Blue"],a=u.Values.hexToRgb(o),l=h?u.Values.hexToRgb(h):r,i=0;i<c.length;i++)f=[a[i]],s&&f.push(s),l!==r&&f.push(l[i]),k[n+c[i]]=f;delete k[n]}}});for(v in k){var kt=gt(k[v]),ut=kt[0],fi=kt[1],g=kt[2];if(v=u.Names.camelCase(v),ht=u.Hooks.getRoot(v),ct=!1,e(c).isSVG||u.Names.prefixCheck(ht)[1]!==!1||u.Normalizations.registered[ht]!==r){if((n.display!==r&&null!==n.display&&"none"!==n.display||n.visibility!==r&&"hidden"!==n.visibility)&&/opacity|filter/.test(v)&&!g&&0!==ut&&(g=0),n._cacheValues&&ft&&ft[v]?(g===r&&(g=ft[v].endValue+ft[v].unitType),ct=e(c).rootPropertyValueCache[ht]):u.Hooks.registered[v]?g===r?(ct=u.getPropertyValue(c,ht),g=u.getPropertyValue(c,v,ct)):ct=u.Hooks.templates[ht][1]:g===r&&(g=u.getPropertyValue(c,v)),pt=!1,at=ni(v,g),g=at[0],vt=at[1],at=ni(v,ut),ut=at[0].replace(/^([+-\/*])=/,function(n,t){return pt=t,""}),et=at[1],g=parseFloat(g)||0,ut=parseFloat(ut)||0,"%"===et&&(/^(fontSize|lineHeight)$/.test(v)?(ut/=100,et="em"):/^scale/.test(v)?(ut/=100,et=""):/(Red|Green|Blue)$/i.test(v)&&(ut=ut/100*255,et="")),/[\/*]/.test(pt))et=vt;else if(vt!==et&&0!==g)if(0===ut)et=vt;else{b=b||ri();dt=/margin|padding|left|right|width|text|word|letter/i.test(v)||/X$/.test(v)||"x"===v?"x":"y";switch(vt){case"%":g*="x"===dt?b.percentToPxWidth:b.percentToPxHeight;break;case"px":break;default:g*=b[vt+"ToPx"]}switch(et){case"%":g*=1/("x"===dt?b.percentToPxWidth:b.percentToPxHeight);break;case"px":break;default:g*=1/b[et+"ToPx"]}}switch(pt){case"+":ut=g+ut;break;case"-":ut=g-ut;break;case"*":ut=g*ut;break;case"/":ut=g/ut}y[v]={rootPropertyValue:ct,startValue:g,currentValue:g,endValue:ut,unitType:et,easing:fi};f.debug&&console.log("tweensContainer ("+v+"): "+JSON.stringify(y[v]),c)}else f.debug&&console.log("Skipping ["+ht+"] due to a lack of browser support.")}y.element=c}y.element&&(u.Values.addClass(c,"velocity-animating"),lt.push(y),""===n.queue&&(e(c).tweensContainer=y,e(c).opts=n),e(c).isAnimating=!0,it===nt-1?(f.State.calls.length>1e4&&(f.State.calls=tt(f.State.calls)),f.State.calls.push([lt,l,n,null,d.resolver]),f.State.isTicking===!1&&(f.State.isTicking=!0,a())):it++)}var c=this,n=o.extend({},f.defaults,p),y={},b;switch(e(c)===r&&f.init(c),parseFloat(n.delay)&&n.queue!==!1&&o.queue(c,n.queue,function(t){f.velocityQueueEntryFlag=!0;e(c).delayTimer={setTimeout:setTimeout(t,parseFloat(n.delay)),next:t}}),n.duration.toString().toLowerCase()){case"fast":n.duration=200;break;case"normal":n.duration=v;break;case"slow":n.duration=600;break;default:n.duration=parseFloat(n.duration)||1}f.mock!==!1&&(f.mock===!0?n.duration=n.delay=1:(n.duration*=parseFloat(f.mock)||1,n.delay*=parseFloat(f.mock)||1));n.easing=w(n.easing,n.duration);n.begin&&!s.isFunction(n.begin)&&(n.begin=null);n.progress&&!s.isFunction(n.progress)&&(n.progress=null);n.complete&&!s.isFunction(n.complete)&&(n.complete=null);n.display!==r&&null!==n.display&&(n.display=n.display.toString().toLowerCase(),"auto"===n.display&&(n.display=f.CSS.Values.getDisplayType(c)));n.visibility!==r&&null!==n.visibility&&(n.visibility=n.visibility.toString().toLowerCase());n.mobileHA=n.mobileHA&&f.State.isMobile&&!f.State.isGingerbread;n.queue===!1?n.delay?setTimeout(g,n.delay):g():o.queue(c,n.queue,function(n,t){return t===!0?(d.promise&&d.resolver(l),!0):(f.velocityQueueEntryFlag=!0,void g(n))});""!==n.queue&&"fx"!==n.queue||"inprogress"===o.queue(c)[0]||o.dequeue(c)}var vt=arguments[0]&&(o.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||s.isString(arguments[0].properties)),ot,yt,ut,l,k,p,nt,it,pt,g,d,rt,ht,ct,h,lt,n,at,st,ft;if(s.isWrapped(this)?(ot=!1,ut=0,l=this,yt=this):(ot=!0,ut=1,l=vt?arguments[0].elements:arguments[0]),l=y(l)){if(vt?(k=arguments[0].properties,p=arguments[0].options):(k=arguments[ut],p=arguments[ut+1]),nt=l.length,it=0,"stop"!==k&&!o.isPlainObject(p))for(pt=ut+1,p={},g=pt;g<arguments.length;g++)s.isArray(arguments[g])||!/^(fast|normal|slow)$/i.test(arguments[g])&&!/^\d/.test(arguments[g])?s.isString(arguments[g])||s.isArray(arguments[g])?p.easing=arguments[g]:s.isFunction(arguments[g])&&(p.complete=arguments[g]):p.duration=arguments[g];d={promise:null,resolver:null,rejecter:null};ot&&f.Promise&&(d.promise=new f.Promise(function(n,t){d.resolver=n;d.rejecter=t}));switch(k){case"scroll":rt="scroll";break;case"reverse":rt="reverse";break;case"stop":return o.each(l,function(n,t){e(t)&&e(t).delayTimer&&(clearTimeout(e(t).delayTimer.setTimeout),e(t).delayTimer.next&&e(t).delayTimer.next(),delete e(t).delayTimer)}),ht=[],o.each(f.State.calls,function(n,t){t&&o.each(t[1],function(i,u){var f=s.isString(p)?p:"";return p!==r&&t[2].queue!==f?!0:void o.each(l,function(t,i){i===u&&(p!==r&&(o.each(o.queue(i,f),function(n,t){s.isFunction(t)&&t(null,!0)}),o.queue(i,f,[])),e(i)&&""===f&&o.each(e(i).tweensContainer,function(n,t){t.endValue=t.currentValue}),ht.push(n))})})}),o.each(ht,function(n,t){b(t,!0)}),d.promise&&d.resolver(l),et();default:if(!o.isPlainObject(k)||s.isEmptyObject(k)){if(s.isString(k)&&f.Redirects[k]){var n=o.extend({},p),kt=n.duration,wt=n.delay||0;return n.backwards===!0&&(l=o.extend(!0,[],l).reverse()),o.each(l,function(t,i){parseFloat(n.stagger)?n.delay=wt+parseFloat(n.stagger)*t:s.isFunction(n.stagger)&&(n.delay=wt+n.stagger.call(i,t,nt));n.drag&&(n.duration=parseFloat(kt)||(/^(callout|transition)/.test(k)?1e3:v),n.duration=Math.max(n.duration*(n.backwards?1-t/nt:(t+1)/nt),.75*n.duration,200));f.Redirects[k].call(i,i,n||{},t,nt,l,d.promise?d:r)}),et()}return ct="Velocity: First argument ("+k+") was not a property map, a known action, or a registered redirect. Aborting.",d.promise?d.rejecter(new Error(ct)):console.log(ct),et()}rt="start"}if(h={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},lt=[],o.each(l,function(n,t){s.isNode(t)&&bt.call(t)}),n=o.extend({},f.defaults,p),n.loop=parseInt(n.loop),at=2*n.loop-1,n.loop)for(st=0;at>st;st++)ft={delay:n.delay,progress:n.progress},st===at-1&&(ft.display=n.display,ft.visibility=n.visibility,ft.complete=n.complete),c(l,"reverse",ft);return et()}},f=o.extend(c,f),f.animate=c,l=t.requestAnimationFrame||k,f.State.isMobile||i.hidden===r||i.addEventListener("visibilitychange",function(){i.hidden?(l=function(n){return setTimeout(function(){n(!0)},16)},a()):l=t.requestAnimationFrame||k}),n.Velocity=f,n!==t&&(n.fn.velocity=c,n.fn.velocity.defaults=f.defaults),o.each(["Down","Up"],function(n,t){f.Redirects["slide"+t]=function(n,i,u,e,s,h){var c=o.extend({},i),v=c.begin,y=c.complete,a={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},l={};c.display===r&&(c.display="Down"===t?"inline"===f.CSS.Values.getDisplayType(n)?"inline-block":"block":"none");c.begin=function(){var i,r;v&&v.call(s,s);for(i in a)l[i]=n.style[i],r=f.CSS.getPropertyValue(n,i),a[i]="Down"===t?[r,0]:[0,r];l.overflow=n.style.overflow;n.style.overflow="hidden"};c.complete=function(){for(var t in l)n.style[t]=l[t];y&&y.call(s,s);h&&h.resolver(s)};f(n,a,c)}}),o.each(["In","Out"],function(n,t){f.Redirects["fade"+t]=function(n,i,u,e,s,h){var c=o.extend({},i),a={opacity:"In"===t?1:0},l=c.complete;c.complete=u!==e-1?c.begin=null:function(){l&&l.call(s,s);h&&h.resolver(s)};c.display===r&&(c.display="In"===t?"auto":"none");f(this,a,c)}}),f}(window.jQuery||window.Zepto||window,window,document)}),function(n,t,i,r,u,f,e){n.GoogleAnalyticsObject=u;n[u]=n[u]||function(){(n[u].q=n[u].q||[]).push(arguments)};n[u].l=1*new Date;f=t.createElement(i);e=t.getElementsByTagName(i)[0];f.async=1;f.src=r;e.parentNode.insertBefore(f,e)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),function(n){var t;(function(n){var t=function(){function n(){this.formattingCharacterRegEx=/\.| /g}return n.prototype.trimAccountNumber=function(n){return n.replace(this.formattingCharacterRegEx,"")},n.prototype.prettyprint=function(n){var t=n.replace(this.formattingCharacterRegEx,"");return t.length==11?t.substring(0,4)+" "+t.substring(4,6)+" "+t.substring(6):n},n}();n.AccountNumber=t})(t=n.util||(n.util={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t=function(){function n(n){this.input=n;this.fractionPart=null;this._value=n.trimEnd(",").toNumber();this.setParts()}return Object.defineProperty(n.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),n.prototype.toString=function(){return this.shouldFormatInput()?this._value.toCurrency():this.input},n.prototype.setValue=function(n){this._value=n;this.setParts()},n.prototype.getValue=function(){return this._value},n.prototype.isValidIntegerPart=function(){var n=this.integerPart.strip();return/^\-?\d+$/.test(n)},n.prototype.setParts=function(){if(!this.shouldFormatInput()){this.integerPart=this.input;return}var t=this.toString(),n=t.split(",");this.integerPart=n[0];this.fractionPart=this.hasFraction()?n[1]:null},n.prototype.shouldFormatInput=function(){if(this._value===null)return!1;var n=this.input.split(",");return n.length===1||n.length===2&&n[1].strip().length<=2},n.prototype.hasFraction=function(){var n=this.input.split(",");return n.length===2&&n[1].length>0},n}();n.Amount=t})(t=n.lib||(n.lib={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t=function(){function t(){}return t.scrollTo=function(n){var t=$(n);if($("body").data("autoscroll")!==!1&&t.closest("body").length>0){var u=(new Date).getTime(),i=600,r=function(n){var t=(new Date).getTime();t<u+i&&(n.preventDefault(),n.stopImmediatePropagation())};$(document).on("click","a",r);setTimeout(function(){$(document).off("click","a",r)},i);t.velocity("scroll",500)}},t.scrollToOnPhone=function(i){n.Breakpoint.isCurrentBreakpointLargerThanPhone()||t.scrollTo(i)},t}();n.AutoScroll=t})(t=n.lib||(n.lib={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t=function(){function n(){}return n.getCurrentBreakpoint=function(){return window.getComputedStyle(document.body,":after").getPropertyValue("content").replace(/["']/g,"")},n.isCurrentBreakpointLargerThanPhone=function(){return n.breakpoints[n.getCurrentBreakpoint()]>n.breakpoints.breakpoint_phone},n.isCurrentBreakpointLargerThanTablet=function(){return n.breakpoints[n.getCurrentBreakpoint()]>n.breakpoints.breakpoint_tablet},n.breakpoints={breakpoint_smallphone:1,breakpoint_phone:2,breakpoint_tablet:3,breakpoint_desktop:4},n}();n.Breakpoint=t})(t=n.lib||(n.lib={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t=function(){function n(){}return n.resetInputField=function(n,t){return t===void 0&&(t=!1),n.val(""),$.validator.clearState(n),t&&n.focus(),n},n}();n.ClearField=t})(t=n.lib||(n.lib={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t=function(){function n(){}return n.prototype.completeDate=function(n){var r=n,f=n.strip(",./s"),t=this.getDay(f),i=this.getMonth(f),u=this.getYear(f);return this.isValidDay(t)&&this.isValidMonth(i)&&this.isValidYear(u)?r=this.autocompleteDateInput(n,t,i,u):this.isValidDay(t)&&this.isValidMonth(i)&&u===undefined?r=this.autocompleteDayAndMonthInput(n,t,i):this.isValidDay(t)&&i===undefined&&u===undefined&&(r=this.autocompleteDayInput(n,t)),r},n.prototype.completeDateWithOnlyDayInput=function(n,t){var r=this,i=this.getDay(n.trim()),u=undefined;return this.isValidDay(i)&&(u=r.shouldAdvanceOneMonth(i,t)?r.autocompleteDateInput(n,i,t.getMonth()+1,t.getFullYear()):this.autocompleteDayInput(n,i)),u},n.prototype.shouldAdvanceOneMonth=function(n,t){var i=new Date;return t.getMonth()<i.getMonth()?!1:n<t.getDate()?!0:!1},n.prototype.autocompleteDayInput=function(n,t){var i=new Date;return this.autocompleteDateInput(n,t,i.getMonth(),i.getFullYear())},n.prototype.autocompleteDayAndMonthInput=function(n,t,i){var r=new Date;return this.autocompleteDateInput(n,t,i,r.getFullYear())},n.prototype.autocompleteDateInput=function(n,t,i,r){if(t<=this.getDaysInMonth(i,r)){var u=new Date(r,i,t);return Globalize.format(u,"d")}return n},n.prototype.isValidDay=function(n){return n!=undefined&&!isNaN(n)&&n>0&&n<=31?!0:!1},n.prototype.isValidMonth=function(n){return n!=undefined&&!isNaN(n)&&n>=0&&n<=11?!0:!1},n.prototype.isValidYear=function(n){return n!=undefined&&!isNaN(n)?!0:!1},n.prototype.getDay=function(n){return n.length>=1&&n.length<=8?n.length===1?parseInt(n,10):parseInt(n.substr(0,2),10):undefined},n.prototype.getMonth=function(n){return n.length>=4&&n.length<=8?parseInt(n.substr(2,2),10)-1:undefined},n.prototype.getYear=function(n){if(n.length==6||n.length==8){var t=parseInt(n.substr(4),10);return t<100&&(t+=2e3),t}return undefined},n.prototype.getDaysInMonth=function(n,t){return n===void 0&&(n=(new Date).getMonth()),t===void 0&&(t=(new Date).getFullYear()),new Date(t,n+1,0).getDate()},n.prototype.isToday=function(n){var t=new Date;return t.getDate()===n.getDate()&&t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()},n.prototype.isWeekendOrHoliday=function(n,t){if(n.getDay()===0||n.getDay()===6)return!0;var i=n.getFullYear().toString();return i=n.getMonth()+1<10?i+"0"+(n.getMonth()+1).toString():i+(n.getMonth()+1).toString(),i=n.getDate()<10?i+"0"+n.getDate().toString():i+n.getDate().toString(),t.indexOf(i)!==-1},n.prototype.getFistValidDate=function(n,t){for(;;)if(n.setDate(n.getDate()+1),!this.isWeekendOrHoliday(n,t))return n},n.prototype.isAfterTime=function(n,t){var i=new Date;return i.setHours(n,t,0,0),new Date>i},n.prototype.formatDateToString=function(n){var t=n.getMonth()+1,i=n.getDate();return(i<10?"0":"")+i+"."+(t<10?"0":"")+t+"."+n.getFullYear()},n.prototype.formatStringToDate=function(n){var t=n.split(".");return new Date(t[2].toNumber(),t[1].toNumber()-1,t[0].toNumber())},n}();n.DateUtils=t})(t=n.lib||(n.lib={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t=function(){function n(){}return n.prototype.addClicker=function(n,t){n.addEventListener("click",function(i){t(n.href);history.pushState(null,null,n.href);i.preventDefault()},!1)},n.prototype.isHistoryApiSupported=function(){return!!(window.history&&history.pushState)},n}();n.HistoryApi=t})(t=n.lib||(n.lib={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t=function(){function n(){}return n.prototype.checkModulus10=function(n){var r,u,t,i,f;if(!/^\d+$/.test(n))return!1;for(r=[],t=n.length-2;t>=0;t=t-2)r.push(2*n[t]);for(u=0,t=n.length%2==0?1:0;t<n.length;t=t+2)u+=parseInt(n[t]);for(t=0;t<r.length;t++)for(i=r[t];i!=0;)f=i%10,i=parseInt(i/10+""),u+=f;return u%10==0?!0:!1},n.prototype.checkModulus11=function(n){var o=[2,3,4,5,6,7],t=n.split(""),u,i,r,e,f;if(t.length<=2)return!1;for(u=0,i=t[t.length-1],i=="-"&&(i=10),r=t.length-2;r>=0;r--)e=t.length-2-r,u+=t[r]*o[e%6];return(f=11-u%11,f==11&&(f=0),f==i||u%11==10&&"-"==i)?!0:!1},n}();n.ModUtils=t})(t=n.lib||(n.lib={}))}(skbn||(skbn={})),function(n){var t;(function(){Number.prototype.toNumber||(Number.prototype.toNumber=function(){return this});Number.prototype.toCurrency||(Number.prototype.toCurrency=function(){var t=this.round(2),r=t.length-3,n,i,u;for(this<0&&r--,n=r%3,n===0&&(n=3),this<0&&n++,i=0,u=Math.ceil(r/3)-1;i<u;i++)t=t.insertAt(i*4+n," ");return t});Number.prototype.round||(Number.prototype.round=function(n){var u,t,f,r,i;return(n||(n=0),u=Math.pow(10,n),1/this.valueOf()===Number.POSITIVE_INFINITY)?"0,"+u.toString().substr(1):1/this.valueOf()===Number.NEGATIVE_INFINITY?"-0,"+u.toString().substr(1):(t=this.valueOf().toString(),t=Math.round(t*u).toString(),f=t.length-n,r=t.substr(0,f),r.isEmpty()&&(r="0"),n<=0)?r+Math.pow(10,-n).toString().substr(1):(i=t.substr(f),i.length<n&&(i=Math.pow(10,n-i.length).toString().substr(1)+i),r+","+i)})})(t=n.lib||(n.lib={}))}(skbn||(skbn={})),function(n){var t;(function(n){function i(n){$(n).focus(function(){$(this).on(t,function(){$(this).off(t).select()})})}var t="click.SelectAllOnFocus keyup.SelectAllOnFocus";n.selectAllOnFocus=i})(t=n.lib||(n.lib={}))}(skbn||(skbn={})),function(n){var t;(function(){$.extend(String,{isNullOrEmpty:function(n,t){return n===undefined||n===null||n===""||t&&n.trim()===""}});String.prototype.isNullOrEmpty||(String.prototype.isNullOrEmpty=function(n,t){return t||(t=!1),n===undefined||n===null||n===""||t&&n.trim()===""});String.prototype.isEmpty||(String.prototype.isEmpty=function(n){return n||(n=!1),this.valueOf()===""||n&&this.trim()===""});String.prototype.trimStart||(String.prototype.trimStart=function(n){if(this.isNullOrEmpty(n))return this.replace(/^\s+/g,"");var t=new RegExp("^["+n+"]+","g");return this.replace(t,"")});String.prototype.trimEnd||(String.prototype.trimEnd=function(n){if(this.isNullOrEmpty(n))return this.replace(/\s+$/g,"");var t=new RegExp("["+n+"]+$","g");return this.replace(t,"")});String.prototype.strip||(String.prototype.strip=function(n){if(this.isNullOrEmpty(n))return this.replace(/\s+/g,"");var t=new RegExp("["+n+"]","g");return this.replace(t,"")});String.prototype.insertAt||(String.prototype.insertAt=function(n,t){return this.slice(0,n)+t+this.slice(n)});String.prototype.capitalize||(String.prototype.capitalize=function(){var n=this.charAt(0).toUpperCase();return n+this.slice(1)});String.prototype.isNumber||(String.prototype.isNumber=function(){var n=this.strip();return/^\-?\d+$|^\-?\d+[,\.]?\d+$/.test(n)});String.prototype.toNumber||(String.prototype.toNumber=function(){if(!this.isNumber())return null;var t=this.strip().replace(",","."),n=parseFloat(t);return!isNaN(n)&&isFinite(n)?n:null});String.prototype.toCurrency||(String.prototype.toCurrency=function(){var n=this.toNumber();return n==null?null:n.toCurrency()});String.prototype.isBoolean||(String.prototype.isBoolean=function(){var n=this.toLowerCase();return n==="true"||n==="false"||n==="1"||n==="0"});String.prototype.toBoolean||(String.prototype.toBoolean=function(){if(!this.isBoolean())return null;var n=this.toLowerCase();return n==="true"||n==="1"});String.prototype.format||(String.prototype.format=function(){var n=arguments;return this.replace(/{(\d+)}/g,function(t,i){return typeof n[i]!="undefined"?n[i]:t})});String.prototype.convertFromJsonDate||(String.prototype.convertFromJsonDate=function(){var n,t;n=/[0-9]+/.exec(this)[0];n=parseInt(n);t=new Date(n);var u=t.getFullYear().toString(),i=(t.getMonth()+1).toString(),r=t.getDate().toString();return(r[1]?r:"0"+r[0])+"."+(i[1]?i:"0"+i[0])+"."+u})})(t=n.lib||(n.lib={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t=function(){function n(){}return n.prototype.init=function(){var n=this;n.setupAjax();n.onBeforePrint(null)},n.prototype.addPrintListener=function(){var n=this;window.matchMedia!==undefined&&window.matchMedia("print").addListener(function(t){return n.onBeforePrint(t)})},n.prototype.setupAjax=function(){var t=this;$(document).bind("ajaxSuccess",t.print);$(document).bind("ajaxComplete",function(i){$(document).unbind(i);$(document).unbind("ajaxError",t.ajaxErrorOnPrint);$(document).unbind("ajaxSuccess",t.print);$("#search-placeholder").hide();n.initializePrintDetailsHandling()})},n.prototype.print=function(){window.print()},n.prototype.ajaxErrorOnPrint=function(n){$(document).unbind(n);$("#search-placeholder").hide();$("#search-result").html('<div class="box box--notification">Feil oppstod ved nedlasting av alle transaksjoner for printutskriften.<\/div>');$("#next").addClass("hide")},n.prototype.onBeforePrint=function(t){$("body").hasClass("print-section-only")?n.printDetails&&(t&&t.matches?n.moveTbodyToTopOfTable(n.detailsElement):t&&!t.matches&&(n.printDetails=!1,n.moveTbodyBackToOriginalPosition(),n.cleanupPrintSectionClasses())):n.cleanupPrintSectionClasses()},n.initializePrintDetailsHandling=function(){$(".print-section-link").off("click");$(".print-section-link").on("click",function(t){t.preventDefault();n.cleanupPrintSectionClasses();$(t.target).parents("tr").addClass("print-section");n.detailsElement=$(t.target).parents("tbody");n.addPrintSectionClasses();n.printDetails=!0;window.print()})},n.moveTbodyToTopOfTable=function(t){n.detailsElementBefore=t.prev();var i=t.parent().children("tbody").first();t!==i&&t.insertBefore(i)},n.moveTbodyBackToOriginalPosition=function(){n.detailsElementBefore&&n.detailsElement.insertAfter(n.detailsElementBefore)},n.addPrintSectionClasses=function(){$("body").addClass("print-section-only");$(".print-section").parents().addClass("print-section");$(".print-section-show").parents().addClass("print-section");$(".header__logo").addClass("print-hide")},n.cleanupPrintSectionClasses=function(){$("body").removeClass("print-section-only");$(".print-section").removeClass("print-section");$(".print-section-show").parents().removeClass("print-section");$(".header__logo").removeClass("print-hide")},n.printDetails=!1,n.detailsElement=null,n.detailsElementBefore=null,n}();n.TransactionPrint=t})(t=n.lib||(n.lib={}))}(skbn||(skbn={})),function(){function o(){var t,n=arguments,r,i={},u=function(n,t){var r,i;typeof n!="object"&&(n={});for(i in t)t.hasOwnProperty(i)&&(r=t[i],n[i]=r&&typeof r=="object"&&Object.prototype.toString.call(r)!=="[object Array]"&&i!=="renderTo"&&typeof r.nodeType!="number"?u(n[i]||{},r):t[i]);return n};for(n[0]===!0&&(i=n[1],n=Array.prototype.slice.call(n,2)),r=n.length,t=0;t<r;t++)i=u(i,n[t]);return i}function v(n,t){return parseInt(n,t||10)}function lr(n){return typeof n=="string"}function ii(n){return n&&typeof n=="object"}function ar(n){return Object.prototype.toString.call(n)==="[object Array]"}function pi(n){return typeof n=="number"}function vr(n){return ct.log(n)/ct.LN10}function wi(n){return ct.pow(10,n)}function bi(n,t){for(var i=n.length;i--;)if(n[i]===t){n.splice(i,1);break}}function r(n){return n!==i&&n!==null}function ht(n,t,i){var u,f;if(lr(t))r(i)?n.setAttribute(t,i):n&&n.getAttribute&&(f=n.getAttribute(t));else if(r(t)&&ii(t))for(u in t)n.setAttribute(u,t[u]);return f}function li(n){return ar(n)?n:[n]}function k(n,t){or&&!kt&&t&&t.opacity!==i&&(t.filter="alpha(opacity="+t.opacity*100+")");e(n.style,t)}function pt(n,t,i,r,u){var f=l.createElement(n);return t&&e(f,t),u&&k(f,{padding:0,border:at,margin:0}),i&&k(f,i),r&&r.appendChild(f),f}function ri(n,t){var r=function(){return i};return r.prototype=new n,e(r.prototype,t),r}function iu(n,t){return new Array((t||2)+1-String(n).length).join(0)+n}function eo(n,t){return/%$/.test(n)?t*parseFloat(n)/100:parseFloat(n)}function wu(n){return(hf&&hf(n)||gf||0)*6e4}function us(n,t){var r=nt.lang,i;return/f$/.test(n)?(i=n.match(/\.([0-9])/),i=i?i[1]:-1,t!==null&&(t=h.numberFormat(t,i,r.decimalPoint,n.indexOf(",")>-1?r.thousandsSep:""))):t=ni(n,t),t}function yr(n,t){for(var c="{",r=!1,o,u,s,f,l,e=[],i,h;(h=n.indexOf(c))!==-1;){if(o=n.slice(0,h),r){for(u=o.split(":"),s=u.shift().split("."),l=s.length,i=t,f=0;f<l;f++)i=i[s[f]];u.length&&(i=us(u.join(":"),i));e.push(i)}else e.push(o);n=n.slice(h+1);r=!r;c=r?"}":"{"}return e.push(n),e.join("")}function ee(n){return ct.pow(10,ot(ct.log(n)/ct.LN10))}function oe(t,i,r,u,f){var s,e,o=t;for(r=n(r,1),s=t/r,i||(i=[1,2,2.5,5,10],u===!1&&(r===1?i=[1,2,5,10]:r<=.1&&(i=[1/r]))),e=0;e<i.length;e++)if(o=i[e],f&&o*r>=t||!f&&s<=(i[e]+(i[e+1]||i[e]))/2)break;return o*r}function se(n,t){for(var u=n.length,r,i=0;i<u;i++)n[i].ss_i=i;for(n.sort(function(n,i){return r=t(n,i),r===0?n.ss_i-i.ss_i:r}),i=0;i<u;i++)delete n[i].ss_i}function ru(n){for(var t=n.length,i=n[0];t--;)n[t]<i&&(i=n[t]);return i}function hr(n){for(var t=n.length,i=n[0];t--;)n[t]>i&&(i=n[t]);return i}function pr(n,t){var i;for(i in n)n[i]&&n[i]!==t&&n[i].destroy&&n[i].destroy(),delete n[i]}function uu(n){ef||(ef=pt(tu));n&&ef.appendChild(n);ef.innerHTML=""}function ai(n,t){var i="Highcharts error #"+n+": www.highcharts.com/errors/"+n;if(t)throw i;ft.console&&console.log(i)}function si(n,t){return parseFloat(n.toPrecision(t||14))}function eu(t,i){i.renderer.globalAnimation=n(t,i.animation)}function oo(){var u=nt.global,r=u.useUTC,i=r?"getUTC":"get",t=r?"setUTC":"set";gt=u.Date||window.Date;gf=r&&u.timezoneOffset;hf=r&&u.getTimezoneOffset;sf=function(t,i,u,f,e,o){var s;return r?gt.UTC.apply(0,arguments)+wu(s):new gt(t,i,n(u,1),n(f,0),n(e,0),n(o,0)).getTime()};ne=i+"Minutes";te=i+"Hours";ie=i+"Day";vu=i+"Date";yu=i+"Month";pu=i+"FullYear";io=t+"Milliseconds";ro=t+"Seconds";uo=t+"Minutes";fo=t+"Hours";re=t+"Date";ue=t+"Month";fe=t+"FullYear"}function ss(n){return nt=o(!0,nt,n),oo(),nt}function hs(){return nt}function lt(){}function su(n,t,i,r){this.axis=n;this.pos=t;this.type=i||"";this.isNew=!0;i||r||this.addLabel()}function lo(t,i,r,u,f){var e=t.chart.inverted;this.axis=t;this.isNegative=r;this.options=i;this.x=u;this.total=null;this.points={};this.stack=f;this.alignOptions={align:i.align||(e?r?"left":"right":"center"),verticalAlign:i.verticalAlign||(e?"middle":r?"bottom":"top"),y:n(i.y,e?4:r?14:-6),x:n(i.x,e?r?-6:6:0)};this.textAlign=i.textAlign||(e?r?"right":"left":"center")}function we(n){var r=n.options,t=r.navigator,u=t.enabled,i=r.scrollbar,f=i.enabled,e=u?t.height:0,o=f?i.height:0;this.handles=[];this.scrollbarButtons=[];this.elementsToDestroy=[];this.chart=n;this.setBaseSeries();this.height=e;this.scrollbarHeight=o;this.scrollbarEnabled=f;this.navigatorEnabled=u;this.navigatorOptions=t;this.scrollbarOptions=i;this.outlineHeight=e+o;this.init()}function be(n){this.init(n)}var i,l=document,ft=window,ct=Math,u=ct.round,ot=ct.floor,nr=ct.ceil,f=ct.max,s=ct.min,d=ct.abs,vt=ct.cos,bt=ct.sin,vi=ct.PI,hi=vi/180,er=navigator.userAgent,ke=ft.opera,or=/(msie|trident)/i.test(er)&&!ke,uf=l.documentMode===8,ff=/AppleWebKit/.test(er),gr=/Firefox/.test(er),lu=/(Mobile|Android|Windows Phone)/.test(er),cr="http://www.w3.org/2000/svg",kt=!!l.createElementNS&&!!l.createElementNS(cr,"svg").createSVGRect,ts=gr&&parseInt(er.split("Firefox/")[1],10)<4,ei=!kt&&!or&&!!l.createElement("canvas").getContext,nu,fu,de={},bf=0,ef,nt,ni,kf,b,ti=function(){return i},yt=[],au=0,ge="Highstock",no="2.1.8",tu="div",tr="absolute",df="relative",ci="hidden",st="highcharts-",oi="visible",y="px",at="none",rt="M",it="L",is=/^[0-9]+$/,dt="",yi="hover",sr="select",of=["plotTop","marginRight","marginBottom","plotLeft"],to,rs="stroke-width",gt,sf,gf,hf,ne,te,ie,vu,yu,pu,io,ro,uo,fo,re,ue,fe,a={},h,e,n,tt,bu,ui,ut,ou,fi,gu,br,so,he,ho,p,af,di,kr,nf,hu,ur,co,gi,w,ao,ae,ve,vf,vo,yf,yo,ye,po,pf,cu,pe,go,tf,wf,ns,rf;h=ft.Highcharts=ft.Highcharts?ai(16,!0):{};h.seriesTypes=a;e=h.extend=function(n,t){var i;n||(n={});for(i in t)n[i]=t[i];return n};n=h.pick=function(){for(var r=arguments,t,u=r.length,n=0;n<u;n++)if(t=r[n],t!==i&&t!==null)return t};tt=h.wrap=function(n,t,i){var r=n[t];n[t]=function(){var n=Array.prototype.slice.call(arguments);return n.unshift(r),i.apply(this,n)}};ni=function(t,i,f){if(!r(i)||isNaN(i))return nt.lang.invalidDate||"";t=n(t,"%Y-%m-%d %H:%M:%S");var o=new gt(i-wu(i)),s,c=o[te](),a=o[ie](),p=o[vu](),v=o[yu](),w=o[pu](),y=nt.lang,b=y.weekdays,l=e({a:b[a].substr(0,3),A:b[a],d:iu(p),e:p,w:a,b:y.shortMonths[v],B:y.months[v],m:iu(v+1),y:w.toString().substr(2,2),Y:w,H:iu(c),k:c,I:iu(c%12||12),l:c%12||12,M:iu(o[ne]()),p:c<12?"AM":"PM",P:c<12?"am":"pm",S:iu(o.getSeconds()),L:iu(u(i%1e3),3)},h.dateFormats);for(s in l)while(t.indexOf("%"+s)!==-1)t=t.replace("%"+s,typeof l[s]=="function"?l[s](i):l[s]);return f?t.substr(0,1).toUpperCase()+t.substr(1):t};b={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5};h.numberFormat=function(n,t,i,r){var h=nt.lang,u=+n||0,e=t===-1?s((u.toString().split(".")[1]||"").length,20):isNaN(t=d(t))?2:t,l=i===undefined?h.decimalPoint:i,c=r===undefined?h.thousandsSep:r,a=u<0?"-":"",f=String(v(u=d(u).toFixed(e))),o=f.length>3?f.length%3:0;return a+(o?f.substr(0,o)+c:"")+f.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+c)+(e?l+d(u-f).toFixed(e).slice(2):"")};kf={init:function(n,t,i){t=t||"";var c=n.shift,s=t.indexOf("C")>-1,f=s?7:3,l,o,e,r=t.split(" "),u=[].concat(i),h,a,v=function(n){for(e=n.length;e--;)n[e]===rt&&n.splice(e+1,0,n[e+1],n[e+2],n[e+1],n[e+2])};if(s&&(v(r),v(u)),n.isArea&&(h=r.splice(r.length-6,6),a=u.splice(u.length-6,6)),c<=u.length/f&&r.length===u.length)while(c--)u=[].concat(u).splice(0,f).concat(u);if(n.shift=0,r.length)for(l=u.length;r.length<l;)o=[].concat(r).splice(r.length-f,f),s&&(o[f-6]=o[f-2],o[f-5]=o[f-1]),r=r.concat(o);return h&&(r=r.concat(h),u=u.concat(a)),[r,u]},step:function(n,t,i,r){var f=[],u=n.length,e;if(i===1)f=r;else if(u===t.length&&i<1)while(u--)e=parseFloat(n[u]),f[u]=isNaN(e)?n[u]:i*parseFloat(t[u]-e)+e;else f=t;return f}},function(n){ft.HighchartsAdapter=ft.HighchartsAdapter||n&&{init:function(t){var r=n.fx;n.extend(n.easing,{easeOutQuad:function(n,t,i,r,u){return-r*(t/=u)*(t-2)+i}});n.each(["cur","_default","width","height","opacity"],function(t,u){var f=r.step,e;u==="cur"?f=r.prototype:u==="_default"&&n.Tween&&(f=n.Tween.propHooks[u],u="set");e=f[u];e&&(f[u]=function(n){var r;if(n=t?n:this,n.prop!=="align")return r=n.elem,r.attr?r.attr(n.prop,u==="cur"?i:n.now):e.apply(this,arguments)})});tt(n.cssHooks.opacity,"get",function(n,t,i){return t.attr?t.opacity||0:n.call(this,t,i)});this.addAnimSetter("d",function(n){var i=n.elem,r;n.started||(r=t.init(i,i.d,i.toD),n.start=r[0],n.end=r[1],n.started=!0);i.attr("d",t.step(n.start,n.end,n.pos,i.toD))});this.each=Array.prototype.forEach?function(n,t){return Array.prototype.forEach.call(n,t)}:function(n,t){for(var r=n.length,i=0;i<r;i++)if(t.call(n[i],n[i],i,n)===!1)return i};n.fn.highcharts=function(){var u="Chart",t=arguments,n,r,f;return this[0]&&(lr(t[0])&&(u=t[0],t=Array.prototype.slice.call(t,1)),n=t[0],n!==i&&(n.chart=n.chart||{},n.chart.renderTo=this[0],f=new h[u](n,t[1]),r=this),n===i&&(r=yt[ht(this[0],"data-highcharts-chart")])),r}},addAnimSetter:function(t,i){n.Tween?n.Tween.propHooks[t]={set:i}:n.fx.step[t]=i},getScript:n.getScript,inArray:n.inArray,adapterRun:function(t,i){return n(t)[i]()},grep:n.grep,map:function(n,t){for(var r=[],i=0,u=n.length;i<u;i++)r[i]=t.call(n[i],n[i],i,n);return r},offset:function(t){return n(t).offset()},addEvent:function(t,i,r){n(t).bind(i,r)},removeEvent:function(t,i,r){var u=l.removeEventListener?"removeEventListener":"detachEvent";l[u]&&t&&!t[u]&&(t[u]=function(){});n(t).unbind(i,r)},fireEvent:function(t,i,r,u){var f=n.Event(i),o="detached"+i,s;!or&&r&&(delete r.layerX,delete r.layerY,delete r.returnValue);e(f,r);t[i]&&(t[o]=t[i],t[i]=null);n.each(["preventDefault","stopPropagation"],function(n,t){var i=f[t];f[t]=function(){try{i.call(f)}catch(n){t==="preventDefault"&&(s=!0)}}});n(t).trigger(f);t[o]&&(t[i]=t[o],t[o]=null);!u||f.isDefaultPrevented()||s||u(f)},washMouseEvent:function(n){var t=n.originalEvent||n;return t.pageX===i&&(t.pageX=n.pageX,t.pageY=n.pageY),t},animate:function(t,r,u){var f=n(t);t.style||(t.style={});r.d&&(t.toD=r.d,r.d=1);f.stop();r.opacity!==i&&t.attr&&(r.opacity+="px");t.hasAnim=1;f.animate(r,u)},stop:function(t){t.hasAnim&&n(t).stop()}}}(ft.jQuery);bu=ft.HighchartsAdapter;ui=bu||{};bu&&bu.init.call(bu,kf);var cf=ui.adapterRun,fs=ui.getScript,wr=ui.inArray,t=h.each=ui.each,ku=ui.grep,es=ui.offset,ir=ui.map,c=ui.addEvent,et=ui.removeEvent,g=ui.fireEvent,os=ui.washMouseEvent,lf=ui.animate,du=ui.stop;nt={colors:["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/stock/2.1.8/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/stock/2.1.8/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return this.y===null?"":h.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:tr,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:tr,width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:df,top:"45%"},style:{position:tr,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:kt,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}<\/span><br/>',pointFormat:'<span style="color:{point.color}"><\/span> {series.name}: <b>{point.y}<\/b><br/>',shadow:!0,snap:lu?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};ut=nt.plotOptions;ou=ut.line;oo();var cs=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,ls=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,as=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,ki=function(n){function f(n){n&&n.stops?u=ir(n.stops,function(n){return ki(n[1])}):(r=cs.exec(n),r?i=[v(r[1]),v(r[2]),v(r[3]),parseFloat(r[4],10)]:(r=ls.exec(n),r?i=[v(r[1],16),v(r[2],16),v(r[3],16),1]:(r=as.exec(n),r&&(i=[v(r[1]),v(r[2]),v(r[3]),1]))))}function e(r){var f;return u?(f=o(n),f.stops=[].concat(f.stops),t(u,function(n,t){f.stops[t]=[f.stops[t][0],n.get(r)]})):f=i&&!isNaN(i[0])?r==="rgb"?"rgb("+i[0]+","+i[1]+","+i[2]+")":r==="a"?i[3]:"rgba("+i.join(",")+")":n,f}function s(n){if(u)t(u,function(t){t.brighten(n)});else if(pi(n)&&n!==0)for(var r=0;r<3;r++)i[r]+=v(n*255),i[r]<0&&(i[r]=0),i[r]>255&&(i[r]=255);return this}function h(n){return i[3]=n,this}var i=[],r,u;return f(n),{get:e,brighten:s,rgba:i,setOpacity:h,raw:n}};if(lt.prototype={opacity:1,textProps:["fontSize","fontWeight","fontFamily","fontStyle","color","lineHeight","width","textDecoration","textOverflow","textShadow"],init:function(n,t){var i=this;i.element=t==="span"?pt(t):l.createElementNS(cr,t);i.renderer=n},animate:function(t,i,r){var u=n(i,this.renderer.globalAnimation,!0);return du(this),u?(u=o(u,{}),r&&(u.complete=r),lf(this,t,u)):this.attr(t,null,r),this},colorGradient:function(n,i,u){var l=this.renderer,p,s,f,a,v,y,w,b,e,c,k,h=[];if(n.linearGradient?s="linearGradient":n.radialGradient&&(s="radialGradient"),s){f=n[s];a=l.gradients;y=n.stops;e=u.radialReference;ar(f)&&(n[s]=f={x1:f[0],y1:f[1],x2:f[2],y2:f[3],gradientUnits:"userSpaceOnUse"});s==="radialGradient"&&e&&!r(f.gradientUnits)&&(f=o(f,{cx:e[0]-e[2]/2+f.cx*e[2],cy:e[1]-e[2]/2+f.cy*e[2],r:f.r*e[2],gradientUnits:"userSpaceOnUse"}));for(c in f)c!=="id"&&h.push(c,f[c]);for(c in y)h.push(y[c]);h=h.join(",");a[h]?k=a[h].attr("id"):(f.id=k=st+bf++,a[h]=v=l.createElement(s).attr(f).add(l.defs),v.stops=[],t(y,function(n){var t;n[1].indexOf("rgba")===0?(p=ki(n[1]),w=p.get("rgb"),b=p.get("a")):(w=n[1],b=1);t=l.createElement("stop").attr({offset:n[0],"stop-color":w,"stop-opacity":b}).add(v);v.stops.push(t)}));u.setAttribute(i,"url("+l.url+"#"+k+")")}},applyTextShadow:function(n){var r=this.element,e,o=n.indexOf("contrast")!==-1,u={},s=this.renderer.forExport||r.style.textShadow!==i&&!or;o&&(u.textShadow=n=n.replace(/contrast/g,this.renderer.getContrast(r.style.fill)));ff&&(u.textRendering="geometricPrecision");s?k(r,u):(this.fakeTS=!0,this.ySetter=this.xSetter,e=[].slice.call(r.getElementsByTagName("tspan")),t(n.split(/\s?,\s?/g),function(n){var o=r.firstChild,u,i;n=n.split(" ");u=n[n.length-1];i=n[n.length-2];i&&t(e,function(n,t){var e;t===0&&(n.setAttribute("x",r.getAttribute("x")),t=r.getAttribute("y"),n.setAttribute("y",t||0),t===null&&r.setAttribute("y",0));e=n.cloneNode(1);ht(e,{"class":st+"text-shadow",fill:u,stroke:u,"stroke-opacity":1/f(v(i),3),"stroke-width":i,"stroke-linejoin":"round"});r.insertBefore(e,o)})}))},attr:function(n,t,r){var u,f,o=this.element,s,h=this,e;if(typeof n=="string"&&t!==i&&(u=n,n={},n[u]=t),typeof n=="string")h=(this[n+"Getter"]||this._defaultGetter).call(this,n,o);else{for(u in n)f=n[u],e=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(u)&&(s||(this.symbolAttr(n),s=!0),e=!0),this.rotation&&(u==="x"||u==="y")&&(this.doTransform=!0),e||(this[u+"Setter"]||this._defaultSetter).call(this,f,u,o),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(u)&&this.updateShadows(u,f);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return r&&r(),h},updateShadows:function(n,t){for(var i=this.shadows,r=i.length;r--;)i[r].setAttribute(n,n==="height"?f(t-(i[r].cutHeight||0),0):n==="d"?this.d:t)},addClass:function(n){var t=this.element,i=ht(t,"class")||"";return i.indexOf(n)===-1&&ht(t,"class",i+" "+n),this},symbolAttr:function(i){var r=this;t(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(t){r[t]=n(i[t],r[t])});r.attr({d:r.renderer.symbols[r.symbolName](r.x,r.y,r.width,r.height,r)})},clip:function(n){return this.attr("clip-path",n?"url("+this.renderer.url+"#"+n.id+")":at)},crisp:function(n){var t=this,i,f={},r,e=n.strokeWidth||t.strokeWidth||0;r=u(e)%2/2;n.x=ot(n.x||t.x||0)+r;n.y=ot(n.y||t.y||0)+r;n.width=ot((n.width||t.width||0)-2*r);n.height=ot((n.height||t.height||0)-2*r);n.strokeWidth=e;for(i in n)t[i]!==n[i]&&(t[i]=f[i]=n[i]);return f},css:function(n){var t=this,r=t.styles,f={},o=t.element,u,i,s="",h,c=!r;if(n&&n.color&&(n.fill=n.color),r)for(i in n)n[i]!==r[i]&&(f[i]=n[i],c=!0);if(c){if(u=t.textWidth=n&&n.width&&o.nodeName.toLowerCase()==="text"&&v(n.width)||t.textWidth,r&&(n=e(r,f)),t.styles=n,u&&(ei||!kt&&t.renderer.forExport)&&delete n.width,or&&!kt)k(t.element,n);else{h=function(n,t){return"-"+t.toLowerCase()};for(i in n)s+=i.replace(/([A-Z])/g,h)+":"+n[i]+";";ht(o,"style",s)}u&&t.added&&t.renderer.buildText(t)}return t},on:function(n,t){var r=this,i=r.element;return fu&&n==="click"?(i.ontouchstart=function(n){r.touchEventFired=gt.now();n.preventDefault();t.call(i,n)},i.onclick=function(n){(er.indexOf("Android")===-1||gt.now()-(r.touchEventFired||0)>1100)&&t.call(i,n)}):i["on"+n]=t,this},setRadialReference:function(n){return this.element.radialReference=n,this},translate:function(n,t){return this.attr({translateX:n,translateY:t})},invert:function(){var n=this;return n.inverted=!0,n.updateTransform(),n},updateTransform:function(){var t=this,f=t.translateX||0,e=t.translateY||0,o=t.scaleX,s=t.scaleY,h=t.inverted,c=t.rotation,u=t.element,i;h&&(f+=t.attr("width"),e+=t.attr("height"));i=["translate("+f+","+e+")"];h?i.push("rotate(90) scale(-1,1)"):c&&i.push("rotate("+c+" "+(u.getAttribute("x")||0)+" "+(u.getAttribute("y")||0)+")");(r(o)||r(s))&&i.push("scale("+n(o,1)+" "+n(s,1)+")");i.length&&u.setAttribute("transform",i.join(" "))},toFront:function(){var n=this.element;return n.parentNode.appendChild(n),this},align:function(t,i,r){var f,e,s,h,o={},c,l=this.renderer,a=l.alignedObjects;return t?(this.alignOptions=t,this.alignByTranslate=i,(!r||lr(r))&&(this.alignTo=c=r||"renderer",bi(a,this),a.push(this),r=null)):(t=this.alignOptions,i=this.alignByTranslate,c=this.alignTo),r=n(r,l[c],l),f=t.align,e=t.verticalAlign,s=(r.x||0)+(t.x||0),h=(r.y||0)+(t.y||0),(f==="right"||f==="center")&&(s+=(r.width-(t.width||0))/{right:1,center:2}[f]),o[i?"translateX":"x"]=u(s),(e==="bottom"||e==="middle")&&(h+=(r.height-(t.height||0))/({bottom:1,middle:2}[e]||1)),o[i?"translateY":"y"]=u(h),this[this.placed?"animate":"attr"](o),this.placed=!0,this.alignAttr=o,this},getBBox:function(n){var o=this,r,l=o.renderer,p,s,w=o.rotation,u=o.element,a=o.styles,v=w*hi,h=o.textStr,b,y=u.style,c,f;if(h!==i&&(f=["",w||0,a&&a.fontSize,u.style.width].join(","),f=h===""||is.test(h)?"num:"+h.toString().length+f:h+f),f&&!n&&(r=l.cache[f]),!r){if(u.namespaceURI===cr||l.forExport){try{c=this.fakeTS&&function(n){t(u.querySelectorAll("."+st+"text-shadow"),function(t){t.style.display=n})};gr&&y.textShadow?(b=y.textShadow,y.textShadow=""):c&&c(at);r=u.getBBox?e({},u.getBBox()):{width:u.offsetWidth,height:u.offsetHeight};b?y.textShadow=b:c&&c("")}catch(k){}(!r||r.width<0)&&(r={width:0,height:0})}else r=o.htmlGetBBox();l.isSVG&&(p=r.width,s=r.height,or&&a&&a.fontSize==="11px"&&s.toPrecision(3)==="16.9"&&(r.height=s=14),w&&(r.width=d(s*bt(v))+d(p*vt(v)),r.height=d(s*vt(v))+d(p*bt(v))));f&&(l.cache[f]=r)}return r},show:function(n){return this.attr({visibility:n?"inherit":oi})},hide:function(){return this.attr({visibility:ci})},fadeOut:function(n){var t=this;t.animate({opacity:0},{duration:n||150,complete:function(){t.attr({y:-9999})}})},add:function(n){var t=this.renderer,r=this.element,i;return n&&(this.parentGroup=n),this.parentInverted=n&&n.inverted,this.textStr!==undefined&&t.buildText(this),this.added=!0,(!n||n.handleZ||this.zIndex)&&(i=this.zIndexSetter()),i||(n?n.element:t.box).appendChild(r),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(n){var t=n.parentNode;t&&t.removeChild(n)},destroy:function(){var n=this,i=n.element||{},f=n.shadows,r=n.renderer.isSVG&&i.nodeName==="SPAN"&&n.parentGroup,e,o,u;if(i.onclick=i.onmouseout=i.onmouseover=i.onmousemove=i.point=null,du(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(u=0;u<n.stops.length;u++)n.stops[u]=n.stops[u].destroy();n.stops=null}for(n.safeRemoveChild(i),f&&t(f,function(t){n.safeRemoveChild(t)});r&&r.div&&r.div.childNodes.length===0;)e=r.parentGroup,n.safeRemoveChild(r.div),delete r.div,r=e;n.alignTo&&bi(n.renderer.alignedObjects,n);for(o in n)delete n[o];return null},shadow:function(t,i,r){var c=[],e,u,h=this.element,o,s,l,a;if(t){for(s=n(t.width,3),l=(t.opacity||.15)/s,a=this.parentInverted?"(-1,-1)":"("+n(t.offsetX,1)+", "+n(t.offsetY,1)+")",e=1;e<=s;e++)u=h.cloneNode(0),o=s*2+1-2*e,ht(u,{isShadow:"true",stroke:t.color||"black","stroke-opacity":l*e,"stroke-width":o,transform:"translate"+a,fill:at}),r&&(ht(u,"height",f(ht(u,"height")-o,0)),u.cutHeight=o),i?i.element.appendChild(u):h.parentNode.insertBefore(u,h),c.push(u);this.shadows=c}return this},xGetter:function(n){return this.element.nodeName==="circle"&&(n={x:"cx",y:"cy"}[n]||n),this._defaultGetter(n)},_defaultGetter:function(t){var i=n(this[t],this.element?this.element.getAttribute(t):null,0);return/^[\-0-9\.]+$/.test(i)&&(i=parseFloat(i)),i},dSetter:function(n,t,i){n&&n.join&&(n=n.join(" "));/(NaN| {2}|^$)/.test(n)&&(n="M 0 0");i.setAttribute(t,n);this[t]=n},dashstyleSetter:function(n){var t;if(n=n&&n.toLowerCase(),n){for(n=n.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),t=n.length;t--;)n[t]=v(n[t])*this["stroke-width"];n=n.join(",").replace("NaN","none");this.element.setAttribute("stroke-dasharray",n)}},alignSetter:function(n){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[n])},opacitySetter:function(n,t,i){this[t]=n;i.setAttribute(t,n)},titleSetter:function(t){var i=this.element.getElementsByTagName("title")[0];i||(i=l.createElementNS(cr,"title"),this.element.appendChild(i));i.appendChild(l.createTextNode(String(n(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(n){n!==this.textStr&&(delete this.bBox,this.textStr=n,this.added&&this.renderer.buildText(this))},fillSetter:function(n,t,i){typeof n=="string"?i.setAttribute(t,n):n&&this.colorGradient(n,t,i)},visibilitySetter:function(n,t,i){n==="inherit"?i.removeAttribute(t):i.setAttribute(t,n)},zIndexSetter:function(n,t){var l=this.renderer,o=this.parentGroup,y=o||l,s=y.element||l.box,h,i,c,u=this.element,f,a=this.added,e;if(r(n)&&(u.setAttribute(t,n),n=+n,this[t]===n&&(a=!1),this[t]=n),a){for(n=this.zIndex,n&&o&&(o.handleZ=!0),h=s.childNodes,e=0;e<h.length&&!f;e++)i=h[e],c=ht(i,"zIndex"),i!==u&&(v(c)>n||!r(n)&&r(c))&&(s.insertBefore(u,i),f=!0);f||s.appendChild(u)}return f},_defaultSetter:function(n,t,i){i.setAttribute(t,n)}},lt.prototype.yGetter=lt.prototype.xGetter,lt.prototype.translateXSetter=lt.prototype.translateYSetter=lt.prototype.rotationSetter=lt.prototype.verticalAlignSetter=lt.prototype.scaleXSetter=lt.prototype.scaleYSetter=function(n,t){this[t]=n;this.doTransform=!0},lt.prototype["stroke-widthSetter"]=lt.prototype.strokeSetter=function(n,t,i){this[t]=n;this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],lt.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):t==="stroke-width"&&n===0&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)},fi=function(){this.init.apply(this,arguments)},fi.prototype={Element:lt,init:function(n,t,i,r,u){var f=this,v=location,s,o,a,h,e;s=f.createElement("svg").attr({version:"1.1"}).css(this.getStyle(r));o=s.element;n.appendChild(o);n.innerHTML.indexOf("xmlns")===-1&&ht(o,"xmlns",cr);f.isSVG=!0;f.box=o;f.boxWrapper=s;f.alignedObjects=[];f.url=(gr||ff)&&l.getElementsByTagName("base").length?v.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";a=this.createElement("desc").add();a.element.appendChild(l.createTextNode("Created with "+ge+" "+no));f.defs=this.createElement("defs").add();f.forExport=u;f.gradients={};f.cache={};f.setSize(t,i,!1);gr&&n.getBoundingClientRect&&(f.subPixelFix=h=function(){k(n,{left:0,top:0});e=n.getBoundingClientRect();k(n,{left:nr(e.left)-e.left+y,top:nr(e.top)-e.top+y})},h(),c(ft,"resize",h))},getStyle:function(n){return this.style=e({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},n)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var n=this,t=n.defs;return n.box=null,n.boxWrapper=n.boxWrapper.destroy(),pr(n.gradients||{}),n.gradients=null,t&&(n.defs=t.destroy()),n.subPixelFix&&et(ft,"resize",n.subPixelFix),n.alignedObjects=null,null},createElement:function(n){var t=new this.Element;return t.init(this,n),t},draw:function(){},buildText:function(i){for(var u=i.element,e=this,b=e.forExport,o=n(i.textStr,"").toString(),d=o.indexOf("<")!==-1,s,g=u.childNodes,c,a,y=ht(u,"x"),r=i.styles,f=i.textWidth,nt=r&&r.lineHeight,p=r&&r.textShadow,w=r&&r.textOverflow==="ellipsis",tt=g.length,h=f&&!i.added&&this.box,it=function(n){return nt?v(nt):e.fontMetrics(/(px|em)$/.test(n&&n.style.fontSize)?n.style.fontSize:r&&r.fontSize||e.style.fontSize||12,n).h},rt=function(n){return n.replace(/&lt;/g,"<").replace(/&gt;/g,">")};tt--;)u.removeChild(g[tt]);if(d||p||w||o.indexOf(" ")!==-1)c=/<.*style="([^"]+)".*>/,a=/<.*href="(http[^"]+)".*>/,h&&h.appendChild(u),s=d?o.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"<\/span>").split(/<br.*?>/g):[o],s[s.length-1]===""&&s.pop(),t(s,function(n,o){var s,h=0;n=n.replace(/<span/g,"|||<span").replace(/<\/span>/g,"<\/span>|||");s=n.split("|||");t(s,function(n){var tt,t,ut;if((n!==""||s.length===1)&&(tt={},t=l.createElementNS(cr,"tspan"),c.test(n)&&(ut=n.match(c)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),ht(t,"style",ut)),a.test(n)&&!b&&(ht(t,"onclick",'location.href="'+n.match(a)[1]+'"'),k(t,{cursor:"pointer"})),n=rt(n.replace(/<(.|\n)*?>/g,"")||" "),n!==" ")){if(t.appendChild(l.createTextNode(n)),h?tt.dx=0:o&&y!==null&&(tt.x=y),ht(t,tt),u.appendChild(t),!h&&o&&(!kt&&b&&k(t,{display:"block"}),ht(t,"dy",it(t))),f){for(var v=n.replace(/([^\^])-/g,"$1- ").split(" "),st=s.length>1||o||v.length>1&&r.whiteSpace!=="nowrap",p,d,g,ft=[],ct=it(t),lt=1,at=i.rotation,nt=n,et=nt.length,ot;(st||w)&&(v.length||ft.length);)i.rotation=0,ot=i.getBBox(!0),g=ot.width,!kt&&e.forExport&&(g=e.measureSpanWidth(t.firstChild.data,i.styles)),p=g>f,d===undefined&&(d=p),w&&d?(et/=2,nt===""||!p&&et<.5?v=[]:(p&&(d=!0),nt=n.substring(0,nt.length+(p?-1:1)*nr(et)),v=[nt+(f>3?"":"")],t.removeChild(t.firstChild))):p&&v.length!==1?(t.removeChild(t.firstChild),ft.unshift(v.pop())):(v=ft,ft=[],v.length&&(lt++,t=l.createElementNS(cr,"tspan"),ht(t,{dy:ct,x:y}),ut&&ht(t,"style",ut),u.appendChild(t)),g>f&&(f=g)),v.length&&t.appendChild(l.createTextNode(v.join(" ").replace(/- /g,"-")));d&&i.attr("title",i.textStr);i.rotation=at}h++}})}),h&&h.removeChild(u),p&&i.applyTextShadow&&i.applyTextShadow(p);else{u.appendChild(l.createTextNode(rt(o)));return}},getContrast:function(n){return n=ki(n).rgba,n[0]+n[1]+n[2]>384?"#000000":"#FFFFFF"},button:function(n,t,i,r,u,f,s,h,l){var a=this.label(n,t,i,l,null,null,null,null,"button"),v=0,k,d,y,p,w,g,b={x1:0,y1:0,x2:0,y2:1};return u=o({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:b,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},u),y=u.style,delete u.style,f=o(u,{stroke:"#68A",fill:{linearGradient:b,stops:[[0,"#FFF"],[1,"#ACF"]]}},f),p=f.style,delete f.style,s=o(u,{stroke:"#68A",fill:{linearGradient:b,stops:[[0,"#9BD"],[1,"#CDF"]]}},s),w=s.style,delete s.style,h=o(u,{style:{color:"#CCC"}},h),g=h.style,delete h.style,c(a.element,or?"mouseover":"mouseenter",function(){v!==3&&a.attr(f).css(p)}),c(a.element,or?"mouseout":"mouseleave",function(){v!==3&&(k=[u,f,s][v],d=[y,p,w][v],a.attr(k).css(d))}),a.setState=function(n){a.state=v=n;n?n===2?a.attr(s).css(w):n===3&&a.attr(h).css(g):a.attr(u).css(y)},a.on("click",function(n){v!==3&&r.call(a,n)}).attr(u).css(e({cursor:"default"},y))},crispLine:function(n,t){return n[1]===n[4]&&(n[1]=n[4]=u(n[1])-t%2/2),n[2]===n[5]&&(n[2]=n[5]=u(n[2])+t%2/2),n},path:function(n){var t={fill:at};return ar(n)?t.d=n:ii(n)&&e(t,n),this.createElement("path").attr(t)},circle:function(n,t,i){var u=ii(n)?n:{x:n,y:t,r:i},r=this.createElement("circle");return r.xSetter=function(n){this.element.setAttribute("cx",n)},r.ySetter=function(n){this.element.setAttribute("cy",n)},r.attr(u)},arc:function(n,t,i,r,u,f){var e;return ii(n)&&(t=n.y,i=n.r,r=n.innerR,u=n.start,f=n.end,n=n.x),e=this.symbol("arc",n||0,t||0,i||0,i||0,{innerR:r||0,start:u||0,end:f||0}),e.r=i,e},rect:function(n,t,r,u,e,o){e=ii(n)?n.r:e;var h=this.createElement("rect"),s=ii(n)?n:n===i?{}:{x:n,y:t,width:f(r,0),height:f(u,0)};return o!==i&&(s.strokeWidth=o,s=h.crisp(s)),e&&(s.r=e),h.rSetter=function(n){ht(this.element,{rx:n,ry:n})},h.attr(s)},setSize:function(t,i,r){var u=this,f=u.alignedObjects,e=f.length;for(u.width=t,u.height=i,u.boxWrapper[n(r,!0)?"animate":"attr"]({width:t,height:i});e--;)f[e].align()},g:function(n){var t=this.createElement("g");return r(n)?t.attr({"class":st+n}):t},image:function(n,t,i,r,u){var o={preserveAspectRatio:at},f;return arguments.length>1&&e(o,{x:t,y:i,width:r,height:u}),f=this.createElement("image").attr(o),f.element.setAttributeNS?f.element.setAttributeNS("http://www.w3.org/1999/xlink","href",n):f.element.setAttribute("hc-svg-href",n),f},symbol:function(n,t,i,r,f,o){var s,a=this.symbols[n],v=a&&a(u(t),u(i),r,f,o),p,y=/^url\((.*?)\)$/,h,c,l;return v?(s=this.path(v),e(s,{symbolName:n,x:t,y:i,width:r,height:f}),o&&e(s,o)):y.test(n)&&(l=function(n,t){n.element&&(n.attr({width:t[0],height:t[1]}),n.alignByTranslate||n.translate(u((r-t[0])/2),u((f-t[1])/2)))},h=n.match(y)[1],c=de[h]||o&&o.width&&o.height&&[o.width,o.height],s=this.image(h).attr({x:t,y:i}),s.isImg=!0,c?l(s,c):(s.attr({width:0,height:0}),p=pt("img",{onload:function(){l(s,de[h]=[this.width,this.height])},src:h}))),s},symbols:{circle:function(n,t,i,r){var u=.166*i;return[rt,n+i/2,t,"C",n+i+u,t,n+i+u,t+r,n+i/2,t+r,"C",n-u,t+r,n-u,t,n+i/2,t,"Z"]},square:function(n,t,i,r){return[rt,n,t,it,n+i,t,n+i,t+r,n,t+r,"Z"]},triangle:function(n,t,i,r){return[rt,n+i/2,t,it,n+i,t+r,n,t+r,"Z"]},"triangle-down":function(n,t,i,r){return[rt,n,t,it,n+i,t,n+i/2,t+r,"Z"]},diamond:function(n,t,i,r){return[rt,n+i/2,t,it,n+i,t+r/2,n+i/2,t+r,n,t+r/2,"Z"]},arc:function(n,t,i,r,u){var o=u.start,f=u.r||i||r,s=u.end-.001,e=u.innerR,h=u.open,c=vt(o),l=bt(o),a=vt(s),v=bt(s),y=u.end-o<vi?0:1;return[rt,n+f*c,t+f*l,"A",f,f,0,y,1,n+f*a,t+f*v,h?rt:it,n+e*a,t+e*v,"A",e,e,0,y,0,n+e*c,t+e*l,h?"":"Z"]},callout:function(n,t,i,r,u){var a=6,h=6,f=s(u&&u.r||0,i,r),c=f+h,e=u&&u.anchorX,o=u&&u.anchorY,l;return l=["M",n+f,t,"L",n+i-f,t,"C",n+i,t,n+i,t,n+i,t+f,"L",n+i,t+r-f,"C",n+i,t+r,n+i,t+r,n+i-f,t+r,"L",n+f,t+r,"C",n,t+r,n,t+r,n,t+r-f,"L",n,t+f,"C",n,t,n,t,n+f,t],e&&e>i&&o>t+c&&o<t+r-c?l.splice(13,3,"L",n+i,o-h,n+i+a,o,n+i,o+h,n+i,t+r-f):e&&e<0&&o>t+c&&o<t+r-c?l.splice(33,3,"L",n,o+h,n-a,o,n,o-h,n,t+f):o&&o>r&&e>n+c&&e<n+i-c?l.splice(23,3,"L",e+h,t+r,e,t+r+a,e-h,t+r,n+f,t+r):o&&o<0&&e>n+c&&e<n+i-c&&l.splice(3,3,"L",e-h,t,e,t-a,e+h,t,i-f,t),l}},clipRect:function(n,t,i,r){var u,f=st+bf++,e=this.createElement("clipPath").attr({id:f}).add(this.defs);return u=this.rect(n,t,i,r,0).add(e),u.id=f,u.clipPath=e,u.count=0,u},text:function(n,t,i,r){var u=this,o=ei||!kt&&u.forExport,f,e={};return r&&!u.forExport?u.html(n,t,i):(e.x=Math.round(t||0),i&&(e.y=Math.round(i)),(n||n===0)&&(e.text=n),f=u.createElement("text").attr(e),o&&f.css({position:tr}),r||(f.xSetter=function(n,t,i){for(var f=i.getElementsByTagName("tspan"),u,e=i.getAttribute(t),r=0;r<f.length;r++)u=f[r],u.getAttribute(t)===e&&u.setAttribute(t,n);i.setAttribute(t,n)}),f)},fontMetrics:function(n,t){var i,f,r;return n=n||this.style.fontSize,t&&ft.getComputedStyle&&(t=t.element||t,r=ft.getComputedStyle(t,""),n=r&&r.fontSize),n=/px/.test(n)?v(n):/em/.test(n)?parseFloat(n)*12:12,i=n<24?n+3:u(n*1.2),f=u(i*.8),{h:i,b:f,f:n}},rotCorr:function(n,t,i){var r=n;return t&&i&&(r=f(r*vt(t*hi),4)),{x:-n/3*bt(t*hi),y:r}},label:function(n,f,s,h,c,l,a,v,y){function pt(){var n,t,i=w.element.style;d=(nt===undefined||st===undefined||p.styles.textAlign)&&r(w.textStr)&&w.getBBox();p.width=(nt||d.width||0)+2*k+ut;p.height=(st||d.height||0)+2*k;vt=k+g.fontMetrics(i&&i.fontSize,w).b;yt&&(b||(n=u(-tt*k)+ft,t=(v?-vt:0)+ft,p.box=b=h?g.symbol(h,n,t,p.width,p.height,it):g.rect(n,t,p.width,p.height,0,it[rs]),b.isImg||b.attr("fill",at),b.add(p)),b.isImg||b.attr(e({width:u(p.width),height:u(p.height)},it)),it=null)}function ot(){var f=p.styles,u=f&&f.textAlign,t=ut+k*(1-tt),n;n=v?0:vt;r(nt)&&d&&(u==="center"||u==="right")&&(t+={center:.5,right:1}[u]*(nt-d.width));(t!==w.x||n!==w.y)&&(w.attr("x",t),n!==i&&w.attr("y",n));w.x=t;w.y=n}function rt(n,t){b?b.attr(n,t):it[n]=t}var g=this,p=g.g(y),w=g.text("",0,0,a).attr({zIndex:1}),b,d,tt=0,k=3,ut=0,nt,st,ht,ct,ft=0,it={},vt,yt,wt;return p.onAdd=function(){w.add(p);p.attr({text:n||n===0?n:"",x:f,y:s});b&&r(c)&&p.attr({anchorX:c,anchorY:l})},p.widthSetter=function(n){nt=n},p.heightSetter=function(n){st=n},p.paddingSetter=function(n){r(n)&&n!==k&&(k=p.padding=n,ot())},p.paddingLeftSetter=function(n){r(n)&&n!==ut&&(ut=n,ot())},p.alignSetter=function(n){tt={left:0,center:.5,right:1}[n]},p.textSetter=function(n){n!==i&&w.textSetter(n);pt();ot()},p["stroke-widthSetter"]=function(n,t){n&&(yt=!0);ft=n%2/2;rt(t,n)},p.strokeSetter=p.fillSetter=p.rSetter=function(n,t){t==="fill"&&n&&(yt=!0);rt(t,n)},p.anchorXSetter=function(n,t){c=n;rt(t,u(n)-ft-ht)},p.anchorYSetter=function(n,t){l=n;rt(t,n-ct)},p.xSetter=function(n){p.x=n;tt&&(n-=tt*((nt||d.width)+k));ht=u(n);p.attr("translateX",ht)},p.ySetter=function(n){ct=p.y=u(n);p.attr("translateY",ct)},wt=p.css,e(p,{css:function(n){if(n){var r={};n=o(n);t(p.textProps,function(t){n[t]!==i&&(r[t]=n[t],delete n[t])});w.css(r)}return wt.call(p,n)},getBBox:function(){return{width:d.width+2*k,height:d.height+2*k,x:d.x-k,y:d.y-k}},shadow:function(n){return b&&b.shadow(n),p},destroy:function(){et(p.element,"mouseenter");et(p.element,"mouseleave");w&&(w=w.destroy());b&&(b=b.destroy());lt.prototype.destroy.call(p);p=g=pt=ot=rt=null}})}},nu=fi,e(lt.prototype,{htmlCss:function(n){var t=this,r=t.element,i=n&&r.tagName==="SPAN"&&n.width;return i&&(delete n.width,t.textWidth=i,t.updateTransform()),n&&n.textOverflow==="ellipsis"&&(n.whiteSpace="nowrap",n.overflow="hidden"),t.styles=e(t.styles,n),k(t.element,n),t},htmlGetBBox:function(){var t=this,n=t.element;return n.nodeName==="text"&&(n.style.position=tr),{x:n.offsetLeft,y:n.offsetTop,width:n.offsetWidth,height:n.offsetHeight}},htmlUpdateTransform:function(){if(!this.added){this.alignOnAdd=!0;return}var i=this,c=i.renderer,u=i.element,l=i.translateX||0,a=i.translateY||0,g=i.x||0,nt=i.y||0,s=i.textAlign||"left",p={left:0,center:.5,right:1}[s],w=i.shadows,b=i.styles;if(k(u,{marginLeft:l,marginTop:a}),w&&t(w,function(n){k(n,{marginLeft:l+1,marginTop:a+1})}),i.inverted&&t(u.childNodes,function(n){c.invertChild(n,u)}),u.tagName==="SPAN"){var f,e=i.rotation,o,h=v(i.textWidth),d=[e,s,u.innerHTML,i.textWidth,i.textAlign].join(",");d!==i.cTT&&(o=c.fontMetrics(u.style.fontSize).b,r(e)&&i.setSpanRotation(e,p,o),f=n(i.elemWidth,u.offsetWidth),f>h&&/[ \-]/.test(u.textContent||u.innerText)&&(k(u,{width:h+y,display:"block",whiteSpace:b&&b.whiteSpace||"normal"}),f=h),i.getSpanCorrection(f,o,p,e,s));k(u,{left:g+(i.xCorr||0)+y,top:nt+(i.yCorr||0)+y});ff&&(o=u.offsetHeight);i.cTT=d}},setSpanRotation:function(n,t,i){var r={},u=or?"-ms-transform":ff?"-webkit-transform":gr?"MozTransform":ke?"-o-transform":"";r[u]=r.transform="rotate("+n+"deg)";r[u+(gr?"Origin":"-origin")]=r.transformOrigin=t*100+"% "+i+"px";k(this.element,r)},getSpanCorrection:function(n,t,i){this.xCorr=-n*i;this.yCorr=-t}}),e(fi.prototype,{html:function(n,i,r){var f=this.createElement("span"),o=f.element,s=f.renderer;return f.textSetter=function(n){n!==o.innerHTML&&delete this.bBox;o.innerHTML=this.textStr=n;f.htmlUpdateTransform()},f.xSetter=f.ySetter=f.alignSetter=f.rotationSetter=function(n,t){t==="align"&&(t="textAlign");f[t]=n;f.htmlUpdateTransform()},f.attr({text:n,x:u(i),y:u(r)}).css({position:tr,fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),o.style.whiteSpace="nowrap",f.css=f.htmlCss,s.isSVG&&(f.add=function(n){var i,u=s.box.parentNode,r,h=[];if(this.parentGroup=n,n){if(i=n.div,!i){for(r=n;r;)h.push(r),r=r.parentGroup;t(h.reverse(),function(n){var t,r=ht(n.element,"class");r&&(r={className:r});i=n.div=n.div||pt(tu,r,{position:tr,left:(n.translateX||0)+y,top:(n.translateY||0)+y},i||u);t=i.style;e(n,{translateXSetter:function(i,r){t.left=i+y;n[r]=i;n.doTransform=!0},translateYSetter:function(i,r){t.top=i+y;n[r]=i;n.doTransform=!0}});tt(n,"visibilitySetter",function(n,i,r,u){n.call(this,i,r,u);t[r]=i})})}}else i=u;return i.appendChild(o),f.added=!0,f.alignOnAdd&&f.htmlUpdateTransform(),f}),f}}),kt||ei||(br={init:function(n,t){var f=this,i=["<",t,' filled="f" stroked="f"'],r=["position: ",tr,";"],u=t===tu;(t==="shape"||u)&&r.push("left:0;top:0;width:1px;height:1px;");r.push("visibility: ",u?ci:oi);i.push(' style="',r.join(""),'"/>');t&&(i=u||t==="span"||t==="img"?i.join(""):n.prepVML(i),f.element=pt(i));f.renderer=n},add:function(n){var t=this,i=t.renderer,r=t.element,f=i.box,e=n&&n.inverted,u=n?n.element||n:f;return e&&i.invertChild(r,u),u.appendChild(r),t.added=!0,t.alignOnAdd&&!t.deferUpdateTransform&&t.updateTransform(),t.onAdd&&t.onAdd(),t},updateTransform:lt.prototype.htmlUpdateTransform,setSpanRotation:function(){var n=this.rotation,t=vt(n*hi),i=bt(n*hi);k(this.element,{filter:n?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-i,", M21=",i,", M22=",t,", sizingMethod='auto expand')"].join(""):at})},getSpanCorrection:function(t,i,r,u,f){var e=u?vt(u*hi):1,o=u?bt(u*hi):0,h=n(this.elemHeight,this.element.offsetHeight),s,c=f&&f!=="left";this.xCorr=e<0&&-t;this.yCorr=o<0&&-h;s=e*o<0;this.xCorr+=o*i*(s?1-r:r);this.yCorr-=e*i*(u?s?r:1-r:1);c&&(this.xCorr-=t*r*(e<0?-1:1),u&&(this.yCorr-=h*r*(o<0?-1:1)),k(this.element,{textAlign:f}))},pathToVML:function(n){for(var t=n.length,i=[];t--;)pi(n[t])?i[t]=u(n[t]*10)-5:n[t]==="Z"?i[t]="x":(i[t]=n[t],n.isArc&&(n[t]==="wa"||n[t]==="at")&&(i[t+5]===i[t+7]&&(i[t+7]+=n[t+7]>n[t+5]?1:-1),i[t+6]===i[t+8]&&(i[t+8]+=n[t+8]>n[t+6]?1:-1)));return i.join(" ")||"x"},clip:function(n){var t=this,i,r;return n?(i=n.members,bi(i,t),i.push(t),t.destroyClip=function(){bi(i,t)},r=n.getCSS(t)):(t.destroyClip&&t.destroyClip(),r={clip:uf?"inherit":"rect(auto)"}),t.css(r)},css:lt.prototype.htmlCss,safeRemoveChild:function(n){n.parentNode&&uu(n)},destroy:function(){return this.destroyClip&&this.destroyClip(),lt.prototype.destroy.apply(this)},on:function(n,t){return this.element["on"+n]=function(){var n=ft.event;n.target=n.srcElement;t(n)},this},cutOffPath:function(n,t){var i;return n=n.split(/[ ,]/),i=n.length,(i===9||i===11)&&(n[i-4]=n[i-2]=v(n[i-2])-10*t),n.join(" ")},shadow:function(t,i,r){var a=[],f,e=this.element,y=this.renderer,u,p=e.style,s,o=e.path,h,c,l,w;if(o&&typeof o.value!="string"&&(o="x"),c=o,t){for(l=n(t.width,3),w=(t.opacity||.15)/l,f=1;f<=3;f++)h=l*2+1-2*f,r&&(c=this.cutOffPath(o.value,h+.5)),s=['<shape isShadow="true" strokeweight="',h,'" filled="false" path="',c,'" coordsize="10 10" style="',e.style.cssText,'" />'],u=pt(y.prepVML(s),null,{left:v(p.left)+n(t.offsetX,1),top:v(p.top)+n(t.offsetY,1)}),r&&(u.cutOff=h+1),s=['<stroke color="',t.color||"black",'" opacity="',w*f,'"/>'],pt(y.prepVML(s),null,null,u),i?i.element.appendChild(u):e.parentNode.insertBefore(u,e),a.push(u);this.shadows=a}return this},updateShadows:ti,setAttr:function(n,t){uf?this.element[n]=t:this.element.setAttribute(n,t)},classSetter:function(n){this.element.className=n},dashstyleSetter:function(n,t,i){var r=i.getElementsByTagName("stroke")[0]||pt(this.renderer.prepVML(["<stroke/>"]),null,null,i);r[t]=n||"solid";this[t]=n},dSetter:function(n,t,i){var r,u=this.shadows;if(n=n||[],this.d=n.join&&n.join(" "),i.path=n=this.pathToVML(n),u)for(r=u.length;r--;)u[r].path=u[r].cutOff?this.cutOffPath(n,u[r].cutOff):n;this.setAttr(t,n)},fillSetter:function(n,t,i){var r=i.nodeName;r==="SPAN"?i.style.color=n:r!=="IMG"&&(i.filled=n!==at,this.setAttr("fillcolor",this.renderer.color(n,i,t,this)))},opacitySetter:ti,rotationSetter:function(n,t,i){var r=i.style;this[t]=r[t]=n;r.left=-u(bt(n*hi)+1)+y;r.top=u(vt(n*hi))+y},strokeSetter:function(n,t,i){this.setAttr("strokecolor",this.renderer.color(n,i,t))},"stroke-widthSetter":function(n,t,i){i.stroked=!!n;this[t]=n;pi(n)&&(n+=y);this.setAttr("strokeweight",n)},titleSetter:function(n,t){this.setAttr(t,n)},visibilitySetter:function(n,i,r){n==="inherit"&&(n=oi);this.shadows&&t(this.shadows,function(t){t.style[i]=n});r.nodeName==="DIV"&&(n=n===ci?"-999em":0,uf||(r.style[i]=n?oi:ci),i="top");r.style[i]=n},xSetter:function(n,t,i){this[t]=n;t==="x"?t="left":t==="y"&&(t="top");this.updateClipping?(this[t]=n,this.updateClipping()):i.style[t]=n},zIndexSetter:function(n,t,i){i.style[t]=n}},h.VMLElement=br=ri(lt,br),br.prototype.ySetter=br.prototype.widthSetter=br.prototype.heightSetter=br.prototype.xSetter,so={Element:br,isIE8:er.indexOf("MSIE 8.0")>-1,init:function(n,t,i,r){var u=this,f,s,o;if(u.alignedObjects=[],f=u.createElement(tu).css(e(this.getStyle(r),{position:df})),s=f.element,n.appendChild(f.element),u.isVML=!0,u.box=s,u.boxWrapper=f,u.cache={},u.setSize(t,i,!1),!l.namespaces.hcv){l.namespaces.add("hcv","urn:schemas-microsoft-com:vml");o="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{l.createStyleSheet().cssText=o}catch(h){l.styleSheets[0].cssText+=o}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(n,i,r,f){var s=this.createElement(),o=ii(n);return e(s,{members:[],count:0,left:(o?n.x:n)+1,top:(o?n.y:i)+1,width:(o?n.width:r)-1,height:(o?n.height:f)-1,getCSS:function(n){var h=n.element,c=h.nodeName,a=c==="shape",t=n.inverted,i=this,r=i.top-(a?h.offsetTop:0),f=i.left,o=f+i.width,s=r+i.height,l={clip:"rect("+u(t?f:r)+"px,"+u(t?s:o)+"px,"+u(t?o:s)+"px,"+u(t?r:f)+"px)"};return!t&&uf&&c==="DIV"&&e(l,{width:o+y,height:s+y}),l},updateClipping:function(){t(s.members,function(n){n.element&&n.css(s.getCSS(n))})}})},color:function(n,i,r,u){var dt=this,o,d=/^rgba/,v,c,l=at,p;if(n&&n.linearGradient?c="gradient":n&&n.radialGradient&&(c="pattern"),c){var s,y,f=n.linearGradient||n.radialGradient,g,tt,it,rt,ut,ft,et,ot,w="",h=n.stops,b,k,st=[],ht=function(){v=['<fill colors="'+st.join(",")+'" opacity="',ft,'" o:opacity2="',ut,'" type="',c,'" ',w,'focus="100%" method="any" />'];pt(dt.prepVML(v),null,null,i)};if(b=h[0],k=h[h.length-1],b[0]>0&&h.unshift([0,b[1]]),k[0]<1&&h.push([1,k[1]]),t(h,function(n,t){d.test(n[1])?(o=ki(n[1]),s=o.get("rgb"),y=o.get("a")):(s=n[1],y=1);st.push(n[0]*100+"% "+s);t?(ft=y,et=s):(ut=y,ot=s)}),r==="fill")if(c==="gradient")g=f.x1||f[0]||0,tt=f.y1||f[1]||0,it=f.x2||f[2]||0,rt=f.y2||f[3]||0,w='angle="'+(90-ct.atan((rt-tt)/(it-g))*180/vi)+'"',ht();else{var lt=f.r,vt=lt*2,yt=lt*2,wt=f.cx,bt=f.cy,a=i.radialReference,e,kt=function(){a&&(e=u.getBBox(),wt+=(a[0]-e.x)/e.width-.5,bt+=(a[1]-e.y)/e.height-.5,vt*=a[2]/e.width,yt*=a[2]/e.height);w='src="'+nt.global.VMLRadialGradientURL+'" size="'+vt+","+yt+'" origin="0.5,0.5" position="'+wt+","+bt+'" color2="'+ot+'" ';ht()};u.added?kt():u.onAdd=kt;l=et}else l=s}else d.test(n)&&i.tagName!=="IMG"?(o=ki(n),v=["<",r,' opacity="',o.get("a"),'"/>'],pt(this.prepVML(v),null,null,i),l=o.get("rgb")):(p=i.getElementsByTagName(r),p.length&&(p[0].opacity=1,p[0].type="solid"),l=n);return l},prepVML:function(n){var t="display:inline-block;behavior:url(#default#VML);",i=this.isIE8;return n=n.join(""),i?(n=n.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),n=n.indexOf('style="')===-1?n.replace("/>",' style="'+t+'" />'):n.replace('style="','style="'+t)):n=n.replace("<","<hcv:"),n},text:fi.prototype.html,path:function(n){var t={coordsize:"10 10"};return ar(n)?t.d=n:ii(n)&&e(t,n),this.createElement("shape").attr(t)},circle:function(n,t,i){var r=this.symbol("circle");return ii(n)&&(i=n.r,t=n.y,n=n.x),r.isCircle=!0,r.r=i,r.attr({x:n,y:t})},g:function(n){var t;return n&&(t={className:st+n,"class":st+n}),this.createElement(tu).attr(t)},image:function(n,t,i,r,u){var f=this.createElement("img").attr({src:n});return arguments.length>1&&f.attr({x:t,y:i,width:r,height:u}),f},createElement:function(n){return n==="rect"?this.symbol(n):fi.prototype.createElement.call(this,n)},invertChild:function(n,i){var f=this,u=i.style,r=n.tagName==="IMG"&&n.style;k(n,{flip:"x",left:v(u.width)-(r?v(r.top):1),top:v(u.height)-(r?v(r.left):1),rotation:-90});t(n.childNodes,function(t){f.invertChild(t,n)})},symbols:{arc:function(n,t,i,r,u){var s=u.start,h=u.end,e=u.r||i||r,f=u.innerR,c=vt(s),l=bt(s),a=vt(h),v=bt(h),o;return h-s==0?["x"]:(o=["wa",n-e,t-e,n+e,t+e,n+e*c,t+e*l,n+e*a,t+e*v],u.open&&!f&&o.push("e",rt,n,t),o.push("at",n-f,t-f,n+f,t+f,n+f*a,t+f*v,n+f*c,t+f*l,"x","e"),o.isArc=!0,o)},circle:function(n,t,i,r,u){return u&&(i=r=2*u.r),u&&u.isCircle&&(n-=i/2,t-=r/2),["wa",n,t,n+i,t+r,n+i,t+r/2,n+i,t+r/2,"e"]},rect:function(n,t,i,u,f){return fi.prototype.symbols[!r(f)||!f.r?"square":"callout"].call(0,n,t,i,u,f)}}},h.VMLRenderer=gu=function(){this.init.apply(this,arguments)},gu.prototype=o(fi.prototype,so),nu=gu),fi.prototype.measureSpanWidth=function(n,t){var i=l.createElement("span"),r,u=l.createTextNode(n);return i.appendChild(u),k(i,t),this.box.appendChild(i),r=i.offsetWidth,uu(i),r},ei&&(h.CanVGRenderer=he=function(){cr="http://www.w3.org/1999/xhtml"},he.prototype.symbols={},ho=function(){function t(){for(var i=n.length,t=0;t<i;t++)n[t]();n=[]}var n=[];return{push:function(i,r){n.length===0&&fs(r,t);n.push(i)}}}(),nu=he),su.prototype={addLabel:function(){var i=this,t=i.axis,l=t.options,a=t.chart,v=t.categories,k=t.names,u=i.pos,h=l.labels,e,s=t.tickPositions,y=u===s[0],p=u===s[s.length-1],w=v?n(v[u],k[u],u):u,f=i.label,c=s.info,b;t.isDatetimeAxis&&c&&(b=l.dateTimeLabelFormats[c.higherRanks[u]||c.unitName]);i.isFirst=y;i.isLast=p;e=t.labelFormatter.call({axis:t,chart:a,isFirst:y,isLast:p,dateTimeLabelFormat:b,value:t.isLog?si(wi(w)):w});r(f)?f&&f.attr({text:e}):(i.label=f=r(e)&&h.enabled?a.renderer.text(e,0,0,h.useHTML).css(o(h.style)).add(t.labelGroup):null,i.labelLength=f&&f.getBBox().width,i.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var i=this.axis,o=t.x,w=i.chart.chartWidth,b=i.chart.spacing,a=n(i.labelLeft,s(i.pos,b[3])),v=n(i.labelRight,f(i.pos+i.len,w-b[1])),y=this.label,c=this.rotation,e={left:0,center:.5,right:1}[i.labelAlign],h=y.getBBox().width,r=i.slotWidth,nt=e,k=1,d,g,l,p={};c?c<0&&o-e*h<a?l=u(o/vt(c*hi)-a):c>0&&o+e*h>v&&(l=u((w-o)/vt(c*hi))):(d=o-e*h,g=o+(1-e)*h,d<a?r=t.x+r*(1-e)-a:g>v&&(r=v-t.x+r*e,k=-1),r=s(i.slotWidth,r),r<i.slotWidth&&i.labelAlign==="center"&&(t.x+=k*(i.slotWidth-r-nt*(i.slotWidth-s(h,r)))),(h>r||i.autoRotation&&y.styles.width)&&(l=r));l&&(p.width=l,i.options.labels.style.textOverflow||(p.textOverflow="ellipsis"),y.css(p))},getPosition:function(n,t,i,r){var u=this.axis,f=u.chart,e=r&&f.oldChartHeight||f.chartHeight;return{x:n?u.translate(t+i,null,null,r)+u.transB:u.left+u.offset+(u.opposite?(r&&f.oldChartWidth||f.chartWidth)-u.right-u.left:0),y:n?e-u.bottom+u.offset-(u.opposite?u.height:0):e-u.translate(t+i,null,null,r)-u.transB}},getLabelPosition:function(t,i,r,f,e,o,s,h){var c=this.axis,a=c.transA,v=c.reversed,l=c.staggerLines,y=c.tickRotCorr||{x:0,y:0},w=n(e.y,y.y+(c.side===2?8:-(r.getBBox().height/2))),p;return t=t+e.x+y.x-(o&&f?o*a*(v?-1:1):0),i=i+w-(o&&!f?o*a*(v?1:-1):0),l&&(p=s/(h||1)%l,i+=p*(c.labelOffset/l)),{x:t,y:u(i)}},getMarkPath:function(n,t,i,r,u,f){return f.crispLine([rt,n,t,it,n+(u?0:-i),t+(u?i:0)],r)},render:function(t,r,u){var f=this,e=f.axis,o=e.options,lt=e.chart,g=lt.renderer,h=e.horiz,c=f.type,a=f.label,ot=f.pos,y=o.labels,p=f.gridLine,nt=c?c+"Grid":"grid",w=c?c+"Tick":"tick",b=o[nt+"LineWidth"],at=o[nt+"LineColor"],st=o[nt+"LineDashStyle"],l=o[w+"Length"],tt=n(o[w+"Width"],!c&&e.isXAxis?1:0),vt=o[w+"Color"],yt=o[w+"Position"],k,ht=f.mark,it,rt=y.step,v,ut=!0,ft=e.tickmarkOffset,s=f.getPosition(h,ot,ft,r),d=s.x,et=s.y,ct=h&&d===e.pos+e.len||!h&&et===e.pos?-1:1;u=n(u,1);this.isActive=!0;b&&(k=e.getPlotLinePath(ot+ft,b*ct,r,!0),p===i&&(v={stroke:at,"stroke-width":b},st&&(v.dashstyle=st),c||(v.zIndex=1),r&&(v.opacity=0),f.gridLine=p=b?g.path(k).attr(v).add(e.gridGroup):null),!r&&p&&k&&p[f.isNew?"attr":"animate"]({d:k,opacity:u}));tt&&l&&(yt==="inside"&&(l=-l),e.opposite&&(l=-l),it=f.getMarkPath(d,et,l,tt*ct,h,g),ht?ht.animate({d:it,opacity:u}):f.mark=g.path(it).attr({stroke:vt,"stroke-width":tt,opacity:u}).add(e.axisGroup));a&&!isNaN(d)&&(a.xy=s=f.getLabelPosition(d,et,a,h,y,ft,t,rt),(!f.isFirst||f.isLast||n(o.showFirstLabel,1))&&(!f.isLast||f.isFirst||n(o.showLastLabel,1))?!h||e.isRadial||y.step||y.rotation||r||u===0||f.handleOverflow(s):ut=!1,rt&&t%rt&&(ut=!1),ut&&!isNaN(s.y)?(s.opacity=u,a[f.isNew?"attr":"animate"](s),f.isNew=!1):a.attr("y",-9999))},destroy:function(){pr(this,this.axis)}},h.PlotLineOrBand=function(n,t){this.axis=n;t&&(this.options=t,this.id=t.id)},h.PlotLineOrBand.prototype={render:function(){var f=this,c=f.axis,l=c.horiz,t=f.options,i=t.label,e=f.label,p=t.width,a=t.to,v=t.from,s=r(v)&&r(a),w=t.value,it=t.dashStyle,h=f.svgElem,n=[],rt,ut,b,k,d,g,nt=t.color,y=t.zIndex,tt=t.events,u={},ft=c.chart.renderer;if(c.isLog&&(v=vr(v),a=vr(a),w=vr(w)),p)n=c.getPlotLinePath(w,p),u={stroke:nt,"stroke-width":p},it&&(u.dashstyle=it);else if(s)n=c.getPlotBandPath(v,a,t),nt&&(u.fill=nt),t.borderWidth&&(u.stroke=t.borderColor,u["stroke-width"]=t.borderWidth);else return;if(r(y)&&(u.zIndex=y),h)n?h.animate({d:n},null,h.onGetPath):(h.hide(),h.onGetPath=function(){h.show()},e&&(f.label=e=e.destroy()));else if(n&&n.length&&(f.svgElem=h=ft.path(n).attr(u).add(),tt)){rt=function(n){h.on(n,function(t){tt[n].apply(f,[t])})};for(ut in tt)rt(ut)}return i&&r(i.text)&&n&&n.length&&c.width>0&&c.height>0?(i=o({align:l&&s&&"center",x:l?!s&&4:10,verticalAlign:!l&&s&&"middle",y:l?s?16:10:s?6:-4,rotation:l&&!s&&90},i),e||(u={align:i.textAlign||i.align,rotation:i.rotation},r(y)&&(u.zIndex=y),f.label=e=ft.text(i.text,0,0,i.useHTML).attr(u).css(i.style).add()),b=[n[1],n[4],s?n[6]:n[1]],k=[n[2],n[5],s?n[7]:n[2]],d=ru(b),g=ru(k),e.align(i,!1,{x:d,y:g,width:hr(b)-d,height:hr(k)-g}),e.show()):e&&e.hide(),f},destroy:function(){bi(this.axis.plotLinesAndBands,this);delete this.axis;pr(this)}},to={getPlotBandPath:function(n,t){var i=this.getPlotLinePath(t,null,null,!0),r=this.getPlotLinePath(n,null,null,!0);return r&&i&&r.toString()!==i.toString()?r.push(i[4],i[5],i[1],i[2]):r=null,r},addPlotBand:function(n){return this.addPlotBandOrLine(n,"plotBands")},addPlotLine:function(n){return this.addPlotBandOrLine(n,"plotLines")},addPlotBandOrLine:function(n,t){var i=new h.PlotLineOrBand(this,n).render(),r=this.userOptions;return i&&(t&&(r[t]=r[t]||[],r[t].push(n)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(n){for(var r=this.plotLinesAndBands,u=this.options,f=this.userOptions,i=r.length;i--;)r[i].id===n&&r[i].destroy();t([u.plotLines||[],f.plotLines||[],u.plotBands||[],f.plotBands||[]],function(t){for(i=t.length;i--;)t[i].id===n&&bi(t,t[i])})}},p=h.Axis=function(){this.init.apply(this,arguments)},p.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return h.numberFormat(this.total,-1)},style:o(ut.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(t,u){var o=u.isX,f=this,h,l;f.chart=t;f.horiz=t.inverted?!o:o;f.isXAxis=o;f.coll=o?"xAxis":"yAxis";f.opposite=u.opposite;f.side=u.side||(f.horiz?f.opposite?0:2:f.opposite?1:3);f.setOptions(u);var e=this.options,s=e.type,a=s==="datetime";f.labelFormatter=e.labels.formatter||f.defaultLabelFormatter;f.userOptions=u;f.minPixelPadding=0;f.reversed=e.reversed;f.zoomEnabled=e.zoomEnabled!==!1;f.categories=e.categories||s==="category";f.names=f.names||[];f.isLog=s==="logarithmic";f.isDatetimeAxis=a;f.isLinked=r(e.linkedTo);f.ticks={};f.labelEdge=[];f.minorTicks={};f.plotLinesAndBands=[];f.alternateBands={};f.len=0;f.minRange=f.userMinRange=e.minRange||e.maxZoom;f.range=e.range;f.offset=e.offset||0;f.stacks={};f.oldStacks={};f.stacksTouched=0;f.max=null;f.min=null;f.crosshair=n(e.crosshair,li(t.options.tooltip.crosshairs)[o?0:1],!1);l=f.options.events;wr(f,t.axes)===-1&&(o&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,f):t.axes.push(f),t[f.coll].push(f));f.series=f.series||[];t.inverted&&o&&f.reversed===i&&(f.reversed=!0);f.removePlotBand=f.removePlotBandOrLine;f.removePlotLine=f.removePlotBandOrLine;for(h in l)c(f,h,l[h]);f.isLog&&(f.val2lin=vr,f.lin2val=wi)},setOptions:function(n){this.options=o(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],o(nt[this.coll],n))},defaultLabelFormatter:function(){var u=this.axis,n=this.value,l=u.categories,o=this.dateTimeLabelFormat,f=nt.lang.numericSymbols,r=f&&f.length,e,t,s=u.options.labels.format,c=u.isLog?n:u.tickInterval;if(s)t=yr(s,this);else if(l)t=n;else if(o)t=ni(o,n);else if(r&&c>=1e3)while(r--&&t===i)e=Math.pow(1e3,r+1),c>=e&&n*10%e==0&&f[r]!==null&&(t=h.numberFormat(n/e,-1)+f[r]);return t===i&&(t=d(n)>=1e4?h.numberFormat(n,-1):h.numberFormat(n,-1,i,"")),t},getSeriesExtremes:function(){var i=this,u=i.chart;i.hasVisibleSeries=!1;i.dataMin=i.dataMax=i.ignoreMinPadding=i.ignoreMaxPadding=null;i.buildStacks&&i.buildStacks();t(i.series,function(t){if(t.visible||!u.options.chart.ignoreHiddenSeries){var l=t.options,o,e=l.threshold,h,c;i.hasVisibleSeries=!0;i.isLog&&e<=0&&(e=null);i.isXAxis?(o=t.xData,o.length&&(i.dataMin=s(n(i.dataMin,o[0]),ru(o)),i.dataMax=f(n(i.dataMax,o[0]),hr(o)))):(t.getExtremes(),c=t.dataMax,h=t.dataMin,r(h)&&r(c)&&(i.dataMin=s(n(i.dataMin,h),h),i.dataMax=f(n(i.dataMax,c),c)),r(e)&&(i.dataMin>=e?(i.dataMin=e,i.ignoreMinPadding=!0):i.dataMax<e&&(i.dataMax=e,i.ignoreMaxPadding=!0)))}})},translate:function(n,t,i,r,u,f){var e=this.linkedParent||this,o=1,c=0,s=r?e.oldTransA:e.transA,l=r?e.oldMin:e.min,h,a=e.minPixelPadding,v=(e.doPostTranslate||e.isLog&&u)&&e.lin2val;return s||(s=e.transA),i&&(o*=-1,c=e.len),e.reversed&&(o*=-1,c-=o*(e.sector||e.len)),t?(n=n*o+c,n-=a,h=n/s+l,v&&(h=e.lin2val(h))):(v&&(n=e.val2lin(n)),f==="between"&&(f=.5),h=o*(n-l)*s+c+o*a+(pi(f)?s*f*e.pointRange:0)),h},toPixels:function(n,t){return this.translate(n,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(n,t){return this.translate(n-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,i,r,e,o){var h=this,c=h.chart,p=h.left,w=h.top,l,a,v,y,k=r&&c.oldChartHeight||c.chartHeight,nt=r&&c.oldChartWidth||c.chartWidth,b,d=h.transB,g=function(n,t,i){return(n<t||n>i)&&(e?n=s(f(t,n),i):b=!0),n};return o=n(o,h.translate(t,null,null,r)),l=v=u(o+d),a=y=u(k-o-d),isNaN(o)?b=!0:h.horiz?(a=w,y=k-h.bottom,l=v=g(l,p,p+h.width)):(l=p,v=nt-h.right,a=y=g(a,w,w+h.height)),b&&!e?null:c.renderer.crispLine([rt,l,a,it,v,y],i||1)},getLinearTickPositions:function(n,t,i){var r,u,e=si(ot(t/n)*n),o=si(nr(i/n)*n),f=[];if(t===i&&pi(t))return[t];for(r=e;r<=o;){if(f.push(r),r=si(r+n),r===u)break;u=r}return f},getMinorTickPositions:function(){var n=this,u=n.options,f=n.tickPositions,i=n.minorTickInterval,t=[],e,r,h=n.pointRangePadding||0,o=n.min-h,s=n.max+h,c=s-o,l;if(c&&c/i<n.len/3)if(n.isLog)for(l=f.length,r=1;r<l;r++)t=t.concat(n.getLogTickPositions(i,f[r-1],f[r],!0));else if(n.isDatetimeAxis&&u.minorTickInterval==="auto")t=t.concat(n.getTimeTicks(n.normalizeTimeTickInterval(i),o,s,u.startOfWeek));else for(e=o+(f[0]-o)%i;e<=s;e+=i)t.push(e);return t.length!==0&&n.trimTicks(t,u.startOnTick,u.endOnTick),t},adjustForMinRange:function(){var u=this,c=u.options,f=u.min,e=u.max,y,b=u.dataMax-u.dataMin>=u.minRange,a,l,p,v,k,h,w,o;u.isXAxis&&u.minRange===i&&!u.isLog&&(r(c.min)||r(c.max)?u.minRange=null:(t(u.series,function(n){for(v=n.xData,k=n.xIncrement?1:v.length-1,l=k;l>0;l--)p=v[l]-v[l-1],(a===i||p<a)&&(a=p)}),u.minRange=s(a*5,u.dataMax-u.dataMin)));e-f<u.minRange&&(o=u.minRange,y=(o-e+f)/2,h=[f-y,n(c.min,f-y)],b&&(h[2]=u.dataMin),f=hr(h),w=[f+o,n(c.max,f+o)],b&&(w[2]=u.dataMax),e=ru(w),e-f<o&&(h[0]=e-o,h[1]=n(c.min,e-o),f=hr(h)));u.min=f;u.max=e},setAxisTranslation:function(n){var i=this,c=i.max-i.min,h=i.axisPointRange||0,u,e=0,o=0,l=i.linkedParent,a,p=!!i.categories,v=i.transA,y=i.isXAxis;(y||p||h)&&(l?(e=l.minPointOffset,o=l.pointRangePadding):t(i.series,function(n){var t=p?1:y?n.pointRange:i.axisPointRange||0,a=n.options.pointPlacement,l=n.closestPointRange;t>c&&(t=0);h=f(h,t);i.single||(e=f(e,lr(a)?0:t/2),o=f(o,a==="on"?0:t));!n.noSharedTooltip&&r(l)&&(u=r(u)?s(u,l):l)}),a=i.ordinalSlope&&u?i.ordinalSlope/u:1,i.minPointOffset=e=e*a,i.pointRangePadding=o=o*a,i.pointRange=s(h,c),y&&(i.closestPointRange=u));n&&(i.oldTransA=v);i.translationSlope=i.transA=v=i.len/(c+o||1);i.transB=i.horiz?i.left:i.bottom;i.minPixelPadding=v*e},minFromRange:function(){return this.max-this.range},setTickInterval:function(i){var u=this,d=u.chart,e=u.options,p=u.isLog,w=u.isDatetimeAxis,g=u.isXAxis,c=u.isLinked,b=e.maxPadding,k=e.minPadding,l,o,h=e.tickInterval,a,v=e.tickPixelInterval,y=u.categories;w||y||c||this.getTickAmount();c?(u.linkedParent=d[u.coll][e.linkedTo],o=u.linkedParent.getExtremes(),u.min=n(o.min,o.dataMin),u.max=n(o.max,o.dataMax),e.type!==u.linkedParent.options.type&&ai(11,1)):(u.min=n(u.userMin,e.min,u.dataMin),u.max=n(u.userMax,e.max,u.dataMax));p&&(!i&&s(u.min,n(u.dataMin,u.min))<=0&&ai(10,1),u.min=si(vr(u.min),15),u.max=si(vr(u.max),15));u.range&&r(u.max)&&(u.userMin=u.min=f(u.min,u.minFromRange()),u.userMax=u.max,u.range=null);u.beforePadding&&u.beforePadding();u.adjustForMinRange();y||u.axisPointRange||u.usePercentage||c||!r(u.min)||!r(u.max)||(l=u.max-u.min,l&&(!r(e.min)&&!r(u.userMin)&&k&&(u.dataMin<0||!u.ignoreMinPadding)&&(u.min-=l*k),!r(e.max)&&!r(u.userMax)&&b&&(u.dataMax>0||!u.ignoreMaxPadding)&&(u.max+=l*b)));pi(e.floor)&&(u.min=f(u.min,e.floor));pi(e.ceiling)&&(u.max=s(u.max,e.ceiling));u.tickInterval=u.min===u.max||u.min===undefined||u.max===undefined?1:c&&!h&&v===u.linkedParent.options.tickPixelInterval?h=u.linkedParent.tickInterval:n(h,this.tickAmount?(u.max-u.min)/f(this.tickAmount-1,1):undefined,y?1:(u.max-u.min)*v/f(u.len,v));g&&!i&&t(u.series,function(n){n.processData(u.min!==u.oldMin||u.max!==u.oldMax)});u.setAxisTranslation(!0);u.beforeSetTickPositions&&u.beforeSetTickPositions();u.postProcessTickInterval&&(u.tickInterval=u.postProcessTickInterval(u.tickInterval));u.pointRange&&(u.tickInterval=f(u.pointRange,u.tickInterval));a=n(e.minTickInterval,u.isDatetimeAxis&&u.closestPointRange);!h&&u.tickInterval<a&&(u.tickInterval=a);w||p||h||(u.tickInterval=oe(u.tickInterval,null,ee(u.tickInterval),n(e.allowDecimals,!(u.tickInterval>.5&&u.tickInterval<5&&u.max>1e3&&u.max<9999)),!!this.tickAmount));!this.tickAmount&&this.len&&(u.tickInterval=u.unsquish());this.setTickPositions()},setTickPositions:function(){var t=this.options,n,u=t.tickPositions,i=t.tickPositioner,e=t.startOnTick,o=t.endOnTick,f;this.tickmarkOffset=this.categories&&t.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0;this.minorTickInterval=t.minorTickInterval==="auto"&&this.tickInterval?this.tickInterval/5:t.minorTickInterval;this.tickPositions=n=u&&u.slice();n||(n=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,t.units),this.min,this.max,t.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),n.length>this.len&&(n=[n[0],n.pop()]),this.tickPositions=n,i&&(i=i.apply(this,[this.min,this.max]),i&&(this.tickPositions=n=i)));this.isLinked||(this.trimTicks(n,e,o),this.min===this.max&&r(this.min)&&!this.tickAmount&&(f=!0,this.min-=.5,this.max+=.5),this.single=f,u||i||this.adjustTickAmount())},trimTicks:function(n,t,i){var u=n[0],f=n[n.length-1],e=this.minPointOffset||0;t?this.min=u:this.min-e>u&&n.shift();i?this.max=f:this.max+e<f&&n.pop();n.length===0&&r(u)&&n.push((f+u)/2)},getTickAmount:function(){var u={},f,i=this.options,n=i.tickAmount,e=i.tickPixelInterval;!r(i.tickInterval)&&this.len<e&&!this.isRadial&&!this.isLog&&i.startOnTick&&i.endOnTick&&(n=2);n||this.chart.options.chart.alignTicks===!1||i.alignTicks===!1||(t(this.chart[this.coll],function(n){var t=n.options,i=n.horiz,r=[i?t.left:t.top,i?t.width:t.height,t.pane].join(",");u[r]?n.series.length&&(f=!0):u[r]=1}),f&&(n=nr(this.len/e)+1));n<4&&(this.finalTickAmt=n,n=5);this.tickAmount=n},adjustTickAmount:function(){var s=this.tickInterval,n=this.tickPositions,u=this.tickAmount,f=this.finalTickAmt,e=n&&n.length,t,o;if(e<u){while(n.length<u)n.push(si(n[n.length-1]+s));this.transA*=(e-1)/(u-1);this.max=n[n.length-1]}else e>u&&(this.tickInterval*=2,this.setTickPositions());if(r(f)){for(t=o=n.length;t--;)(f===3&&t%2==1||f<=2&&t>0&&t<o-1)&&n.splice(t,1);this.finalTickAmt=i}},setScale:function(){var n=this,r,i;n.oldMin=n.min;n.oldMax=n.max;n.oldAxisLength=n.len;n.setAxisSize();i=n.len!==n.oldAxisLength;t(n.series,function(n){(n.isDirtyData||n.isDirty||n.xAxis.isDirty)&&(r=!0)});i||r||n.isLinked||n.forceRedraw||n.userMin!==n.oldUserMin||n.userMax!==n.oldUserMax?(n.resetStacks&&n.resetStacks(),n.forceRedraw=!1,n.getSeriesExtremes(),n.setTickInterval(),n.oldUserMin=n.userMin,n.oldUserMax=n.userMax,n.isDirty||(n.isDirty=i||n.min!==n.oldMin||n.max!==n.oldMax)):n.cleanStacks&&n.cleanStacks()},setExtremes:function(i,r,u,f,o){var s=this,h=s.chart;u=n(u,!0);t(s.series,function(n){delete n.kdTree});o=e(o,{min:i,max:r});g(s,"setExtremes",o,function(){s.userMin=i;s.userMax=r;s.eventArgs=o;u&&h.redraw(f)})},zoom:function(t,u){var e=this.dataMin,o=this.dataMax,h=this.options,c=s(e,n(h.min,e)),l=f(o,n(h.max,o));return this.allowZoomOutside||(r(e)&&t<=c&&(t=c),r(o)&&u>=l&&(u=l)),this.displayBtn=t!==i||u!==i,this.setExtremes(t,u,!1,i,{trigger:"zoom"}),!0},setAxisSize:function(){var t=this.chart,i=this.options,s=i.offsetLeft||0,l=i.offsetRight||0,h=this.horiz,e=n(i.width,t.plotWidth-s+l),r=n(i.height,t.plotHeight),u=n(i.top,t.plotTop),o=n(i.left,t.plotLeft+s),c=/%$/;c.test(r)&&(r=parseFloat(r)/100*t.plotHeight);c.test(u)&&(u=parseFloat(u)/100*t.plotHeight+t.plotTop);this.left=o;this.top=u;this.width=e;this.height=r;this.bottom=t.chartHeight-r-u;this.right=t.chartWidth-e-o;this.len=f(h?e:r,0);this.pos=h?o:u},getExtremes:function(){var n=this,t=n.isLog;return{min:t?si(wi(n.min)):n.min,max:t?si(wi(n.max)):n.max,dataMin:n.dataMin,dataMax:n.dataMax,userMin:n.userMin,userMax:n.userMax}},getThreshold:function(n){var t=this,u=t.isLog,r=u?wi(t.min):t.min,i=u?wi(t.max):t.max;return n===null?n=i<0?i:r:r>n?n=r:i<n&&(n=i),t.translate(n,0,1,0,1)},autoLabelAlign:function(t){var i=(n(t,0)-this.side*90+720)%360;return i>15&&i<165?"right":i>195&&i<345?"left":"center"},unsquish:function(){var p=this.chart,h=this.ticks,i=this.options.labels,w=this.horiz,f=this.tickInterval,e=f,c=this.len/(((this.categories?1:0)+this.max-this.min)/f),l,o=i.rotation,a=p.renderer.fontMetrics(i.style.fontSize,h[0]&&h[0].label),s,v=Number.MAX_VALUE,u,y=function(n){var t=n/(c||1);return t=t>1?nr(t):1,t*f};return w?(u=r(o)?[o]:c<n(i.autoRotationLimit,80)&&!i.staggerLines&&!i.step&&i.autoRotation,u&&t(u,function(n){var t;(n===o||n&&n>=-90&&n<=90)&&(s=y(d(a.h/bt(hi*n))),t=s+d(n/360),t<v&&(v=t,l=n,e=s))})):i.step||(e=y(a.h)),this.autoRotation=u,this.labelRotation=l,e},renderUnsquish:function(){var n=this.chart,w=n.renderer,r=this.tickPositions,c=this.ticks,i=this.options.labels,v=this.horiz,b=n.margin,tt=this.categories?r.length:r.length-1,k=this.slotWidth=v&&!i.step&&!i.rotation&&(this.staggerLines||1)*n.plotWidth/tt||!v&&(b[3]&&b[3]-n.spacing[3]||n.chartWidth*.33),d=f(1,u(k-2*(i.padding||5))),e={},a=w.fontMetrics(i.style.fontSize,c[0]&&c[0].label),g=i.style.textOverflow,s,l=0,h,p,nt;if(lr(i.rotation)||(e.rotation=i.rotation||0),this.autoRotation)t(r,function(n){n=c[n];n&&n.labelLength>l&&(l=n.labelLength)}),l>d&&l>a.h?e.rotation=this.labelRotation:this.labelRotation=0;else if(k&&(s={width:d+y},!g))for(s.textOverflow="clip",p=r.length;!v&&p--;)nt=r[p],h=c[nt].label,h&&(h.styles.textOverflow==="ellipsis"&&h.css({textOverflow:"clip"}),h.getBBox().height>this.len/r.length-(a.h-a.f)&&(h.specCss={textOverflow:"ellipsis"}));e.rotation&&(s={width:(l>n.chartHeight*.5?n.chartHeight*.33:n.chartHeight)+y},g||(s.textOverflow="ellipsis"));this.labelAlign=e.align=i.align||this.autoLabelAlign(this.labelRotation);t(r,function(n){var i=c[n],t=i&&i.label;t&&(s&&t.css(o(s,t.specCss)),delete t.specCss,t.attr(e),i.rotation=e.rotation)});this.tickRotCorr=w.rotCorr(a.b,this.labelRotation||0,this.side===2)},hasData:function(){return this.hasVisibleSeries||r(this.min)&&r(this.max)&&!!this.tickPositions},getOffset:function(){var i=this,c=i.chart,l=c.renderer,o=i.options,nt=i.tickPositions,s=i.ticks,v=i.horiz,e=i.side,tt=c.inverted?[1,0,3,2][e]:e,y,p,it=0,w,rt=0,u=o.title,a=o.labels,h=0,b,k=c.axisOffset,ut=c.clipOffset,ft,d=[-1,1,1,-1][e],g,et;if(y=i.hasData(),i.showAxis=p=y||n(o.showEmpty,!0),i.staggerLines=i.horiz&&a.staggerLines,i.axisGroup||(i.gridGroup=l.g("grid").attr({zIndex:o.gridZIndex||1}).add(),i.axisGroup=l.g("axis").attr({zIndex:o.zIndex||2}).add(),i.labelGroup=l.g("axis-labels").attr({zIndex:a.zIndex||7}).addClass(st+i.coll.toLowerCase()+"-labels").add()),y||i.isLinked)t(nt,function(n){s[n]?s[n].addLabel():s[n]=new su(i,n)}),i.renderUnsquish(),t(nt,function(n){(e===0||e===2||{1:"left",3:"right"}[e]===i.labelAlign)&&(h=f(s[n].getLabelSize(),h))}),i.staggerLines&&(h*=i.staggerLines,i.labelOffset=h);else for(g in s)s[g].destroy(),delete s[g];u&&u.text&&u.enabled!==!1&&(i.axisTitle||(i.axisTitle=l.text(u.text,0,0,u.useHTML).attr({zIndex:7,rotation:u.rotation||0,align:u.textAlign||{low:"left",middle:"center",high:"right"}[u.align]}).addClass(st+this.coll.toLowerCase()+"-title").css(u.style).add(i.axisGroup),i.axisTitle.isNew=!0),p&&(it=i.axisTitle.getBBox()[v?"height":"width"],w=u.offset,rt=r(w)?0:n(u.margin,v?5:10)),i.axisTitle[p?"show":"hide"]());i.offset=d*n(o.offset,k[e]);i.tickRotCorr=i.tickRotCorr||{x:0,y:0};et=e===2?i.tickRotCorr.y:0;b=h+rt+(h&&d*(v?n(a.y,i.tickRotCorr.y+8):a.x)-et);i.axisTitleMargin=n(w,b);k[e]=f(k[e],i.axisTitleMargin+it+d*i.offset,b);ft=o.offset?0:ot(o.lineWidth/2)*2;ut[tt]=f(ut[tt],ft)},getLinePath:function(n){var t=this.chart,r=this.opposite,u=this.offset,i=this.horiz,f=this.left+(r?this.width:0)+u,e=t.chartHeight-this.bottom-(r?this.height:0)+u;return r&&(n*=-1),t.renderer.crispLine([rt,i?this.left:f,i?e:this.top,it,i?t.chartWidth-this.right:f,i?e:t.chartHeight-this.bottom],n)},getTitlePosition:function(){var n=this.horiz,f=this.left,e=this.top,i=this.len,t=this.options.title,r=n?f:e,u=this.opposite,o=this.offset,s=t.x||0,h=t.y||0,a=v(t.style.fontSize||12),c={low:r+(n?0:i),middle:r+i/2,high:r+(n?i:0)}[t.align],l=(n?e+this.height:f)+(n?1:-1)*(u?-1:1)*this.axisTitleMargin+(this.side===2?a:0);return{x:n?c+s:l+(u?this.width:0)+o+s,y:n?l+h-(u?this.height:0)+o:c+h}},render:function(){var n=this,l=n.chart,b=l.renderer,o=n.options,k=n.isLog,d=n.isLinked,s=n.tickPositions,c=n.axisTitle,u=n.ticks,e=n.minorTicks,f=n.alternateBands,g=o.stackLabels,nt=o.alternateGridColor,a=n.tickmarkOffset,v=o.lineWidth,y,ut=l.hasRendered,tt=ut&&r(n.oldMin)&&!isNaN(n.oldMin),it=n.showAxis,rt=b.globalAnimation,p,w;n.labelEdge.length=0;n.overlap=!1;t([u,e,f],function(n){var t;for(t in n)n[t].isActive=!1});(n.hasData()||d)&&(n.minorTickInterval&&!n.categories&&t(n.getMinorTickPositions(),function(t){e[t]||(e[t]=new su(n,t,"minor"));tt&&e[t].isNew&&e[t].render(null,!0);e[t].render(null,!1,1)}),s.length&&(t(s,function(t,i){(!d||t>=n.min&&t<=n.max)&&(u[t]||(u[t]=new su(n,t)),tt&&u[t].isNew&&u[t].render(i,!0,.1),u[t].render(i))}),a&&(n.min===0||n.single)&&(u[-1]||(u[-1]=new su(n,-1,null,!0)),u[-1].render(-1))),nt&&t(s,function(t,r){r%2==0&&t<n.max&&(f[t]||(f[t]=new h.PlotLineOrBand(n)),p=t+a,w=s[r+1]!==i?s[r+1]+a:n.max,f[t].options={from:k?wi(p):p,to:k?wi(w):w,color:nt},f[t].render(),f[t].isActive=!0)}),n._addedPlotLB||(t((o.plotLines||[]).concat(o.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0));t([u,e,f],function(n){var t,i,r=[],u=rt?rt.duration||500:0,e=function(){for(i=r.length;i--;)n[r[i]]&&!n[r[i]].isActive&&(n[r[i]].destroy(),delete n[r[i]])};for(t in n)n[t].isActive||(n[t].render(t,!1,0),n[t].isActive=!1,r.push(t));n!==f&&l.hasRendered&&u?u&&setTimeout(e,u):e()});v&&(y=n.getLinePath(v),n.axisLine?n.axisLine.animate({d:y}):n.axisLine=b.path(y).attr({stroke:o.lineColor,"stroke-width":v,zIndex:7}).add(n.axisGroup),n.axisLine[it?"show":"hide"]());c&&it&&(c[c.isNew?"attr":"animate"](n.getTitlePosition()),c.isNew=!1);g&&g.enabled&&n.renderStackTotals();n.isDirty=!1},redraw:function(){this.render();t(this.plotLinesAndBands,function(n){n.render()});t(this.series,function(n){n.isDirty=!0})},destroy:function(n){var i=this,r=i.stacks,u,e=i.plotLinesAndBands,f;n||et(i);for(u in r)pr(r[u]),r[u]=null;for(t([i.ticks,i.minorTicks,i.alternateBands],function(n){pr(n)}),f=e.length;f--;)e[f].destroy();t(["stackTotalGroup","axisLine","axisTitle","axisGroup","cross","gridGroup","labelGroup"],function(n){i[n]&&(i[n]=i[n].destroy())});this.cross&&this.cross.destroy()},drawCrosshair:function(t,i){var f,u=this.crosshair,h=u.animation,e,o,s;if(!this.crosshair||(r(i)||!n(this.crosshair.snap,!0))===!1||i&&i.series&&i.series[this.coll]!==this)this.hideCrosshair();else{if(n(u.snap,!0)?r(i)&&(e=this.isXAxis?i.plotX:this.len-i.plotY):e=this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos,f=this.isRadial?this.getPlotLinePath(this.isXAxis?i.x:n(i.stackY,i.y))||null:this.getPlotLinePath(null,null,null,null,e)||null,f===null){this.hideCrosshair();return}this.cross?this.cross.attr({visibility:oi})[h?"animate":"attr"]({d:f},h):(s=this.categories&&!this.isRadial,o={"stroke-width":u.width||(s?this.transA:1),stroke:u.color||(s?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:u.zIndex||2},u.dashStyle&&(o.dashstyle=u.dashStyle),this.cross=this.chart.renderer.path(f).attr(o).add())}},hideCrosshair:function(){this.cross&&this.cross.hide()}},e(p.prototype,to),p.prototype.getTimeTicks=function(i,u,f,o){var v=[],y,p={},w=nt.global.useUTC,l,s=new gt(u-wu(u)),h=i.unitRange,c=i.count;if(r(u)){s[io](h>=b.second?0:c*ot(s.getMilliseconds()/c));h>=b.second&&s[ro](h>=b.minute?0:c*ot(s.getSeconds()/c));h>=b.minute&&s[uo](h>=b.hour?0:c*ot(s[ne]()/c));h>=b.hour&&s[fo](h>=b.day?0:c*ot(s[te]()/c));h>=b.day&&s[re](h>=b.month?1:c*ot(s[vu]()/c));h>=b.month&&(s[ue](h>=b.year?0:c*ot(s[yu]()/c)),l=s[pu]());h>=b.year&&(l-=l%c,s[fe](l));h===b.week&&s[re](s[vu]()-s[ie]()+n(o,1));y=1;(gf||hf)&&(s=s.getTime(),s=new gt(s+wu(s)));l=s[pu]();for(var a=s.getTime(),k=s[yu](),d=s[vu](),g=(b.day+(w?wu(s):s.getTimezoneOffset()*6e4))%b.day;a<f;)v.push(a),h===b.year?a=sf(l+y*c,0):h===b.month?a=sf(l,k+y*c):w||h!==b.day&&h!==b.week?a+=h*c:a=sf(l,k,d+y*c*(h===b.day?1:7)),y++;v.push(a);t(ku(v,function(n){return h<=b.hour&&n%b.day===g}),function(n){p[n]="day"})}return v.info=e(i,{higherRanks:p,totalRange:h*c}),v},p.prototype.normalizeTimeTickInterval=function(n,t){for(var u=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],i=u[u.length-1],r=b[i[0]],o=i[1],s,h,e=0;e<u.length;e++)if(i=u[e],r=b[i[0]],o=i[1],u[e+1]&&(h=(r*o[o.length-1]+b[u[e+1][0]])/2,n<=h))break;return r===b.year&&n<5*r&&(o=[1,2,5]),s=oe(n/r,o,i[0]==="year"?f(ee(n/r),1):1),{unitRange:r,count:s,unitName:i[0]}},p.prototype.getLogTickPositions=function(t,r,f,e){var o=this,p=o.options,w=o.len,h=[],b,a,c,l,k,v,s,y;if(e||(o._minorAutoInterval=null),t>=.5)t=u(t),h=o.getLinearTickPositions(t,r,f);else if(t>=.08)for(b=ot(r),a=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],c=b;c<f+1&&!y;c++)for(k=a.length,l=0;l<k&&!y;l++)v=vr(wi(c)*a[l]),v>r&&(!e||s<=f)&&s!==i&&h.push(s),s>f&&(y=!0),s=v;else{var d=wi(r),g=wi(f),nt=p[e?"minorTickInterval":"tickInterval"],tt=nt==="auto"?null:nt,it=p.tickPixelInterval/(e?5:1),rt=e?w/o.tickPositions.length:w;t=n(tt,o._minorAutoInterval,(g-d)*it/(rt||1));t=oe(t,null,ee(t));h=ir(o.getLinearTickPositions(t,d,g),vr);e||(o._minorAutoInterval=t/5)}return e||(o.tickInterval=t),h},af=h.Tooltip=function(){this.init.apply(this,arguments)},af.prototype={init:function(n,t){var r=t.borderWidth,i=t.style,u=v(i.padding);this.chart=n;this.options=t;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.label=n.renderer.label("",0,0,t.shape||"callout",null,null,t.useHTML,null,"tooltip").attr({padding:u,fill:t.backgroundColor,"stroke-width":r,r:t.borderRadius,zIndex:8}).css(i).css({padding:0}).add().attr({y:-9999});ei||this.label.shadow(t.shadow);this.shared=t.shared},destroy:function(){this.label&&(this.label=this.label.destroy());clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(n,t,r,u){var f=this,o=f.now,s=f.options.animation!==!1&&!f.isHidden&&(d(n-o.x)>1||d(t-o.y)>1),h=f.followPointer||f.len>1;e(o,{x:s?(2*o.x+n)/3:n,y:s?(o.y+t)/2:t,anchorX:h?i:s?(2*o.anchorX+r)/3:r,anchorY:h?i:s?(o.anchorY+u)/2:u});f.label.attr(o);s&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){f&&f.move(n,t,r,u)},32))},hide:function(t){var i=this,r;clearTimeout(this.hideTimer);this.isHidden||(r=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){i.label.fadeOut();i.isHidden=!0},n(t,this.options.hideDelay,500)))},getAnchor:function(n,r){var e,f=this.chart,o=f.inverted,c=f.plotTop,v=f.plotLeft,s=0,h=0,l,a;return n=li(n),e=n[0].tooltipPos,this.followPointer&&r&&(r.chartX===i&&(r=f.pointer.normalize(r)),e=[r.chartX-f.plotLeft,r.chartY-c]),e||(t(n,function(n){l=n.series.yAxis;a=n.series.xAxis;s+=n.plotX+(!o&&a?a.left-v:0);h+=(n.plotLow?(n.plotLow+n.plotHigh)/2:n.plotY)+(!o&&l?l.top-c:0)}),s/=n.length,h/=n.length,e=[o?f.plotWidth-h:s,this.shared&&!o&&n.length>1&&r?r.chartY-c:o?f.plotHeight-s:h]),ir(e,u)},getPosition:function(t,i,r){var u=this.chart,o=this.distance,e={},h=r.h||0,c,l=["y",u.chartHeight,i,r.plotY+u.plotTop,u.plotTop,u.plotTop+u.plotHeight],a=["x",u.chartWidth,t,r.plotX+u.plotLeft,u.plotLeft,u.plotLeft+u.plotWidth],p=n(r.ttBelow,u.inverted&&!r.negative||!u.inverted&&r.negative),w=function(n,t,i,r,u,c){var v=i<r-o,y=r+o+i<t,l=r-o-i,a=r+o;if(p&&y)e[n]=a;else if(!p&&v)e[n]=l;else if(v)e[n]=s(c-i,l-h<0?l:l-h);else if(y)e[n]=f(u,a+h+i>t?a:a+h);else return!1},b=function(n,t,i,r){if(r<o||r>t-o)return!1;e[n]=r<i/2?1:r>t-i/2?t-i-2:r-i/2},v=function(n){var t=l;l=a;a=t;c=n},y=function(){w.apply(0,l)!==!1?b.apply(0,a)!==!1||c||(v(!0),y()):c?e.x=e.y=0:(v(!0),y())};return(u.inverted||this.len>1)&&v(),y(),e},defaultFormatter:function(n){var i=this.points||li(this),t;return t=[n.tooltipFooterHeaderFormatter(i[0])],t=t.concat(n.bodyFormatter(i)),t.push(n.tooltipFooterHeaderFormatter(i[0],!0)),t.join("")},refresh:function(i,r){var u=this,f=u.chart,e=u.label,p=u.options,c,l,o,s={},h,a=[],b=p.formatter||u.defaultFormatter,w=f.hoverPoints,v,k=u.shared,y;clearTimeout(this.hideTimer);u.followPointer=li(i)[0].series.tooltipOptions.followPointer;o=u.getAnchor(i,r);c=o[0];l=o[1];!k||i.series&&i.series.noSharedTooltip?s=i.getLabelConfig():(f.hoverPoints=i,w&&t(w,function(n){n.setState()}),t(i,function(n){n.setState(yi);a.push(n.getLabelConfig())}),s={x:i[0].category,y:i[0].y},s.points=a,this.len=a.length,i=i[0]);h=b.call(s,u);y=i.series;this.distance=n(y.tooltipOptions.distance,16);h===!1?this.hide():(u.isHidden&&(du(e),e.attr("opacity",1).show()),e.attr({text:h}),v=p.borderColor||i.color||y.color||"#606060",e.attr({stroke:v}),u.updatePosition({plotX:c,plotY:l,negative:i.negative,ttBelow:i.ttBelow,h:o[2]||0}),this.isHidden=!1);g(f,"tooltipRefresh",{text:h,x:c+f.plotLeft,y:l+f.plotTop,borderColor:v})},updatePosition:function(n){var t=this.chart,i=this.label,r=(this.options.positioner||this.getPosition).call(this,i.width,i.height,n);this.move(u(r.x),u(r.y||0),n.plotX+t.plotLeft,n.plotY+t.plotTop)},getXDateFormat:function(n,t,i){var u,f=t.dateTimeLabelFormats,e=i&&i.closestPointRange,r,h="01-01 00:00:00.000",o={millisecond:15,second:12,minute:9,hour:6,day:3},s,c="millisecond";if(e){s=ni("%m-%d %H:%M:%S.%L",n.x);for(r in b){if(e===b.week&&+ni("%w",n.x)===i.options.startOfWeek&&s.substr(6)===h.substr(6)){r="week";break}else if(b[r]>e){r=c;break}else if(o[r]&&s.substr(o[r])!==h.substr(o[r]))break;r!=="week"&&(c=r)}r&&(u=f[r])}else u=f.day;return u||f.year},tooltipFooterHeaderFormatter:function(n,t){var s=t?"footer":"header",r=n.series,u=r.tooltipOptions,i=u.xDateFormat,f=r.xAxis,o=f&&f.options.type==="datetime"&&pi(n.key),e=u[s+"Format"];return o&&!i&&(i=this.getXDateFormat(n,u,f)),o&&i&&(e=e.replace("{point.key}","{point.key:"+i+"}")),yr(e,{point:n,series:r})},bodyFormatter:function(n){return ir(n,function(n){var t=n.series.tooltipOptions;return(t.pointFormatter||n.point.tooltipFormatter).call(n.point,t.pointFormat)})}},fu=l.documentElement.ontouchstart!==i,kr=h.Pointer=function(n,t){this.init(n,t)},kr.prototype={init:function(t,i){var e=i.chart,o=e.events,s=ei?"":e.zoomType,r=t.inverted,u,f;this.options=i;this.chart=t;this.zoomX=u=/x/.test(s);this.zoomY=f=/y/.test(s);this.zoomHor=u&&!r||f&&r;this.zoomVert=f&&!r||u&&r;this.hasZoom=u||f;this.runChartClick=o&&!!o.click;this.pinchDown=[];this.lastValidTouch={};h.Tooltip&&i.tooltip.enabled&&(t.tooltip=new af(t,i.tooltip),this.followTouchMove=n(i.tooltip.followTouchMove,!0));this.setDOMEvents()},normalize:function(n,t){var o,s,r;return n=n||window.event,n=os(n),n.target||(n.target=n.srcElement),r=n.touches?n.touches.length?n.touches.item(0):n.changedTouches[0]:n,t||(this.chartPosition=t=es(this.chart.container)),r.pageX===i?(o=f(n.x,n.clientX-t.left),s=n.y):(o=r.pageX-t.left,s=r.pageY-t.top),e(n,{chartX:u(o),chartY:u(s)})},getCoordinates:function(n){var i={xAxis:[],yAxis:[]};return t(this.chart.axes,function(t){i[t.isXAxis?"xAxis":"yAxis"].push({axis:t,value:t.toValue(n[t.horiz?"chartX":"chartY"])})}),i},runPointActions:function(i){var v=this,s=v.chart,h=s.series,r=s.tooltip,a=r?r.shared:!1,k,y=s.hoverPoint,e=s.hoverSeries,f,d=s.chartWidth,p,w,g,o=[],u,b;if(!a&&!e)for(f=0;f<h.length;f++)(h[f].directTouch||!h[f].options.stickyTracking)&&(h=[]);if(!a&&e&&e.directTouch&&y?u=y:(t(h,function(t){w=t.noSharedTooltip&&a;g=!a&&t.directTouch;t.visible&&!w&&!g&&n(t.options.enableMouseTracking,!0)&&(b=t.searchPoint(i,!w&&t.kdDimensions===1),b&&o.push(b))}),t(o,function(n){n&&typeof n.dist=="number"&&n.dist<d&&(d=n.dist,u=n)})),u&&(u!==this.prevKDPoint||r&&r.isHidden)){if(a&&!u.series.noSharedTooltip){for(f=o.length;f--;)(o[f].clientX!==u.clientX||o[f].series.noSharedTooltip)&&o.splice(f,1);o.length&&r&&r.refresh(o,i);t(o,function(n){n.onMouseOver(i,n!==(e&&e.directTouch&&y||u))})}else if(r&&r.refresh(u,i),!e||!e.directTouch)u.onMouseOver(i);this.prevKDPoint=u}else k=e&&e.tooltipOptions.followPointer,r&&k&&!r.isHidden&&(p=r.getAnchor([{}],i),r.updatePosition({plotX:p[0],plotY:p[1]}));r&&!v._onDocumentMouseMove&&(v._onDocumentMouseMove=function(n){if(yt[di])yt[di].pointer.onDocumentMouseMove(n)},c(l,"mousemove",v._onDocumentMouseMove));t(s.axes,function(t){t.drawCrosshair(i,n(u,y))})},reset:function(r,u){var s=this,f=s.chart,a=f.hoverSeries,e=f.hoverPoint,h=f.hoverPoints,o=f.tooltip,c=o&&o.shared?h:e;r=r&&o&&c;r&&li(c)[0].plotX===i&&(r=!1);r?(o.refresh(c),e&&(e.setState(e.state,!0),t(f.axes,function(t){n(t.options.crosshair&&t.options.crosshair.snap,!0)?t.drawCrosshair(null,e):t.hideCrosshair()}))):(e&&e.onMouseOut(),h&&t(h,function(n){n.setState()}),a&&a.onMouseOut(),o&&o.hide(u),s._onDocumentMouseMove&&(et(l,"mousemove",s._onDocumentMouseMove),s._onDocumentMouseMove=null),t(f.axes,function(n){n.hideCrosshair()}),s.hoverX=f.hoverPoints=f.hoverPoint=null)},scaleGroups:function(n,i){var r=this.chart,u;t(r.series,function(t){u=n||t.getPlotBox();t.xAxis&&t.xAxis.zoomEnabled&&(t.group.attr(u),t.markerGroup&&(t.markerGroup.attr(u),t.markerGroup.clip(i?r.clipRect:null)),t.dataLabelsGroup&&t.dataLabelsGroup.attr(u))});r.clipRect.attr(i||r.clipBox)},dragStart:function(n){var t=this.chart;t.mouseIsDown=n.type;t.cancelClick=!1;t.mouseDownX=this.mouseDownX=n.chartX;t.mouseDownY=this.mouseDownY=n.chartY},drag:function(n){var t=this.chart,s=t.options.chart,u=n.chartX,f=n.chartY,y=this.zoomHor,p=this.zoomVert,e=t.plotLeft,o=t.plotTop,l=t.plotWidth,a=t.plotHeight,v,r,i=this.selectionMarker,h=this.mouseDownX,c=this.mouseDownY,w=s.panKey&&n[s.panKey+"Key"];i&&i.touch||(u<e?u=e:u>e+l&&(u=e+l),f<o?f=o:f>o+a&&(f=o+a),this.hasDragged=Math.sqrt(Math.pow(h-u,2)+Math.pow(c-f,2)),this.hasDragged>10&&(v=t.isInsidePlot(h-e,c-o),t.hasCartesianSeries&&(this.zoomX||this.zoomY)&&v&&!w&&(i||(this.selectionMarker=i=t.renderer.rect(e,o,y?1:l,p?1:a,0).attr({fill:s.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),i&&y&&(r=u-h,i.attr({width:d(r),x:(r>0?0:r)+h})),i&&p&&(r=f-c,i.attr({height:d(r),y:(r>0?0:r)+c})),v&&!i&&s.panning&&t.pan(n,s.panning)))},drop:function(n){var v=this,u=this.chart,o=this.hasPinched;if(this.selectionMarker){var h={xAxis:[],yAxis:[],originalEvent:n.originalEvent||n},i=this.selectionMarker,c=i.attr?i.attr("x"):i.x,l=i.attr?i.attr("y"):i.y,y=i.attr?i.attr("width"):i.width,p=i.attr?i.attr("height"):i.height,a;(this.hasDragged||o)&&(t(u.axes,function(t){if(t.zoomEnabled&&r(t.min)&&(o||v[{xAxis:"zoomX",yAxis:"zoomY"}[t.coll]])){var i=t.horiz,u=n.type==="touchend"?t.minPixelPadding:0,e=t.toValue((i?c:l)+u),w=t.toValue((i?c+y:l+p)-u);h[t.coll].push({axis:t,min:s(e,w),max:f(e,w)});a=!0}}),a&&g(u,"selection",h,function(n){u.zoom(e(n,o?{animation:!1}:null))}));this.selectionMarker=this.selectionMarker.destroy();o&&this.scaleGroups()}u&&(k(u.container,{cursor:u._cursor}),u.cancelClick=this.hasDragged>10,u.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(n){n=this.normalize(n);n.preventDefault&&n.preventDefault();this.dragStart(n)},onDocumentMouseUp:function(n){yt[di]&&yt[di].pointer.drop(n)},onDocumentMouseMove:function(n){var t=this.chart,i=this.chartPosition;n=this.normalize(n,i);!i||this.inClass(n.target,"highcharts-tracker")||t.isInsidePlot(n.chartX-t.plotLeft,n.chartY-t.plotTop)||this.reset()},onContainerMouseLeave:function(){var n=yt[di];n&&(n.pointer.reset(),n.pointer.chartPosition=null)},onContainerMouseMove:function(n){var t=this.chart;di=t.index;n=this.normalize(n);n.returnValue=!1;t.mouseIsDown==="mousedown"&&this.drag(n);(this.inClass(n.target,"highcharts-tracker")||t.isInsidePlot(n.chartX-t.plotLeft,n.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(n)},inClass:function(n,t){for(var i;n;){if(i=ht(n,"class"),i){if(i.indexOf(t)!==-1)return!0;if(i.indexOf(st+"container")!==-1)return!1}n=n.parentNode}},onTrackerMouseOut:function(n){var t=this.chart.hoverSeries,i=n.relatedTarget||n.toElement,r=i&&i.point&&i.point.series;!t||t.options.stickyTracking||this.inClass(i,st+"tooltip")||r===t||t.onMouseOut()},onContainerClick:function(n){var t=this.chart,i=t.hoverPoint,r=t.plotLeft,u=t.plotTop;n=this.normalize(n);n.originalEvent=n;t.cancelClick||(i&&this.inClass(n.target,st+"tracker")?(g(i.series,"click",e(n,{point:i})),t.hoverPoint&&i.firePointEvent("click",n)):(e(n,this.getCoordinates(n)),t.isInsidePlot(n.chartX-r,n.chartY-u)&&g(t,"click",n)))},setDOMEvents:function(){var n=this,t=n.chart.container;t.onmousedown=function(t){n.onContainerMouseDown(t)};t.onmousemove=function(t){n.onContainerMouseMove(t)};t.onclick=function(t){n.onContainerClick(t)};c(t,"mouseleave",n.onContainerMouseLeave);au===1&&c(l,"mouseup",n.onDocumentMouseUp);fu&&(t.ontouchstart=function(t){n.onContainerTouchStart(t)},t.ontouchmove=function(t){n.onContainerTouchMove(t)},au===1&&c(l,"touchend",n.onDocumentTouchEnd))},destroy:function(){var n;et(this.chart.container,"mouseleave",this.onContainerMouseLeave);au||(et(l,"mouseup",this.onDocumentMouseUp),et(l,"touchend",this.onDocumentTouchEnd));clearInterval(this.tooltipTimeout);for(n in this)this[n]=null}},e(h.Pointer.prototype,{pinchTranslate:function(n,t,i,r,u,f){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,n,t,i,r,u,f);(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,n,t,i,r,u,f)},pinchTranslateDirection:function(n,t,i,r,u,f,e,o){var v=this.chart,l=n?"x":"y",g=n?"X":"Y",y="chart"+g,ft=n?"width":"height",nt=v["plot"+(n?"Left":"Top")],a,s,tt,h=o||1,it=v.inverted,p=v.bounds[n?"h":"v"],w=t.length===1,b=t[0][y],c=i[0][y],et=!w&&t[1][y],k=!w&&i[1][y],rt,ut,ot,st=function(){!w&&d(b-et)>20&&(h=o||d(c-k)/d(b-et));tt=(nt-c)/h+b;a=v["plot"+(n?"Width":"Height")]/h};st();s=tt;s<p.min?(s=p.min,rt=!0):s+a>p.max&&(s=p.max-a,rt=!0);rt?(c-=.8*(c-e[l][0]),w||(k-=.8*(k-e[l][1])),st()):e[l]=[c,k];it||(f[l]=tt-nt,f[ft]=a);ot=it?n?"scaleY":"scaleX":"scale"+g;ut=it?1/h:h;u[ft]=a;u[l]=s;r[ot]=h;r["translate"+g]=ut*nt+(c-ut*b)},pinch:function(i){var r=this,o=r.chart,u=r.pinchDown,h=i.touches,c=h.length,l=r.lastValidTouch,a=r.hasZoom,v=r.selectionMarker,y={},w=c===1&&(r.inClass(i.target,st+"tracker")&&o.runTrackerClick||r.runChartClick),p={};c>1&&(r.initiated=!0);a&&r.initiated&&!w&&i.preventDefault();ir(h,function(n){return r.normalize(n)});i.type==="touchstart"?(t(h,function(n,t){u[t]={chartX:n.chartX,chartY:n.chartY}}),l.x=[u[0].chartX,u[1]&&u[1].chartX],l.y=[u[0].chartY,u[1]&&u[1].chartY],t(o.axes,function(t){if(t.zoomEnabled){var i=o.bounds[t.horiz?"h":"v"],r=t.minPixelPadding,u=t.toPixels(n(t.options.min,t.dataMin)),e=t.toPixels(n(t.options.max,t.dataMax)),h=s(u,e),c=f(u,e);i.min=s(t.pos,h-r);i.max=f(t.pos+t.len,c+r)}}),r.res=!0):u.length&&(v||(r.selectionMarker=v=e({destroy:ti,touch:!0},o.plotBox)),r.pinchTranslate(u,h,y,v,p,l),r.hasPinched=a,r.scaleGroups(y,p),!a&&r.followTouchMove&&c===1?this.runPointActions(r.normalize(i)):r.res&&(r.res=!1,this.reset(!1,0)))},touch:function(n,t){var i=this.chart;di=i.index;n.touches.length===1?(n=this.normalize(n),i.isInsidePlot(n.chartX-i.plotLeft,n.chartY-i.plotTop)&&!i.openMenu?(t&&this.runPointActions(n),this.pinch(n)):t&&this.reset()):n.touches.length===2&&this.pinch(n)},onContainerTouchStart:function(n){this.touch(n,!0)},onContainerTouchMove:function(n){this.touch(n)},onDocumentTouchEnd:function(n){yt[di]&&yt[di].pointer.drop(n)}}),ft.PointerEvent||ft.MSPointerEvent){var rr={},ce=!!ft.PointerEvent,vs=function(){var n,t=[];t.item=function(n){return this[n]};for(n in rr)rr.hasOwnProperty(n)&&t.push({pageX:rr[n].pageX,pageY:rr[n].pageY,target:rr[n].target});return t},le=function(n,t,i,r){var u;n=n.originalEvent||n;(n.pointerType==="touch"||n.pointerType===n.MSPOINTER_TYPE_TOUCH)&&yt[di]&&(r(n),u=yt[di].pointer,u[t]({type:i,target:n.currentTarget,preventDefault:ti,touches:vs()}))};e(kr.prototype,{onContainerPointerDown:function(n){le(n,"onContainerTouchStart","touchstart",function(n){rr[n.pointerId]={pageX:n.pageX,pageY:n.pageY,target:n.currentTarget}})},onContainerPointerMove:function(n){le(n,"onContainerTouchMove","touchmove",function(n){rr[n.pointerId]={pageX:n.pageX,pageY:n.pageY};rr[n.pointerId].target||(rr[n.pointerId].target=n.currentTarget)})},onDocumentPointerUp:function(n){le(n,"onDocumentTouchEnd","touchend",function(n){delete rr[n.pointerId]})},batchMSEvents:function(n){n(this.chart.container,ce?"pointerdown":"MSPointerDown",this.onContainerPointerDown);n(this.chart.container,ce?"pointermove":"MSPointerMove",this.onContainerPointerMove);n(l,ce?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}});tt(kr.prototype,"init",function(n,t,i){n.call(this,t,i);this.hasZoom&&k(t.container,{"-ms-touch-action":at,"touch-action":at})});tt(kr.prototype,"setDOMEvents",function(n){n.apply(this);(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(c)});tt(kr.prototype,"destroy",function(n){this.batchMSEvents(et);n.call(this)})}nf=h.Legend=function(n,t){this.init(n,t)};nf.prototype={init:function(t,i){var r=this,f=i.itemStyle,u,e=i.itemMarginTop||0;(this.options=i,i.enabled)&&(r.itemStyle=f,r.itemHiddenStyle=o(f,i.itemHiddenStyle),r.itemMarginTop=e,r.padding=u=n(i.padding,8),r.initialItemX=u,r.initialItemY=u-5,r.maxItemWidth=0,r.chart=t,r.itemHeight=0,r.symbolWidth=n(i.symbolWidth,16),r.pages=[],r.render(),c(r.chart,"endResize",function(){r.positionCheckboxes()}))},colorizeItem:function(n,t){var h=this,y=h.options,c=n.legendItem,l=n.legendLine,u=n.legendSymbol,a=h.itemHiddenStyle.color,v=t?y.itemStyle.color:a,f=t?n.legendColor||n.color||"#CCC":a,r=n.options&&n.options.marker,e={fill:f},o,s;if(c&&c.css({fill:v,color:v}),l&&l.attr({stroke:f}),u){if(r&&u.isMarker){e.stroke=f;r=n.convertAttribs(r);for(o in r)s=r[o],s!==i&&(e[o]=s)}u.attr(e)}},positionItem:function(n){var u=this,f=u.options,s=f.symbolPadding,h=!f.rtl,e=n._legendItemPos,t=e[0],o=e[1],i=n.checkbox,r=n.legendGroup;r&&r.element&&r.translate(h?t:u.legendWidth-t-2*s-4,o);i&&(i.x=t,i.y=o)},destroyItem:function(n){var i=n.checkbox;t(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){n[t]&&(n[t]=n[t].destroy())});i&&uu(n.checkbox)},destroy:function(){var n=this,t=n.group,i=n.box;i&&(n.box=i.destroy());t&&(n.group=t.destroy())},positionCheckboxes:function(n){var r=this.group.alignAttr,i,u=this.clipHeight||this.legendHeight;r&&(i=r.translateY,t(this.allItems,function(t){var f=t.checkbox,e;f&&(e=i+f.y+(n||0)+3,k(f,{left:r.translateX+t.checkboxOffset+f.x-20+y,top:e+y,display:e>i-6&&e<i+u-6?"":at}))}))},renderTitle:function(){var u=this.options,r=this.padding,n=u.title,t=0,i;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,r-3,r-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)),i=this.title.getBBox(),t=i.height,this.offsetWidth=i.width,this.contentGroup.attr({translateY:t}));this.titleHeight=t},setText:function(n){var t=this.options;n.legendItem.attr({text:t.labelFormat?yr(t.labelFormat,n):t.labelFormatter.call(n)})},renderItem:function(t){var i=this,k=i.chart,v=k.renderer,r=i.options,h=r.layout==="horizontal",d=i.symbolWidth,y=r.symbolPadding,p=i.itemStyle,g=i.itemHiddenStyle,nt=i.padding,tt=h?n(r.itemDistance,20):0,it=!r.rtl,c,rt=r.width,w=r.itemMarginBottom||0,l=i.itemMarginTop,a=i.initialItemX,b,s,e=t.legendItem,ut=t.series&&t.series.drawLegendSymbol?t.series:t,ft=ut.options,et=i.createCheckboxForItem&&ft&&ft.showCheckbox,ot=r.useHTML;e||(t.legendGroup=v.g("legend-item").attr({zIndex:1}).add(i.scrollGroup),t.legendItem=e=v.text("",it?d+y:-y,i.baseline||0,ot).css(o(t.visible?p:g)).attr({align:it?"left":"right",zIndex:2}).add(t.legendGroup),i.baseline||(i.fontMetrics=v.fontMetrics(p.fontSize,e),i.baseline=i.fontMetrics.f+3+l,e.attr("y",i.baseline)),ut.drawLegendSymbol(i,t),i.setItemEvents&&i.setItemEvents(t,e,ot,p,g),i.colorizeItem(t,t.visible),et&&i.createCheckboxForItem(t));i.setText(t);b=e.getBBox();s=t.checkboxOffset=r.itemWidth||t.legendItemWidth||d+y+b.width+tt+(et?20:0);i.itemHeight=c=u(t.legendItemHeight||b.height);h&&i.itemX-a+s>(rt||k.chartWidth-2*nt-a-r.x)&&(i.itemX=a,i.itemY+=l+i.lastLineHeight+w,i.lastLineHeight=0);i.maxItemWidth=f(i.maxItemWidth,s);i.lastItemY=l+i.itemY+w;i.lastLineHeight=f(c,i.lastLineHeight);t._legendItemPos=[i.itemX,i.itemY];h?i.itemX+=s:(i.itemY+=l+c+w,i.lastLineHeight=c);i.offsetWidth=rt||f((h?i.itemX-a-tt:s)+nt,i.offsetWidth)},getAllItems:function(){var u=[];return t(this.chart.series,function(t){var f=t.options;n(f.showInLegend,r(f.linkedTo)?!1:i,!0)&&(u=u.concat(t.legendItems||(f.legendType==="point"?t.data:t)))}),u},adjustMargins:function(i,u){var o=this.chart,e=this.options,s=e.align.charAt(0)+e.verticalAlign.charAt(0)+e.layout.charAt(0);this.display&&!e.floating&&t([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(t,h){t.test(s)&&!r(i[h])&&(o[of[h]]=f(o[of[h]],o.legend[(h+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][h]*e[h%2?"x":"y"]+n(e.margin,12)+u[h]))})},render:function(){var n=this,a=n.chart,h=a.renderer,s=n.group,f,c,o,i,r=n.box,u=n.options,v=n.padding,l=u.borderWidth,y=u.backgroundColor;n.itemX=n.initialItemX;n.itemY=n.initialItemY;n.offsetWidth=0;n.lastItemY=0;s||(n.group=s=h.g("legend").attr({zIndex:7}).add(),n.contentGroup=h.g().attr({zIndex:1}).add(s),n.scrollGroup=h.g().add(n.contentGroup));n.renderTitle();f=n.getAllItems();se(f,function(n,t){return(n.options&&n.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)});u.reversed&&f.reverse();n.allItems=f;n.display=c=!!f.length;n.lastLineHeight=0;t(f,function(t){n.renderItem(t)});o=(u.width||n.offsetWidth)+v;i=n.lastItemY+n.lastLineHeight+n.titleHeight;i=n.handleOverflow(i);i+=v;(l||y)&&(r?o>0&&i>0&&(r[r.isNew?"attr":"animate"](r.crisp({width:o,height:i})),r.isNew=!1):(n.box=r=h.rect(0,0,o,i,u.borderRadius,l||0).attr({stroke:u.borderColor,"stroke-width":l||0,fill:y||at}).add(s).shadow(u.shadow),r.isNew=!0),r[c?"show":"hide"]());n.legendWidth=o;n.legendHeight=i;t(f,function(t){n.positionItem(t)});c&&s.align(e({width:o,height:i},u),!0,"spacingBox");a.isResizing||this.positionCheckboxes()},handleOverflow:function(i){var r=this,b=this.chart,c=b.renderer,l=this.options,d=l.y,rt=l.verticalAlign==="top",h=b.spacingBox.height+(rt?-d:d)-this.padding,g=l.maxHeight,a,v=this.clipRect,k=l.navigation,nt=n(k.animation,!0),y=k.arrowSize||12,e=this.nav,o=this.pages,p=this.padding,w,tt=this.allItems,it=function(n){v.attr({height:n});r.contentGroup.div&&(r.contentGroup.div.style.clip="rect("+p+"px,9999px,"+(p+n)+"px,0)")};return l.layout==="horizontal"&&(h/=2),g&&(h=s(h,g)),o.length=0,i>h?(this.clipHeight=a=f(h-20-this.titleHeight-p,0),this.currentPage=n(this.currentPage,1),this.fullHeight=i,t(tt,function(n,t){var i=n._legendItemPos[1],f=u(n.legendItem.getBBox().height),r=o.length;(!r||i-o[r-1]>a&&(w||i)!==o[r-1])&&(o.push(w||i),r++);t===tt.length-1&&i+f-o[r-1]>a&&o.push(i);i!==w&&(w=i)}),v||(v=r.clipRect=c.clipRect(0,p,9999,0),r.contentGroup.clip(v)),it(a),e||(this.nav=e=c.g().attr({zIndex:1}).add(this.group),this.up=c.symbol("triangle",0,0,y,y).on("click",function(){r.scroll(-1,nt)}).add(e),this.pager=c.text("",15,10).css(k.style).add(e),this.down=c.symbol("triangle-down",0,0,y,y).on("click",function(){r.scroll(1,nt)}).add(e)),r.scroll(0),i=h):e&&(it(b.chartHeight),e.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),i},scroll:function(n,t){var e=this.pages,u=e.length,r=this.currentPage+n,c=this.clipHeight,o=this.options.navigation,s=o.activeColor,h=o.inactiveColor,l=this.pager,a=this.padding,f;r>u&&(r=u);r>0&&(t!==i&&eu(t,this.chart),this.nav.attr({translateX:a,translateY:c+this.padding+7+this.titleHeight,visibility:oi}),this.up.attr({fill:r===1?h:s}).css({cursor:r===1?"default":"pointer"}),l.attr({text:r+"/"+u}),this.down.attr({x:18+this.pager.getBBox().width,fill:r===u?h:s}).css({cursor:r===u?"default":"pointer"}),f=-e[r-1]+this.initialItemY,this.scrollGroup.animate({translateY:f}),this.currentPage=r,this.positionCheckboxes(f))}};hu=h.LegendSymbolMixin={drawRectangle:function(n,t){var i=n.options.symbolHeight||n.fontMetrics.f;t.legendSymbol=this.chart.renderer.rect(0,n.baseline-i+1,n.symbolWidth,i,n.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(n){var t=this.options,r=t.marker,i,o,s=n.symbolWidth,h=this.chart.renderer,c=this.legendGroup,f=n.baseline-u(n.fontMetrics.b*.3),e;t.lineWidth&&(e={"stroke-width":t.lineWidth},t.dashStyle&&(e.dashstyle=t.dashStyle),this.legendLine=h.path([rt,0,f,it,s,f]).attr(e).add(c));r&&r.enabled!==!1&&(i=r.radius,this.legendSymbol=o=h.symbol(this.symbol,s/2-i,f-i,2*i,2*i).add(c),o.isMarker=!0)}};(/Trident\/7\.0/.test(er)||gr)&&tt(nf.prototype,"positionItem",function(n,t){var r=this,i=function(){t._legendItemPos&&n.call(r,t)};i();setTimeout(i)});ur=h.Chart=function(){this.init.apply(this,arguments)};ur.prototype={callbacks:[],init:function(t,i){var f,h=t.series,u,e,r,s;if(t.series=null,f=o(nt,t),f.series=t.series=h,this.userOptions=t,u=f.chart,this.margin=this.splashArray("margin",u),this.spacing=this.splashArray("spacing",u),e=u.events,this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=f,this.axes=[],this.series=[],this.hasCartesianSeries=u.showAxes,r=this,r.index=yt.length,yt.push(r),au++,u.reflow!==!1&&c(r,"load",function(){r.initReflow()}),e)for(s in e)c(r,s,e[s]);r.xAxis=[];r.yAxis=[];r.animation=ei?!1:n(u.animation,!0);r.pointCount=r.colorCounter=r.symbolCounter=0;r.firstRender()},initSeries:function(n){var u=this,i=u.options.chart,f=n.type||i.type||i.defaultSeriesType,t,r=a[f];return r||ai(17,!0),t=new r,t.init(this,n),t},isInsidePlot:function(n,t,i){var r=i?t:n,u=i?n:t;return r>=0&&r<=this.plotWidth&&u>=0&&u<=this.plotHeight},redraw:function(n){var i=this,o=i.axes,u=i.series,c=i.pointer,l=i.legend,a=i.isDirtyLegend,s,v,y=i.hasCartesianSeries,h=i.isDirtyBox,p=u.length,f=p,r,w=i.renderer,b=w.isHidden(),k=[];for(eu(n,i),b&&i.cloneRenderTo(),i.layOutTitles();f--;)if(r=u[f],r.options.stacking&&(s=!0,r.isDirty)){v=!0;break}if(v)for(f=p;f--;)r=u[f],r.options.stacking&&(r.isDirty=!0);t(u,function(n){n.isDirty&&n.options.legendType==="point"&&(n.updateTotals&&n.updateTotals(),a=!0)});a&&l.options.enabled&&(l.render(),i.isDirtyLegend=!1);s&&i.getStacks();y&&(i.isResizing||(i.maxTicks=null,t(o,function(n){n.setScale()})));i.getMargins();y&&(t(o,function(n){n.isDirty&&(h=!0)}),t(o,function(n){var t=n.min+","+n.max;n.extKey!==t&&(n.extKey=t,k.push(function(){g(n,"afterSetExtremes",e(n.eventArgs,n.getExtremes()));delete n.eventArgs}));(h||s)&&n.redraw()}));h&&i.drawChartBox();t(u,function(n){n.isDirty&&n.visible&&(!n.isCartesian||n.xAxis)&&n.redraw()});c&&c.reset(!0);w.draw();g(i,"redraw");b&&i.cloneRenderTo(!0);t(k,function(n){n.call()})},get:function(n){for(var e=this,f=e.axes,i=e.series,r,u,t=0;t<f.length;t++)if(f[t].options.id===n)return f[t];for(t=0;t<i.length;t++)if(i[t].options.id===n)return i[t];for(t=0;t<i.length;t++)for(u=i[t].points||[],r=0;r<u.length;r++)if(u[r].id===n)return u[r];return null},getAxes:function(){var f=this,n=this.options,i=n.xAxis=li(n.xAxis||{}),r=n.yAxis=li(n.yAxis||{}),u,e;t(i,function(n,t){n.index=t;n.isX=!0});t(r,function(n,t){n.index=t});u=i.concat(r);t(u,function(n){e=new p(f,n)})},getSelectedPoints:function(){var n=[];return t(this.series,function(t){n=n.concat(ku(t.points||[],function(n){return n.selected}))}),n},getSelectedSeries:function(){return ku(this.series,function(n){return n.selected})},setTitle:function(n,i,r){var u=this,f=u.options,e,s;e=f.title=o(f.title,n);s=f.subtitle=o(f.subtitle,i);t([["title",n,e],["subtitle",i,s]],function(n){var i=n[0],r=u[i],f=n[1],t=n[2];r&&f&&(u[i]=r=r.destroy());t&&t.text&&!r&&(u[i]=u.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,"class":st+i,zIndex:t.zIndex||4}).css(t.style).add())});u.layOutTitles(r)},layOutTitles:function(t){var r=0,u=this.title,f=this.subtitle,h=this.options,i=h.title,o=h.subtitle,s,c=this.renderer,l=this.spacingBox.width-44;u&&(u.css({width:(i.width||l)+y}).align(e({y:c.fontMetrics(i.style.fontSize,u).b-3},i),!1,"spacingBox"),i.floating||i.verticalAlign||(r=u.getBBox().height));f&&(f.css({width:(o.width||l)+y}).align(e({y:r+(i.margin-13)+c.fontMetrics(i.style.fontSize,f).b},o),!1,"spacingBox"),o.floating||o.verticalAlign||(r=nr(r+f.getBBox().height)));s=this.titleOffset!==r;this.titleOffset=r;!this.isDirtyBox&&s&&(this.isDirtyBox=s,this.hasRendered&&n(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this,i=t.options.chart,u=i.width,e=i.height,o=t.renderToClone||t.renderTo;r(u)||(t.containerWidth=cf(o,"width"));r(e)||(t.containerHeight=cf(o,"height"));t.chartWidth=f(0,u||t.containerWidth||600);t.chartHeight=f(0,n(e,t.containerHeight>19?t.containerHeight:400))},cloneRenderTo:function(n){var t=this.renderToClone,i=this.container;n?t&&(this.renderTo.appendChild(i),uu(t),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=t=this.renderTo.cloneNode(0),k(t,{position:tr,top:"-9999px",display:"block"}),t.style.setProperty&&t.style.setProperty("display","block","important"),l.body.appendChild(t),i&&t.appendChild(i))},getContainer:function(){var n=this,r,i=n.options.chart,u,f,t,s="data-highcharts-chart",o,h;n.renderTo=t=i.renderTo;h=st+bf++;lr(t)&&(n.renderTo=t=l.getElementById(t));t||ai(13,!0);o=v(ht(t,s));!isNaN(o)&&yt[o]&&yt[o].hasRendered&&yt[o].destroy();ht(t,s,n.index);t.innerHTML="";i.skipClone||t.offsetWidth||n.cloneRenderTo();n.getChartSize();u=n.chartWidth;f=n.chartHeight;n.container=r=pt(tu,{className:st+"container"+(i.className?" "+i.className:""),id:h},e({position:df,overflow:ci,width:u+y,height:f+y,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},i.style),n.renderToClone||t);n._cursor=r.style.cursor;n.renderer=i.forExport?new fi(r,u,f,i.style,!0):new nu(r,u,f,i.style);ei&&n.renderer.create(n,r,u,f);n.renderer.chartIndex=n.index},getMargins:function(n){var t=this,i=t.spacing,u=t.margin,e=t.titleOffset;t.resetMargins();e&&!r(u[0])&&(t.plotTop=f(t.plotTop,e+t.options.title.margin+i[0]));t.legend.adjustMargins(u,i);t.extraBottomMargin&&(t.marginBottom+=t.extraBottomMargin);t.extraTopMargin&&(t.plotTop+=t.extraTopMargin);n||this.getAxisMargins()},getAxisMargins:function(){var n=this,i=n.axisOffset=[0,0,0,0],u=n.margin;n.hasCartesianSeries&&t(n.axes,function(n){n.getOffset()});t(of,function(t,f){r(u[f])||(n[t]+=i[f])});n.setChartSize()},reflow:function(n){var t=this,u=t.options.chart,f=t.renderTo,i=u.width||cf(f,"width"),r=u.height||cf(f,"height"),e=n?n.target:ft,o=function(){t.container&&(t.setSize(i,r,!1),t.hasUserSize=null)};!t.hasUserSize&&!t.isPrinting&&i&&r&&(e===ft||e===l)&&((i!==t.containerWidth||r!==t.containerHeight)&&(clearTimeout(t.reflowTimeout),n?t.reflowTimeout=setTimeout(o,100):o()),t.containerWidth=i,t.containerHeight=r)},initReflow:function(){var n=this,t=function(t){n.reflow(t)};c(ft,"resize",t);c(n,"destroy",function(){et(ft,"resize",t)})},setSize:function(n,i,e){var o=this,h,c,l,a=o.renderer,s=a.globalAnimation;o.isResizing+=1;l=function(){o&&g(o,"endResize",null,function(){o.isResizing-=1})};eu(e,o);o.oldChartHeight=o.chartHeight;o.oldChartWidth=o.chartWidth;r(n)&&(o.chartWidth=h=f(0,u(n)),o.hasUserSize=!!h);r(i)&&(o.chartHeight=c=f(0,u(i)));(s?lf:k)(o.container,{width:h+y,height:c+y},s);o.setChartSize(!0);a.setSize(h,c,e);o.maxTicks=null;t(o.axes,function(n){n.isDirty=!0;n.setScale()});t(o.series,function(n){n.isDirty=!0});o.isDirtyLegend=!0;o.isDirtyBox=!0;o.layOutTitles();o.getMargins();o.redraw(e);o.oldChartHeight=null;g(o,"resize");s===!1?l():setTimeout(l,s&&s.duration||500)},setChartSize:function(n){var i=this,y=i.inverted,p=i.renderer,w=i.chartWidth,b=i.chartHeight,k=i.options.chart,r=i.spacing,o=i.clipOffset,c,l,a,v,s,h,e;i.plotLeft=a=u(i.plotLeft);i.plotTop=v=u(i.plotTop);i.plotWidth=s=f(0,u(w-a-i.marginRight));i.plotHeight=h=f(0,u(b-v-i.marginBottom));i.plotSizeX=y?h:s;i.plotSizeY=y?s:h;i.plotBorderWidth=k.plotBorderWidth||0;i.spacingBox=p.spacingBox={x:r[3],y:r[0],width:w-r[3]-r[1],height:b-r[0]-r[2]};i.plotBox=p.plotBox={x:a,y:v,width:s,height:h};e=2*ot(i.plotBorderWidth/2);c=nr(f(e,o[3])/2);l=nr(f(e,o[0])/2);i.clipBox={x:c,y:l,width:ot(i.plotSizeX-f(e,o[1])/2-c),height:f(0,ot(i.plotSizeY-f(e,o[2])/2-l))};n||t(i.axes,function(n){n.setAxisSize();n.setAxisTranslation()})},resetMargins:function(){var i=this;t(of,function(t,r){i[t]=n(i.margin[r],i.spacing[r])});i.axisOffset=[0,0,0,0];i.clipOffset=[0,0,0,0]},drawChartBox:function(){var n=this,t=n.options.chart,r=n.renderer,y=n.chartWidth,p=n.chartHeight,l=n.chartBackground,w=n.plotBackground,a=n.plotBorder,b=n.plotBGImage,u=t.borderWidth||0,k=t.backgroundColor,d=t.plotBackgroundColor,g=t.plotBackgroundImage,f=t.plotBorderWidth||0,i,e,o=n.plotLeft,s=n.plotTop,h=n.plotWidth,c=n.plotHeight,nt=n.plotBox,tt=n.clipRect,v=n.clipBox;i=u+(t.shadow?8:0);(u||k)&&(l?l.animate(l.crisp({width:y-i,height:p-i})):(e={fill:k||at},u&&(e.stroke=t.borderColor,e["stroke-width"]=u),n.chartBackground=r.rect(i/2,i/2,y-i,p-i,t.borderRadius,u).attr(e).addClass(st+"background").add().shadow(t.shadow)));d&&(w?w.animate(nt):n.plotBackground=r.rect(o,s,h,c,0).attr({fill:d}).add().shadow(t.plotShadow));g&&(b?b.animate(nt):n.plotBGImage=r.image(g,o,s,h,c).add());tt?tt.animate({width:v.width,height:v.height}):n.clipRect=r.clipRect(v);f&&(a?a.animate(a.crisp({x:o,y:s,width:h,height:c,strokeWidth:-f})):n.plotBorder=r.rect(o,s,h,c,0,-f).attr({stroke:t.plotBorderColor,"stroke-width":f,fill:at,zIndex:1}).add());n.isDirtyBox=!1},propFromSeries:function(){var i=this,u=i.options.chart,n,f=i.options.series,e,r;t(["inverted","angular","polar"],function(t){for(n=a[u.type||u.defaultSeriesType],r=i[t]||u[t]||n&&n.prototype[t],e=f&&f.length;!r&&e--;)n=a[f[e].type],n&&n.prototype[t]&&(r=!0);i[t]=r})},linkSeries:function(){var i=this,r=i.series;t(r,function(n){n.linkedSeries.length=0});t(r,function(t){var r=t.options.linkedTo;lr(r)&&(r=r===":previous"?i.series[t.index-1]:i.get(r),r&&(r.linkedSeries.push(t),t.linkedParent=r,t.visible=n(t.options.visible,r.options.visible,t.visible)))})},renderSeries:function(){t(this.series,function(n){n.translate();n.render()})},renderLabels:function(){var n=this,i=n.options.labels;i.items&&t(i.items,function(t){var r=e(i.style,t.style),u=v(r.left)+n.plotLeft,f=v(r.top)+n.plotTop+12;delete r.left;delete r.top;n.renderer.text(t.html,u,f).attr({zIndex:2}).css(r).add()})},render:function(){var n=this,i=n.axes,s=n.renderer,f=n.options,e,o,r,u;n.setTitle();n.legend=new nf(n,f.legend);n.getStacks&&n.getStacks();n.getMargins(!0);n.setChartSize();e=n.plotWidth;o=n.plotHeight=n.plotHeight-13;t(i,function(n){n.setScale()});n.getAxisMargins();r=e/n.plotWidth>1.1;u=o/n.plotHeight>1.1;(r||u)&&(n.maxTicks=null,t(i,function(n){(n.horiz&&r||!n.horiz&&u)&&n.setTickInterval(!0)}),n.getMargins());n.drawChartBox();n.hasCartesianSeries&&t(i,function(n){n.render()});n.seriesGroup||(n.seriesGroup=s.g("series-group").attr({zIndex:3}).add());n.renderSeries();n.renderLabels();n.showCredits(f.credits);n.hasRendered=!0},showCredits:function(n){n.enabled&&!this.credits&&(this.credits=this.renderer.text(n.text,0,0).on("click",function(){n.href&&(location.href=n.href)}).attr({align:n.position.align,zIndex:8}).css(n.style).add().align(n.position))},destroy:function(){var n=this,f=n.axes,e=n.series,u=n.container,r,o=u&&u.parentNode;for(g(n,"destroy"),yt[n.index]=i,au--,n.renderTo.removeAttribute("data-highcharts-chart"),et(n),r=f.length;r--;)f[r]=f[r].destroy();for(r=e.length;r--;)e[r]=e[r].destroy();t(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(t){var i=n[t];i&&i.destroy&&(n[t]=i.destroy())});u&&(u.innerHTML="",et(u),o&&uu(u));for(r in n)delete n[r]},isReadyToRender:function(){var n=this;return!kt&&ft==ft.top&&l.readyState!=="complete"||ei&&!ft.canvg?(ei?ho.push(function(){n.firstRender()},n.options.global.canvasToolsURL):l.attachEvent("onreadystatechange",function(){l.detachEvent("onreadystatechange",n.firstRender);l.readyState==="complete"&&n.firstRender()}),!1):!0},firstRender:function(){var n=this,r=n.options,u=n.callback;n.isReadyToRender()&&(n.getContainer(),g(n,"init"),n.resetMargins(),n.setChartSize(),n.propFromSeries(),n.getAxes(),t(r.series||[],function(t){n.initSeries(t)}),n.linkSeries(),g(n,"beforeRender"),h.Pointer&&(n.pointer=new kr(n,r)),n.render(),n.renderer.draw(),u&&u.apply(n,[n]),t(n.callbacks,function(t){n.index!==i&&t.apply(n,[n])}),g(n,"load"),n.cloneRenderTo(!0))},splashArray:function(t,i){var r=i[t],u=ii(r)?r:[r,r,r,r];return[n(i[t+"Top"],u[0]),n(i[t+"Right"],u[1]),n(i[t+"Bottom"],u[2]),n(i[t+"Left"],u[3])]}};co=h.CenteredSeriesMixin={getCenter:function(){for(var i=this.options,e=this.chart,u=2*(i.slicedOffset||0),o,h=e.plotWidth-2*u,c=e.plotHeight-2*u,l=i.center,r=[n(l[0],"50%"),n(l[1],"50%"),i.size||"100%",i.innerSize||0],a=s(h,c),f,t=0;t<4;++t)f=r[t],o=t<2||t===2&&/%$/.test(f),r[t]=eo(f,[h,c,a,r[2]][t])+(o?u:0);return r}};gi=function(){};gi.prototype={init:function(n,t,i){var r=this,u;return r.series=n,r.color=n.color,r.applyOptions(t,i),r.pointAttr={},n.options.colorByPoint&&(u=n.options.colors||n.chart.options.colors,r.color=r.color||u[n.colorCounter++],n.colorCounter===u.length&&(n.colorCounter=0)),n.chart.pointCount++,r},applyOptions:function(n,t){var r=this,u=r.series,f=u.options.pointValKey||u.pointValKey;return n=gi.prototype.optionsToObject.call(this,n),e(r,n),r.options=r.options?e(r.options,n):n,f&&(r.y=r[f]),r.x===i&&u&&(r.x=t===i?u.autoIncrement():t),r},optionsToObject:function(n){var t={},i=this.series,f=i.options.keys,r=f||i.pointArrayMap||["y"],e=r.length,u,o=0,s=0;if(typeof n=="number"||n===null)t[r[0]]=n;else if(ar(n))for(!f&&n.length>e&&(u=typeof n[0],u==="string"?t.name=n[0]:u==="number"&&(t.x=n[0]),o++);s<e;)t[r[s++]]=n[o++];else typeof n=="object"&&(t=n,n.dataLabels&&(i._hasPointLabels=!0),n.marker&&(i._hasPointMarkers=!0));return t},destroy:function(){var n=this,u=n.series,t=u.chart,i=t.hoverPoints,r;t.pointCount--;i&&(n.setState(),bi(i,n),i.length||(t.hoverPoints=null));n===t.hoverPoint&&n.onMouseOut();(n.graphic||n.dataLabel)&&(et(n),n.destroyElements());n.legendItem&&t.legend.destroyItem(n);for(r in n)n[r]=null},destroyElements:function(){for(var t=this,r=["graphic","dataLabel","dataLabelUpper","group","connector","shadowGroup"],n,i=6;i--;)n=r[i],t[n]&&(t[n]=t[n].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(i){var u=this.series,r=u.tooltipOptions,o=n(r.valueDecimals,""),f=r.valuePrefix||"",e=r.valueSuffix||"";return t(u.pointArrayMap||["y"],function(n){n="{point."+n;(f||e)&&(i=i.replace(n+"}",f+n+"}"+e));i=i.replace(n+"}",n+":,."+o+"f}")}),yr(i,{point:this,series:this.series})},firePointEvent:function(n,t,i){var r=this,f=this.series,u=f.options;(u.point.events[n]||r.options&&r.options.events&&r.options.events[n])&&this.importEvents();n==="click"&&u.allowPointSelect&&(i=function(n){r.select&&r.select(null,n.ctrlKey||n.metaKey||n.shiftKey)});g(this,n,t,i)}};w=h.Series=function(){};w.prototype={isCartesian:!0,type:"line",pointClass:gi,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(i,r){var u=this,s,f,o=i.series,h=function(t,i){return n(t.options.index,t._i)-n(i.options.index,i._i)};u.chart=i;u.options=r=u.setOptions(r);u.linkedSeries=[];u.bindAxes();e(u,{name:r.name,state:dt,pointAttr:{},visible:r.visible!==!1,selected:r.selected===!0});ei&&(r.animation=!1);f=r.events;for(s in f)c(u,s,f[s]);(f&&f.click||r.point&&r.point.events&&r.point.events.click||r.allowPointSelect)&&(i.runTrackerClick=!0);u.getColor();u.getSymbol();t(u.parallelArrays,function(n){u[n+"Data"]=[]});u.setData(r.data,!1);u.isCartesian&&(i.hasCartesianSeries=!0);o.push(u);u._i=o.length-1;se(o,h);this.yAxis&&se(this.yAxis.series,h);t(o,function(n,t){n.index=t;n.name=n.name||"Series "+(t+1)})},bindAxes:function(){var n=this,r=n.options,f=n.chart,u;t(n.axisTypes||[],function(e){t(f[e],function(t){u=t.options;(r[e]===u.index||r[e]!==i&&r[e]===u.id||r[e]===i&&u.index===0)&&(t.series.push(n),n[e]=t,t.isDirty=!0)});n[e]||n.optionalAxis===e||ai(18,!0)})},updateParallelArrays:function(n,i){var r=n.series,u=arguments,f=typeof i=="number"?function(t){var u=t==="y"&&r.toYData?r.toYData(n):n[t];r[t+"Data"][i]=u}:function(n){Array.prototype[i].apply(r[n+"Data"],Array.prototype.slice.call(u,2))};t(r.parallelArrays,f)},autoIncrement:function(){var u=this.options,i=this.xIncrement,t,r,f=u.pointIntervalUnit;return i=n(i,u.pointStart,0),this.pointInterval=r=n(this.pointInterval,u.pointInterval,1),(f==="month"||f==="year")&&(t=new gt(i),t=f==="month"?+t[ue](t[yu]()+r):+t[fe](t[pu]()+r),r=t-i),this.xIncrement=i+r,i},getSegments:function(){var f=this,i=-1,r=[],u,n=f.points,e=n.length;if(e)if(f.options.connectNulls){for(u=e;u--;)n[u].y===null&&n.splice(u,1);n.length&&(r=[n])}else t(n,function(t,u){t.y===null?(u>i+1&&r.push(n.slice(i+1,u)),i=u):u===e-1&&r.push(n.slice(i+1,u+1))});f.segments=r},setOptions:function(n){var f=this.chart,c=f.options,e=c.plotOptions,s=f.userOptions||{},u=s.plotOptions||{},h=e[this.type],t,i;return this.userOptions=n,t=o(h,e.series,n),this.tooltipOptions=o(nt.tooltip,nt.plotOptions[this.type].tooltip,s.tooltip,u.series&&u.series.tooltip,u[this.type]&&u[this.type].tooltip,n.tooltip),h.marker===null&&delete t.marker,this.zoneAxis=t.zoneAxis,i=this.zones=(t.zones||[]).slice(),(t.negativeColor||t.negativeFillColor)&&!t.zones&&i.push({value:t[this.zoneAxis+"Threshold"]||t.threshold||0,color:t.negativeColor,fillColor:t.negativeFillColor}),i.length&&r(i[i.length-1].value)&&i.push({color:this.color,fillColor:this.fillColor}),t},getCyclic:function(n,t,i){var u,f=this.userOptions,e="_"+n+"Index",o=n+"Counter";t||(r(f[e])?u=f[e]:(f[e]=u=this.chart[o]%i.length,this.chart[o]+=1),t=i[u]);this[n]=t},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||ut[this.type].color,this.chart.options.colors)},getSymbol:function(){var n=this.options.marker;this.getCyclic("symbol",n.symbol,this.chart.options.symbols);/^url/.test(this.symbol)&&(n.radius=0)},drawLegendSymbol:hu.drawLineMarker,setData:function(u,f,e,o){var h=this,a=h.points,d=a&&a.length||0,l,y=h.options,g=h.chart,p=null,v=h.xAxis,nt=v&&!!v.categories,s,tt=y.turboThreshold,c,k=this.xData,w=this.yData,it=h.pointArrayMap,rt=it&&it.length,b,ut;if(u=u||[],l=u.length,f=n(f,!0),o!==!1&&l&&d===l&&!h.cropped&&!h.hasGroupedData&&h.visible)t(u,function(n,t){a[t].update&&a[t].update(n,!1,null,!1)});else{if(h.xIncrement=null,h.pointRange=nt?1:y.pointRange,h.colorCounter=0,t(this.parallelArrays,function(n){h[n+"Data"].length=0}),tt&&l>tt){for(s=0;p===null&&s<l;)p=u[s],s++;if(pi(p)){for(b=n(y.pointStart,0),ut=n(y.pointInterval,1),s=0;s<l;s++)k[s]=b,w[s]=u[s],b+=ut;h.xIncrement=b}else if(ar(p))if(rt)for(s=0;s<l;s++)c=u[s],k[s]=c[0],w[s]=c.slice(1,rt+1);else for(s=0;s<l;s++)c=u[s],k[s]=c[0],w[s]=c[1];else ai(12)}else for(s=0;s<l;s++)u[s]!==i&&(c={series:h},h.pointClass.prototype.applyOptions.apply(c,[u[s]]),h.updateParallelArrays(c,s),nt&&r(c.name)&&(v.names[c.x]=c.name));for(lr(w[0])&&ai(14,!0),h.data=[],h.options.data=u,s=d;s--;)a[s]&&a[s].destroy&&a[s].destroy();v&&(v.minRange=v.userMinRange);h.isDirty=h.isDirtyData=g.isDirtyBox=!0;e=!1}f&&g.redraw(e)},processData:function(n){var t=this,r=t.xData,c=t.yData,l=r.length,o,y=0,p,u,f,a=t.xAxis,e,w=t.options,b=w.cropThreshold,k=t.isCartesian,v,s,h;if(k&&!t.isDirty&&!a.isDirty&&!t.yAxis.isDirty&&!n)return!1;for(a&&(v=a.getExtremes(),s=v.min,h=v.max),k&&t.sorted&&(!b||l>b||t.forceCrop)&&(r[l-1]<s||r[0]>h?(r=[],c=[]):(r[0]<s||r[l-1]>h)&&(o=this.cropData(t.xData,t.yData,s,h),r=o.xData,c=o.yData,y=o.start,p=!0)),e=r.length-1;e>=0;e--)u=r[e]-r[e-1],u>0&&(f===i||u<f)?f=u:u<0&&t.requireSorting&&ai(15);t.cropped=p;t.cropStart=y;t.processedXData=r;t.processedYData=c;w.pointRange===null&&(t.pointRange=f||1);t.closestPointRange=f},cropData:function(t,i,r,u){for(var h=t.length,o=0,s=h,c=n(this.cropShoulder,1),e=0;e<h;e++)if(t[e]>=r){o=f(0,e-c);break}for(;e<h;e++)if(t[e]>u){s=e+c;break}return{xData:t.slice(o,s),yData:i.slice(o,s),start:o,end:s}},generatePoints:function(){var t=this,p=t.options,o=p.data,r=t.data,a,s=t.processedXData,w=t.processedYData,v=t.pointClass,h=s.length,y=t.cropStart||0,u,f=t.hasGroupedData,c,e=[],n,l;for(r||f||(l=[],l.length=o.length,r=t.data=l),n=0;n<h;n++)u=y+n,f?e[n]=(new v).init(t,[s[n]].concat(li(w[n]))):(r[u]?c=r[u]:o[u]!==i&&(r[u]=c=(new v).init(t,o[u],s[n])),e[n]=c),e[n].index=u;if(r&&(h!==(a=r.length)||f))for(n=0;n<a;n++)n!==y||f||(n+=h),r[n]&&(r[n].destroyElements(),r[n].plotX=i);t.data=r;t.points=e},getExtremes:function(n){var v=this.xAxis,y=this.yAxis,e=this.processedXData,s,f=[],h=0,c=v.getExtremes(),p=c.min,w=c.max,l,a,o,t,r,u;for(n=n||this.stackedYData||this.processedYData,s=n.length,r=0;r<s;r++)if(o=e[r],t=n[r],l=t!==null&&t!==i&&(!y.isLog||t.length||t>0),a=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(e[r+1]||o)>=p&&(e[r-1]||o)<=w,l&&a)if(u=t.length,u)while(u--)t[u]!==null&&(f[h++]=t[u]);else f[h++]=t;this.dataMin=ru(f);this.dataMax=hr(f)},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var u=this,v=u.options,rt=v.stacking,y=u.xAxis,k=y.categories,o=u.yAxis,ut=u.points,ot=ut.length,st=!!u.modifyValue,g=v.pointPlacement,ht=g==="between"||pi(g),p=v.threshold,ft=v.startFromThreshold?p:0,l,w,et,nt=Number.MAX_VALUE,c=0;c<ot;c++){var t=ut[c],b=t.x,e=t.y,h=t.low,tt=rt&&o.stacks[(u.negStacks&&e<(ft?0:p)?"-":"")+u.stackKey],a,it;o.isLog&&e!==null&&e<=0&&(t.y=e=null,ai(10));t.plotX=l=s(f(-1e5,y.translate(b,0,0,0,1,g,this.type==="flags")),1e5);rt&&u.visible&&tt&&tt[b]&&(a=tt[b],it=a.points[u.index+","+c],h=it[0],e=it[1],h===ft&&(h=n(p,o.min)),o.isLog&&h<=0&&(h=null),t.total=t.stackTotal=a.total,t.percentage=a.total&&t.y/a.total*100,t.stackY=e,a.setOffset(u.pointXOffset||0,u.barW||0));t.yBottom=r(h)?o.translate(h,0,1,0,1):null;st&&(e=u.modifyValue(e,t));t.plotY=w=typeof e=="number"&&e!==Infinity?s(f(-1e5,o.translate(e,0,1,0,1)),1e5):i;t.isInside=w!==i&&w>=0&&w<=o.len&&l>=0&&l<=y.len;t.clientX=ht?y.translate(b,0,0,0,1):l;t.negative=t.y<(p||0);t.category=k&&k[t.x]!==i?k[t.x]:t.x;c&&(nt=s(nt,d(l-et)));et=l}u.closestPointRangePx=nt;u.getSegments()},setClip:function(n){var t=this.chart,e=t.renderer,o=t.inverted,u=this.clipBox,f=u||t.clipBox,i=this.sharedClipKey||["_sharedClip",n&&n.duration,n&&n.easing,f.height].join(","),r=t[i],s=t[i+"m"];r||(n&&(f.width=0,t[i+"m"]=s=e.clipRect(-99,o?-t.plotLeft:-t.plotTop,99,o?t.chartWidth:t.chartHeight)),t[i]=r=e.clipRect(f));n&&(r.count+=1);this.options.clip!==!1&&(this.group.clip(n||u?r:t.clipRect),this.markerGroup.clip(s),this.sharedClipKey=i);n||(r.count-=1,r.count<=0&&i&&t[i]&&(u||(t[i]=t[i].destroy()),t[i+"m"]&&(t[i+"m"]=t[i+"m"].destroy())))},animate:function(n){var i=this,r=i.chart,f,t=i.options.animation,u;t&&!ii(t)&&(t=ut[i.type].animation);n?i.setClip(t):(u=this.sharedClipKey,f=r[u],f&&f.animate({width:r.plotSizeX},t),r[u+"m"]&&r[u+"m"].animate({width:r.plotSizeX+99},t),i.animate=null)},afterAnimate:function(){this.setClip();g(this,"afterAnimate")},drawPoints:function(){var u=this,c,p=u.points,d=u.chart,l,o,a,t,r,v,w,f,g=u.options,h=g.marker,nt=u.pointAttr[""],s,b,k,y,tt=u.markerGroup,it=u.xAxis,rt=n(h.enabled,it.isRadial,u.closestPointRangePx>2*h.radius);if(h.enabled!==!1||u._hasPointMarkers)for(a=p.length;a--;)t=p[a],l=ot(t.plotX),o=t.plotY,f=t.graphic,s=t.marker||{},b=!!t.marker,k=rt&&s.enabled===i||s.enabled,y=t.isInside,k&&o!==i&&!isNaN(o)&&t.y!==null?(c=t.pointAttr[t.selected?sr:dt]||nt,r=c.r,v=n(s.symbol,u.symbol),w=v.indexOf("url")===0,f?f[y?"show":"hide"](!0).animate(e({x:l-r,y:o-r},f.symbolName?{width:2*r,height:2*r}:{})):y&&(r>0||w)&&(t.graphic=f=d.renderer.symbol(v,l-r,o-r,2*r,2*r,b?s:h).attr(c).add(tt))):f&&(t.graphic=f.destroy())},convertAttribs:function(t,i,r,u){var e=this.pointAttrToOptions,f,o,s={};t=t||{};i=i||{};r=r||{};u=u||{};for(f in e)o=e[f],s[f]=n(t[o],i[f],r[f],u[f]);return s},getAttribs:function(){var f=this,c=f.options,n=ut[f.type].marker?c.marker:c,h=n.states,i=h[yi],a,w=f.color,d=f.options.negativeColor,rt={stroke:w,fill:w},g=f.points||[],v,b,l,u,o=[],s,nt=f.pointAttrToOptions,y=f.hasPointSpecificOptions,ft=n.lineColor,et=n.fillColor,tt=c.turboThreshold,k=f.zones,ot=f.zoneAxis||"y",p,it;if(c.marker?(i.radius=i.radius||n.radius+i.radiusPlus,i.lineWidth=i.lineWidth||n.lineWidth+i.lineWidthPlus):(i.color=i.color||ki(i.color||w).brighten(i.brightness).get(),i.negativeColor=i.negativeColor||ki(i.negativeColor||d).brighten(i.brightness).get()),o[dt]=f.convertAttribs(n,rt),t([yi,sr],function(n){o[n]=f.convertAttribs(h[n],o[dt])}),f.pointAttr=o,v=g.length,!tt||v<tt||y)while(v--){if(u=g[v],n=u.options&&u.options.marker||u.options,n&&n.enabled===!1&&(n.radius=0),k.length){for(b=0,l=k[b];u[ot]>=l.value;)l=k[++b];l.color&&(u.color=u.fillColor=l.color)}if(y=c.colorByPoint||u.color,u.options)for(it in nt)r(n[nt[it]])&&(y=!0);y?(n=n||{},s=[],h=n.states||{},a=h[yi]=h[yi]||{},c.marker||(a.color=a.color||!u.options.color&&i[u.negative&&d?"negativeColor":"color"]||ki(u.color).brighten(a.brightness||i.brightness).get()),p={color:u.color},et||(p.fillColor=u.color),ft||(p.lineColor=u.color),n.hasOwnProperty("color")&&!n.color&&delete n.color,s[dt]=f.convertAttribs(e(p,n),o[dt]),s[yi]=f.convertAttribs(h[yi],o[yi],s[dt]),s[sr]=f.convertAttribs(h[sr],o[sr],s[dt])):s=o;u.pointAttr=s}},destroy:function(){var n=this,f=n.chart,h=/AppleWebKit\/533/.test(er),o,e,s=n.data||[],u,i,r;for(g(n,"destroy"),et(n),t(n.axisTypes||[],function(t){r=n[t];r&&(bi(r.series,n),r.isDirty=r.forceRedraw=!0)}),n.legendItem&&n.chart.legend.destroyItem(n),e=s.length;e--;)u=s[e],u&&u.destroy&&u.destroy();n.points=null;clearTimeout(n.animationTimeout);for(i in n)n[i]instanceof lt&&!n[i].survive&&(o=h&&i==="group"?"hide":"destroy",n[i][o]());f.hoverSeries===n&&(f.hoverSeries=null);bi(f.series,n);for(i in n)delete n[i]},getSegmentPath:function(n){var r=this,i=[],u=r.options.step;return t(n,function(t,f){var o=t.plotX,s=t.plotY,e;r.getPointSpline?i.push.apply(i,r.getPointSpline(n,t,f)):(i.push(f?it:rt),u&&f&&(e=n[f-1],u==="right"?i.push(e.plotX,s):u==="center"?i.push((e.plotX+o)/2,e.plotY,(e.plotX+o)/2,s):i.push(o,e.plotY)),i.push(t.plotX,t.plotY))}),i},getGraphPath:function(){var n=this,i=[],r,u=[];return t(n.segments,function(t){r=n.getSegmentPath(t);t.length>1?i=i.concat(r):u.push(t[0])}),n.singlePoints=u,n.graphPath=i,i},drawGraph:function(){var i=this,n=this.options,u=[["graph",n.lineColor||this.color,n.dashStyle]],f=n.lineWidth,o=n.linecap!=="square",r=this.getGraphPath(),e=this.fillGraph&&this.color||at,s=this.zones;t(s,function(t,r){u.push(["zoneGraph"+r,t.color||i.color,t.dashStyle||n.dashStyle])});t(u,function(t,u){var h=t[0],c=i[h],s;c?c.animate({d:r}):(f||e)&&r.length&&(s={stroke:t[1],"stroke-width":f,fill:e,zIndex:1},t[2]?s.dashstyle=t[2]:o&&(s["stroke-linecap"]=s["stroke-linejoin"]="round"),i[h]=i.chart.renderer.path(r).attr(s).add(i.group).shadow(u<2&&n.shadow))})},applyZones:function(){var g=this,e=this.chart,nt=e.renderer,tt=this.zones,h,c,l=this.clips||[],r,v=this.graph,y=this.area,p=f(e.chartWidth,e.chartHeight),o=this[(this.zoneAxis||"y")+"Axis"],a,it=o.reversed,rt=e.inverted,w=o.horiz,d,b,k,ut=!1;tt.length&&(v||y)&&o.min!==i&&(v&&v.hide(),y&&y.hide(),a=o.getExtremes(),t(tt,function(t,i){h=it?w?e.plotWidth:0:w?0:o.toPixels(a.min);h=s(f(n(c,h),0),p);c=s(f(u(o.toPixels(n(t.value,a.max),!0)),0),p);ut&&(h=c=o.toPixels(a.max));d=Math.abs(h-c);b=s(h,c);k=f(h,c);o.isXAxis?(r={x:rt?k:b,y:0,width:d,height:p},w||(r.x=e.plotHeight-r.x)):(r={x:0,y:rt?k:b,width:p,height:d},w&&(r.y=e.plotWidth-r.y));e.inverted&&nt.isVML&&(r=o.isXAxis?{x:0,y:it?b:k,height:r.width,width:e.chartWidth}:{x:r.y-e.plotLeft-e.spacingBox.x,y:0,width:r.height,height:e.chartHeight});l[i]?l[i].animate(r):(l[i]=nt.clipRect(r),v&&g["zoneGraph"+i].clip(l[i]),y&&g["zoneArea"+i].clip(l[i]));ut=t.value>a.max}),this.clips=l)},invertGroups:function(){function i(){var i={width:n.yAxis.len,height:n.xAxis.len};t(["group","markerGroup"],function(t){n[t]&&n[t].attr(i).invert()})}var n=this,r=n.chart;n.xAxis&&(c(r,"resize",i),c(n,"destroy",function(){et(r,"resize",i)}),i(),n.invertGroups=i)},plotGroup:function(n,t,i,r,u){var f=this[n],e=!f;return e&&(this[n]=f=this.chart.renderer.g(t).attr({visibility:i,zIndex:r||.1}).add(u)),f[e?"attr":"animate"](this.getPlotBox()),f},getPlotBox:function(){var t=this.chart,i=this.xAxis,n=this.yAxis;return t.inverted&&(i=n,n=this.xAxis),{translateX:i?i.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var i=this,r=i.chart,f,e=i.options,o=e.animation,u=o&&!!i.animate&&r.renderer.isSVG&&n(o.duration,500)||0,s=i.visible?oi:ci,h=e.zIndex,c=i.hasRendered,l=r.seriesGroup;f=i.plotGroup("group","series",s,h,l);i.markerGroup=i.plotGroup("markerGroup","markers",s,h,l);u&&i.animate(!0);i.getAttribs();f.inverted=i.isCartesian?r.inverted:!1;i.drawGraph&&(i.drawGraph(),i.applyZones());t(i.points,function(n){n.redraw&&n.redraw()});i.drawDataLabels&&i.drawDataLabels();i.visible&&i.drawPoints();i.drawTracker&&i.options.enableMouseTracking!==!1&&i.drawTracker();r.inverted&&i.invertGroups();e.clip===!1||i.sharedClipKey||c||f.clip(r.clipRect);u&&i.animate();c||(u?i.animationTimeout=setTimeout(function(){i.afterAnimate()},u):i.afterAnimate());i.isDirty=i.isDirtyData=!1;i.hasRendered=!0},redraw:function(){var t=this,i=t.chart,u=t.isDirtyData,o=t.isDirty,r=t.group,f=t.xAxis,e=t.yAxis;r&&(i.inverted&&r.attr({width:i.plotWidth,height:i.plotHeight}),r.animate({translateX:n(f&&f.left,i.plotLeft),translateY:n(e&&e.top,i.plotTop)}));t.translate();t.render();u&&g(t,"updatedData");(o||u)&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(n,t){var i=this,r=i.xAxis,u=i.yAxis,f=i.chart.inverted;return this.searchKDTree({clientX:f?r.len-n.chartY+r.pos:n.chartX-r.pos,plotY:f?u.len-n.chartX+u.pos:n.chartY-u.pos},t)},buildKDTree:function(){function t(i,r,u){var e,f,o=i&&i.length;if(o)return e=n.kdAxisArray[r%u],i.sort(function(n,t){return n[e]-t[e]}),f=Math.floor(o/2),{point:i[f],left:t(i.slice(0,f),r+1,u),right:t(i.slice(f+1),r+1,u)}}function r(){var r=ku(n.points||[],function(n){return n.y!==null});n.kdTree=t(r,i,i)}var n=this,i=n.kdDimensions;delete n.kdTree;n.options.kdSync?r():setTimeout(r)},searchKDTree:function(n,t){function s(n,t){var i=r(n[u])&&r(t[u])?Math.pow(n[u]-t[u],2):null,o=r(n[f])&&r(t[f])?Math.pow(n[f]-t[f],2):null,e=(i||0)+(o||0);t.dist=r(e)?Math.sqrt(e):Number.MAX_VALUE;t.distX=r(i)?Math.sqrt(i):Number.MAX_VALUE}function e(n,t,r,u){var c=t.point,p=o.kdAxisArray[r%u],h,l,a,f=c,v,y;return s(n,c),h=n[p]-c[p],l=h<0?"left":"right",a=h<0?"right":"left",t[l]&&(v=e(n,t[l],r+1,u),f=v[i]<f[i]?v:c),t[a]&&Math.sqrt(h*h)<f[i]&&(y=e(n,t[a],r+1,u),f=y[i]<f[i]?y:f),f}var o=this,u=this.kdAxisArray[0],f=this.kdAxisArray[1],i=t?"distX":"dist";return this.kdTree||this.buildKDTree(),this.kdTree?e(n,this.kdTree,this.kdDimensions,this.kdDimensions):void 0}};lo.prototype={destroy:function(){pr(this,this.axis)},render:function(n){var t=this.options,i=t.format,r=i?yr(i,this):t.formatter.call(this);this.label?this.label.attr({text:r,visibility:ci}):this.label=this.axis.chart.renderer.text(r,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:ci}).add(n)},setOffset:function(n,t){var v=this,i=v.axis,u=i.chart,f=u.inverted,c=i.reversed,l=this.isNegative&&!c||!this.isNegative&&c,r=i.translate(i.usePercentage?100:this.total,0,0,0,1),y=i.translate(0),e=d(r-y),a=u.xAxis[0].translate(this.x)+n,s=u.plotHeight,p={x:f?l?r:r-e:a,y:f?s-a-t:l?s-r-e:s-r,width:f?e:t,height:f?t:e},o=this.label,h;o&&(o.align(this.alignOptions,null,p),h=o.alignAttr,o[this.options.crop===!1||u.isInsidePlot(h.x,h.y)?"show":"hide"](!0))}};ur.prototype.getStacks=function(){var i=this;t(i.yAxis,function(n){n.stacks&&n.hasVisibleSeries&&(n.oldStacks=n.stacks)});t(i.series,function(t){t.options.stacking&&(t.visible===!0||i.options.chart.ignoreHiddenSeries===!1)&&(t.stackKey=t.type+n(t.options.stack,""))})};p.prototype.buildStacks=function(){var i=this.series,r=n(this.options.reversedStacks,!0),t=i.length;if(!this.isXAxis){for(this.usePercentage=!1;t--;)i[r?t:i.length-t-1].setStackedPoints();if(this.usePercentage)for(t=0;t<i.length;t++)i[t].setPercentStacks()}};p.prototype.renderStackTotals=function(){var n=this,i=n.chart,o=i.renderer,u=n.stacks,f,r,e,t=n.stackTotalGroup;t||(n.stackTotalGroup=t=o.g("stack-labels").attr({visibility:oi,zIndex:6}).add());t.translate(i.plotLeft,i.plotTop);for(f in u){r=u[f];for(e in r)r[e].render(t)}};p.prototype.resetStacks=function(){var n=this.stacks,t,i;if(!this.isXAxis)for(t in n)for(i in n[t])n[t][i].touched<this.stacksTouched?(n[t][i].destroy(),delete n[t][i]):(n[t][i].total=null,n[t][i].cum=0)};p.prototype.cleanStacks=function(){var n,t,i;if(!this.isXAxis){this.oldStacks&&(n=this.stacks=this.oldStacks);for(t in n)for(i in n[t])n[t][i].cum=n[t][i].total}};w.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var o=this,rt=o.processedXData,b=o.processedYData,k=[],ut=b.length,l=o.options,g=l.threshold,v=l.startFromThreshold?g:0,ft=l.stack,nt=l.stacking,y=o.stackKey,tt="-"+y,it=o.negStacks,e=o.yAxis,u=e.stacks,p=e.oldStacks,a,t,s,i,w,h,r,c;for(e.stacksTouched+=1,h=0;h<ut;h++)r=rt[h],c=b[h],w=o.index+","+h,a=it&&c<(v?0:g),i=a?tt:y,u[i]||(u[i]={}),u[i][r]||(p[i]&&p[i][r]?(u[i][r]=p[i][r],u[i][r].total=null):u[i][r]=new lo(e,e.options.stackLabels,a,r,ft)),t=u[i][r],t.points[w]=[n(t.cum,v)],t.touched=e.stacksTouched,nt==="percent"?(s=a?y:tt,it&&u[s]&&u[s][r]?(s=u[s][r],t.total=s.total=f(s.total,t.total)+d(c)||0):t.total=si(t.total+(d(c)||0))):t.total=si(t.total+(c||0)),t.cum=n(t.cum,v)+(c||0),t.points[w].push(t.cum),k[h]=t.cum;nt==="percent"&&(e.usePercentage=!0);this.stackedYData=k;e.oldStacks={}}};w.prototype.setPercentStacks=function(){var n=this,i=n.stackKey,r=n.yAxis.stacks,u=n.processedXData;t([i,"-"+i],function(t){for(var e=u.length,s,f,i,o;e--;)s=u[e],f=r[t]&&r[t][s],i=f&&f.points[n.index+","+e],i&&(o=f.total?100/f.total:0,i[0]=si(i[0]*o),i[1]=si(i[1]*o),n.stackedYData[e]=i[1])})};e(ur.prototype,{addSeries:function(t,i,r){var f,u=this;return t&&(i=n(i,!0),g(u,"addSeries",{options:t},function(){f=u.initSeries(t);u.isDirtyLegend=!0;u.linkSeries();i&&u.redraw(r)})),f},addAxis:function(t,i,r,u){var f=i?"xAxis":"yAxis",e=this.options,s;s=new p(this,o(t,{index:this[f].length,isX:i}));e[f]=li(e[f]||{});e[f].push(t);n(r,!0)&&this.redraw(u)},showLoading:function(n){var t=this,u=t.options,i=t.loadingDiv,r=u.loading,f=function(){i&&k(i,{left:t.plotLeft+y,top:t.plotTop+y,width:t.plotWidth+y,height:t.plotHeight+y})};i||(t.loadingDiv=i=pt(tu,{className:st+"loading"},e(r.style,{zIndex:10,display:at}),t.container),t.loadingSpan=pt("span",null,r.labelStyle,i),c(t,"redraw",f));t.loadingSpan.innerHTML=n||u.lang.loading;t.loadingShown||(k(i,{opacity:0,display:""}),lf(i,{opacity:r.style.opacity},{duration:r.showDuration||0}),t.loadingShown=!0);f()},hideLoading:function(){var t=this.options,n=this.loadingDiv;n&&lf(n,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){k(n,{display:at})}});this.loadingShown=!1}});e(gi.prototype,{update:function(t,i,r,u){function a(){f.applyOptions(t);f.y===null&&o&&(f.graphic=o.destroy());ii(t)&&!ar(t)&&(f.redraw=function(){o&&o.element&&t&&t.marker&&t.marker.symbol&&(f.graphic=o.destroy());t&&t.dataLabels&&f.dataLabel&&(f.dataLabel=f.dataLabel.destroy());f.redraw=null});s=f.index;e.updateParallelArrays(f,s);l&&f.name&&(l[f.x]=f.name);c.data[s]=f.options;e.isDirty=e.isDirtyData=!0;!e.fixedBox&&e.hasCartesianSeries&&(h.isDirtyBox=!0);c.legendType==="point"&&(h.isDirtyLegend=!0);i&&h.redraw(r)}var f=this,e=f.series,o=f.graphic,s,h=e.chart,c=e.options,l=e.xAxis&&e.xAxis.names;i=n(i,!0);u===!1?a():f.firePointEvent("update",{options:t},a)},remove:function(n,t){this.series.removePoint(wr(this,this.series.data),n,t)}});e(w.prototype,{addPoint:function(i,r,u,f){var e=this,a=e.options,h=e.data,v=e.graph,y=e.area,p=e.chart,w=e.xAxis&&e.xAxis.names,g=v&&v.shift||0,b=["graph","area"],k=a.data,s,d,l=e.xData,o,c;if(eu(f,p),u){for(o=e.zones.length;o--;)b.push("zoneGraph"+o,"zoneArea"+o);t(b,function(n){e[n]&&(e[n].shift=g+1)})}if(y&&(y.isArea=!0),r=n(r,!0),s={series:e},e.pointClass.prototype.applyOptions.apply(s,[i]),c=s.x,o=l.length,e.requireSorting&&c<l[o-1])for(d=!0;o&&l[o-1]>c;)o--;e.updateParallelArrays(s,"splice",o,0,0);e.updateParallelArrays(s,o);w&&s.name&&(w[c]=s.name);k.splice(o,0,i);d&&(e.data.splice(o,0,null),e.processData());a.legendType==="point"&&e.generatePoints();u&&(h[0]&&h[0].remove?h[0].remove(!1):(h.shift(),e.updateParallelArrays(s,"shift"),k.shift()));e.isDirty=!0;e.isDirtyData=!0;r&&(e.getAttribs(),p.redraw())},removePoint:function(t,i,r){var u=this,e=u.data,f=e[t],o=u.points,s=u.chart,h=function(){e.length===o.length&&o.splice(t,1);e.splice(t,1);u.options.data.splice(t,1);u.updateParallelArrays(f||{series:u},"splice",t,1);f&&f.destroy();u.isDirty=!0;u.isDirtyData=!0;i&&s.redraw()};eu(r,s);i=n(i,!0);f?f.firePointEvent("remove",null,h):h()},remove:function(t,i){var r=this,u=r.chart;t=n(t,!0);r.isRemoving||(r.isRemoving=!0,g(r,"remove",null,function(){r.destroy();u.isDirtyLegend=u.isDirtyBox=!0;u.linkSeries();t&&u.redraw(i)}));r.isRemoving=!1},update:function(r,u){var s=this,h=this.chart,v=this.userOptions,c=this.type,y=a[c].prototype,f=["group","markerGroup","dataLabelsGroup"],l;(r.type&&r.type!==c||r.zIndex!==undefined)&&(f.length=0);t(f,function(n){f[n]=s[n];delete s[n]});r=o(v,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},r);this.remove(!1);for(l in y)this[l]=i;e(this,a[r.type||c].prototype);t(f,function(n){s[n]=f[n]});this.init(h,r);h.linkSeries();n(u,!0)&&h.redraw(!1)}});e(p.prototype,{update:function(t,r){var u=this.chart;t=u.options[this.coll][this.options.index]=o(this.userOptions,t);this.destroy(!0);this._addedPlotLB=this.chart._labelPanes=i;this.init(u,e(t,{events:i}));u.isDirtyBox=!0;n(r,!0)&&u.redraw()},remove:function(i){for(var r=this.chart,u=this.coll,f=this.series,e=f.length;e--;)f[e]&&f[e].remove(!1);bi(r.axes,this);bi(r[u],this);r.options[u].splice(this.options.index,1);t(r[u],function(n,t){n.options.index=t});this.destroy();r.isDirtyBox=!0;n(i,!0)&&r.redraw()},setTitle:function(n,t){this.update({title:n},t)},setCategories:function(n,t){this.update({categories:n},t)}});ao=ri(w);a.line=ao;ut.area=o(ou,{threshold:0});ae=ri(w,{type:"area",getSegments:function(){var a=this,u=[],r=[],f=[],v=this.xAxis,e=this.yAxis,o=e.stacks[this.stackKey],i={},s,h,c=this.points,y=this.options.connectNulls,n,l;if(this.options.stacking&&!this.cropped){for(n=0;n<c.length;n++)i[c[n].x]=c[n];for(l in o)o[l].total!==null&&f.push(+l);f.sort(function(n,t){return n-t});t(f,function(t){var f=0,u;if(!y||i[t]&&i[t].y!==null)if(i[t])r.push(i[t]);else{for(n=a.index;n<=e.series.length;n++)if(u=o[t].points[n+","+t],u){f=u[1];break}s=v.translate(t);h=e.toPixels(f,!0);r.push({y:null,plotX:s,clientX:s,plotY:h,yBottom:h,onMouseOver:ti})}});r.length&&u.push(r)}else w.prototype.getSegments.call(this),u=this.segments;this.segments=u},getSegmentPath:function(t){var r=w.prototype.getSegmentPath.call(this,t),u=[].concat(r),i,f=this.options,s=r.length,o=this.yAxis.getThreshold(f.threshold),e;if(s===3&&u.push(it,r[1],r[2]),f.stacking&&!this.closedStacks)for(i=t.length-1;i>=0;i--)e=n(t[i].yBottom,o),i<t.length-1&&f.step&&u.push(t[i+1].plotX,e),u.push(t[i].plotX,e);else this.closeSegment(u,t,o);return this.areaPath=this.areaPath.concat(u),r},closeSegment:function(n,t,i){n.push(it,t[t.length-1].plotX,i,it,t[0].plotX,i)},drawGraph:function(){this.areaPath=[];w.prototype.drawGraph.apply(this);var i=this,u=this.areaPath,r=this.options,e=this.zones,f=[["area",this.color,r.fillColor]];t(e,function(n,t){f.push(["zoneArea"+t,n.color||i.color,n.fillColor||r.fillColor])});t(f,function(t){var f=t[0],e=i[f];e?e.animate({d:u}):i[f]=i.chart.renderer.path(u).attr({fill:n(t[2],ki(t[1]).setOpacity(n(r.fillOpacity,.75)).get()),zIndex:0}).add(i.group)})},drawLegendSymbol:hu.drawRectangle});a.area=ae;ut.spline=o(ou);ve=ri(w,{type:"spline",getPointSpline:function(n,t,i){var c=1.5,v=c+1,h=t.plotX,r=t.plotY,o=n[i-1],p=n[i+1],w,e,y,u,b;if(o&&p){var d=o.plotX,l=o.plotY,g=p.plotX,a=p.plotY,k;w=(c*h+d)/v;e=(c*r+l)/v;y=(c*h+g)/v;u=(c*r+a)/v;k=(u-e)*(y-h)/(y-w)+r-u;e+=k;u+=k;e>l&&e>r?(e=f(l,r),u=2*r-e):e<l&&e<r&&(e=s(l,r),u=2*r-e);u>a&&u>r?(u=f(a,r),e=2*r-u):u<a&&u<r&&(u=s(a,r),e=2*r-u);t.rightContX=y;t.rightContY=u}return i?(b=["C",o.rightContX||o.plotX,o.rightContY||o.plotY,w||h,e||r,h,r],o.rightContX=o.rightContY=null):b=[rt,h,r],b}});a.spline=ve;ut.areaspline=o(ut.area);vf=ae.prototype;vo=ri(ve,{type:"areaspline",closedStacks:!0,getSegmentPath:vf.getSegmentPath,closeSegment:vf.closeSegment,drawGraph:vf.drawGraph,drawLegendSymbol:hu.drawRectangle});a.areaspline=vo;ut.column=o(ou,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0});yf=ri(w,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){w.prototype.init.apply(this,arguments);var n=this,i=n.chart;i.hasRendered&&t(i.series,function(t){t.type===n.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var r=this,f=r.options,u=r.xAxis,v=r.yAxis,y=u.reversed,o,h={},c,e=0;f.grouping===!1?e=1:t(r.chart.series,function(n){var t=n.options,u=n.yAxis;n.type===r.type&&n.visible&&v.len===u.len&&v.pos===u.pos&&(t.stacking?(o=n.stackKey,h[o]===i&&(h[o]=e++),c=h[o]):t.grouping!==!1&&(c=e++),n.columnIndex=c)});var l=s(d(u.transA)*(u.ordinalSlope||f.pointRange||u.closestPointRange||u.tickInterval||1),u.len),p=l*f.groupPadding,b=l-2*p,a=b/e,w=s(f.maxPointWidth||u.len,n(f.pointWidth,a*(1-2*f.pointPadding))),k=(a-w)/2,g=(y?e-(r.columnIndex||0):r.columnIndex)||0,nt=k+(p+g*a-l/2)*(y?-1:1);return r.columnMetrics={width:w,offset:nt}},translate:function(){var i=this,o=i.chart,h=i.options,l=i.borderWidth=n(h.borderWidth,i.closestPointRange*i.xAxis.transA<2?0:1),r=i.yAxis,k=h.threshold,c=i.translatedThreshold=r.getThreshold(k),e=n(h.minPointLength,5),y=i.getColumnMetrics(),p=y.width,a=i.barW=f(p,1+2*l),g=i.pointXOffset=y.offset,b=-(l%2?.5:0),v=l%2?.5:1;o.inverted&&(c-=.5,o.renderer.isVML&&(v+=1));h.pointPadding&&(a=nr(a));w.prototype.translate.apply(i);t(i.points,function(t){var k=n(t.yBottom,c),tt=999+d(k),nt=s(f(-tt,t.plotY),r.len+tt),l=t.plotX+g,w=a,h=s(nt,k),it,rt,ut,ft,y=f(nt,k)-h;d(y)<e&&e&&(y=e,ft=!r.reversed&&!t.negative||r.reversed&&t.negative,h=u(d(h-c)>e?k-e:c-(ft?e:0)));t.barX=l;t.pointWidth=p;it=u(l+w)+b;l=u(l)+b;w=it-l;ut=d(h)<.5;rt=s(u(h+y)+v,9e4);h=u(h)+v;y=rt-h;ut&&(h-=1,y+=1);t.tooltipPos=o.inverted?[r.len+r.pos-o.plotLeft-nt,i.xAxis.len-l-w/2,y]:[l+w/2,nt+r.pos-o.plotTop,y];t.shapeType="rect";t.shapeArgs={x:l,y:h,width:w,height:y}})},getSymbol:ti,drawLegendSymbol:hu.drawRectangle,drawGraph:ti,drawPoints:function(){var n=this,e=this.chart,u=n.options,h=e.renderer,c=u.animationLimit||250,f,s;t(n.points,function(t){var v=t.plotY,l=t.graphic,a;v===i||isNaN(v)||t.y===null?l&&(t.graphic=l.destroy()):(f=t.shapeArgs,a=r(n.borderWidth)?{"stroke-width":n.borderWidth}:{},s=t.pointAttr[t.selected?sr:dt]||n.pointAttr[dt],l?(du(l),l.attr(a)[e.pointCount<c?"animate":"attr"](o(f))):t.graphic=l=h[t.shapeType](f).attr(a).attr(s).add(n.group).shadow(u.shadow,null,u.stacking&&!u.borderRadius))})},animate:function(n){var r=this,i=this.yAxis,o=r.options,e=this.chart.inverted,t={},u;kt&&(n?(t.scaleY=.001,u=s(i.pos+i.len,f(i.pos,i.toPixels(o.threshold))),e?t.translateX=u-i.len:t.translateY=u,r.group.attr(t)):(t.scaleY=1,t[e?"translateX":"translateY"]=i.pos,r.group.animate(t,r.options.animation),r.animate=null))},remove:function(){var n=this,i=n.chart;i.hasRendered&&t(i.series,function(t){t.type===n.type&&(t.isDirty=!0)});w.prototype.remove.apply(n,arguments)}});a.column=yf;ut.bar=o(ut.column);yo=ri(yf,{type:"bar",inverted:!0});a.bar=yo;ut.scatter=o(ou,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"><\/span> <span style="font-size: 10px;"> {series.name}<\/span><br/>',pointFormat:"x: <b>{point.x}<\/b><br/>y: <b>{point.y}<\/b><br/>"}});ye=ri(w,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&w.prototype.drawGraph.call(this)}});a.scatter=ye;ut.pie=o(ou,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.y===null?undefined:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});po=ri(gi,{init:function(){gi.prototype.init.apply(this,arguments);var t=this,i;return e(t,{visible:t.visible!==!1,name:n(t.name,"Slice")}),i=function(n){t.slice(n.type==="select")},c(t,"select",i),c(t,"unselect",i),t},setVisible:function(r,u){var f=this,e=f.series,o=e.chart,s=e.options.ignoreHiddenPoint;u=n(u,s);r!==f.visible&&(f.visible=f.options.visible=r=r===i?!f.visible:r,e.options.data[wr(f,e.data)]=f.options,t(["graphic","dataLabel","connector","shadowGroup"],function(n){f[n]&&f[n][r?"show":"hide"](!0)}),f.legendItem&&o.legend.colorizeItem(f,r),r||f.state!=="hover"||f.setState(""),s&&(e.isDirty=!0),u&&o.redraw())},slice:function(t,i,u){var f=this,e=f.series,s=e.chart,o;eu(u,s);i=n(i,!0);f.sliced=f.options.sliced=t=r(t)?t:!f.sliced;e.options.data[wr(f,e.data)]=f.options;o=t?f.slicedTranslation:{translateX:0,translateY:0};f.graphic.animate(o);f.shadowGroup&&f.shadowGroup.animate(o)},haloPath:function(n){var t=this.shapeArgs,i=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(i.plotLeft+t.x,i.plotTop+t.y,t.r+n,t.r+n,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}});pf={type:"pie",isCartesian:!1,pointClass:po,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(n){var i=this,u=i.points,r=i.startAngleRad;n||(t(u,function(n){var t=n.graphic,u=n.shapeArgs;t&&(t.attr({r:n.startR||i.center[3]/2,start:r,end:r}),t.animate({r:u.r,start:u.start,end:u.end},i.options.animation))}),i.animate=null)},setData:function(t,i,r,u){w.prototype.setData.call(this,t,!1,r,u);this.processData();this.generatePoints();n(i,!0)&&this.chart.redraw(r)},updateTotals:function(){for(var i=0,r=this.points,u=r.length,t,f=this.options.ignoreHiddenPoint,n=0;n<u;n++)t=r[n],i+=f&&!t.visible?0:t.y;for(this.total=i,n=0;n<u;n++)t=r[n],t.percentage=i>0&&(t.visible||!f)?t.y/i*100:0,t.total=i},generatePoints:function(){w.prototype.generatePoints.call(this);this.updateTotals()},translate:function(t){this.generatePoints();var f=this,y=0,l=1e3,e=f.options,p=e.slicedOffset,a=p+e.borderWidth,w,b,i,d=e.startAngle||0,k=f.startAngleRad=vi/180*(d-90),tt=f.endAngleRad=vi/180*(n(e.endAngle,d+360)-90),g=tt-k,nt=f.points,h,c,o=e.dataLabels.distance,it=e.ignoreHiddenPoint,v,rt=nt.length,r;for(t||(f.center=t=f.getCenter()),f.getX=function(n,r){return i=ct.asin(s((n-t[1])/(t[2]/2+o),1)),t[0]+(r?-1:1)*vt(i)*(t[2]/2+o)},v=0;v<rt;v++)r=nt[v],w=k+y*g,(!it||r.visible)&&(y+=r.percentage/100),b=k+y*g,r.shapeType="arc",r.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:u(w*l)/l,end:u(b*l)/l},i=(b+w)/2,i>1.5*vi?i-=2*vi:i<-vi/2&&(i+=2*vi),r.slicedTranslation={translateX:u(vt(i)*p),translateY:u(bt(i)*p)},h=vt(i)*t[2]/2,c=bt(i)*t[2]/2,r.tooltipPos=[t[0]+h*.7,t[1]+c*.7],r.half=i<-vi/2||i>vi/2?1:0,r.angle=i,a=s(a,o/2),r.labelPos=[t[0]+h+vt(i)*o,t[1]+c+bt(i)*o,t[0]+h+vt(i)*a,t[1]+c+bt(i)*a,t[0]+h,t[1]+c,o<0?"center":r.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var n=this,c=n.chart,f=c.renderer,r,u,o=n.options.shadow,i,s,h;o&&!n.shadowGroup&&(n.shadowGroup=f.g("shadow").add(n.group));t(n.points,function(t){t.y!==null&&(u=t.graphic,s=t.shapeArgs,i=t.shadowGroup,o&&!i&&(i=t.shadowGroup=f.g("shadow").add(n.shadowGroup)),r=t.sliced?t.slicedTranslation:{translateX:0,translateY:0},i&&i.attr(r),u?u.animate(e(s,r)):(h={"stroke-linejoin":"round"},t.visible||(h.visibility="hidden"),t.graphic=u=f[t.shapeType](s).setRadialReference(n.center).attr(t.pointAttr[t.selected?sr:dt]).attr(h).attr(r).add(n.group).shadow(o,i)))})},searchPoint:ti,sortByAngle:function(n,t){n.sort(function(n,i){return n.angle!==undefined&&(i.angle-n.angle)*t})},drawLegendSymbol:hu.drawRectangle,getCenter:co.getCenter,getSymbol:ti};pf=ri(w,pf);a.pie=pf;w.prototype.drawDataLabels=function(){var f=this,l=f.options,y=l.cursor,u=l.dataLabels,b=f.points,a,v,p=f.hasRendered||0,s,h,w=f.chart.renderer;(u.enabled||f._hasPointLabels)&&(f.dlProcessOptions&&f.dlProcessOptions(u),h=f.plotGroup("dataLabelsGroup","data-labels",u.defer?ci:oi,u.zIndex||6),n(u.defer,!0)&&(h.attr({opacity:+p}),p||c(f,"afterAnimate",function(){f.visible&&h.show();h[l.animation?"animate":"attr"]({opacity:1},{duration:200})})),v=u,t(b,function(t){var k,c=t.dataLabel,d,p,g,nt,it=t.connector,rt=!0,b,tt={};if(a=t.dlOptions||t.options&&t.options.dataLabels,k=n(a&&a.enabled,v.enabled),c&&!k)t.dataLabel=c.destroy();else if(k){if(u=o(v,a),b=u.style,nt=u.rotation,d=t.getLabelConfig(),s=u.format?yr(u.format,d):u.formatter.call(d,u),b.color=n(u.color,b.color,f.color,"black"),c)r(s)?(c.attr({text:s}),rt=!1):(t.dataLabel=c=c.destroy(),it&&(t.connector=it.destroy()));else if(r(s)){p={fill:u.backgroundColor,stroke:u.borderColor,"stroke-width":u.borderWidth,r:u.borderRadius||0,rotation:nt,padding:u.padding,zIndex:1};b.color==="contrast"&&(tt.color=u.inside||u.distance<0||!!l.stacking?w.getContrast(t.color||f.color):"#000000");y&&(tt.cursor=y);for(g in p)p[g]===i&&delete p[g];c=t.dataLabel=w[nt?"text":"label"](s,0,-999,u.shape,null,null,u.useHTML).attr(p).css(e(b,tt)).add(h).shadow(u.shadow)}c&&f.alignDataLabel(t,c,u,null,rt)}}))};w.prototype.alignDataLabel=function(t,i,r,f,o){var s=this.chart,c=s.inverted,a=n(t.plotX,-999),v=n(t.plotY,-999),l=i.getBBox(),w=s.renderer.fontMetrics(r.style.fontSize).b,p,y=this.visible&&(t.series.forceDL||s.isInsidePlot(a,u(v),c)||f&&s.isInsidePlot(a,c?f.x+1:f.y+f.height-1,c)),h;y&&(f=e({x:c?s.plotWidth-v:a,y:u(c?s.plotHeight-a:v),width:0,height:0},f),e(r,{width:l.width,height:l.height}),r.rotation?(p=s.renderer.rotCorr(w,r.rotation),i[o?"attr":"animate"]({x:f.x+r.x+f.width/2+p.x,y:f.y+r.y+f.height/2}).attr({align:r.align})):(i.align(r,null,f),h=i.alignAttr,n(r.overflow,"justify")==="justify"?this.justifyDataLabel(i,r,h,l,f,o):n(r.crop,!0)&&(y=s.isInsidePlot(h.x,h.y)&&s.isInsidePlot(h.x+l.width,h.y+l.height)),r.shape&&i.attr({anchorX:t.plotX,anchorY:t.plotY})));y||(i.attr({y:-999}),i.placed=!1)};w.prototype.justifyDataLabel=function(n,t,i,r,u,f){var s=this.chart,c=t.align,l=t.verticalAlign,e,o,h=n.box?0:n.padding||0;e=i.x+h;e<0&&(c==="right"?t.align="left":t.x=-e,o=!0);e=i.x+r.width-h;e>s.plotWidth&&(c==="left"?t.align="right":t.x=s.plotWidth-e,o=!0);e=i.y+h;e<0&&(l==="bottom"?t.verticalAlign="top":t.y=-e,o=!0);e=i.y+r.height-h;e>s.plotHeight&&(l==="top"?t.verticalAlign="bottom":t.y=s.plotHeight-e,o=!0);o&&(n.placed=!f,n.align(t,null,u))};a.pie&&(a.pie.prototype.drawDataLabels=function(){var l=this,oi=l.data,tt,at=l.chart,p=l.options.dataLabels,ut=n(p.connectorPadding,10),ti=n(p.connectorWidth,1),ii=at.plotWidth,ri=at.plotHeight,nt,pt,si=n(p.softConnector,!0),k=p.distance,wt=l.center,st=wt[2]/2,vt=wt[1],hi=k>0,h,ht,r,g,ui=[[],[]],a,e,ct,bt,ft,i,y=[0,0,0,0],fi=function(n,t){return t.y-n.y},dt,gt,lt,ni,ot;if(l.visible&&(p.enabled||l._hasPointLabels)){for(w.prototype.drawDataLabels.apply(l),t(oi,function(n){n.dataLabel&&n.visible&&ui[n.half].push(n)}),ft=2;ft--;){var v=[],et,kt=[],c=ui[ft],yt,ei,b=c.length,o;if(b){for(l.sortByAngle(c,ft-.5),i=g=0;!g&&c[i];)g=c[i]&&c[i].dataLabel&&(c[i].dataLabel.getBBox().height||21),i++;if(k>0){for(ei=s(vt+st+k,at.plotHeight),yt=f(0,vt-st-k);yt<=ei;yt+=g)v.push(yt);if(et=v.length,b>et){for(bt=[].concat(c),bt.sort(fi),i=b;i--;)bt[i].rank=i;for(i=b;i--;)c[i].rank>=et&&c.splice(i,1);b=c.length}for(i=0;i<b;i++){for(tt=c[i],r=tt.labelPos,dt=9999,lt=0;lt<et;lt++)gt=d(v[lt]-r[1]),gt<dt&&(dt=gt,o=lt);if(o<i&&v[i]!==null)o=i;else if(et<b-i+o&&v[i]!==null)for(o=et-b+i;v[o]===null;)o++;else while(v[o]===null)o++;kt.push({i:o,y:v[o]});v[o]=null}kt.sort(fi)}for(i=0;i<b;i++)tt=c[i],r=tt.labelPos,h=tt.dataLabel,ct=tt.visible===!1?ci:"inherit",ot=r[1],k>0?(ni=kt.pop(),o=ni.i,e=ni.y,(ot>e&&v[o+1]!==null||ot<e&&v[o-1]!==null)&&(e=s(f(0,ot),at.plotHeight))):e=ot,a=p.justify?wt[0]+(ft?-1:1)*(st+k):l.getX(e===vt-st-k||e===vt+st+k?ot:e,ft),h._attr={visibility:ct,align:r[6]},h._pos={x:a+p.x+({left:ut,right:-ut}[r[6]]||0),y:e+p.y-10},h.connX=a,h.connY=e,this.options.size===null&&(ht=h.width,a-ht<ut?y[3]=f(u(ht-a+ut),y[3]):a+ht>ii-ut&&(y[1]=f(u(a+ht-ii+ut),y[1])),e-g/2<0?y[0]=f(u(-e+g/2),y[0]):e+g/2>ri&&(y[2]=f(u(e+g/2-ri),y[2])))}}(hr(y)===0||this.verifyDataLabelOverflow(y))&&(this.placeDataLabels(),hi&&ti&&t(this.points,function(n){nt=n.connector;r=n.labelPos;h=n.dataLabel;h&&h._pos&&n.visible?(ct=h._attr.visibility,a=h.connX,e=h.connY,pt=si?[rt,a+(r[6]==="left"?5:-5),e,"C",a,e,2*r[2]-r[4],2*r[3]-r[5],r[2],r[3],it,r[4],r[5]]:[rt,a+(r[6]==="left"?5:-5),e,it,r[2],r[3],it,r[4],r[5]],nt?(nt.animate({d:pt}),nt.attr("visibility",ct)):n.connector=nt=l.chart.renderer.path(pt).attr({"stroke-width":ti,stroke:p.connectorColor||n.color||"#606060",visibility:ct}).add(l.dataLabelsGroup)):nt&&(n.connector=nt.destroy())}))}},a.pie.prototype.placeDataLabels=function(){t(this.points,function(n){var t=n.dataLabel,i;t&&n.visible&&(i=t._pos,i?(t.attr(t._attr),t[t.moved?"animate":"attr"](i),t.moved=!0):t&&t.attr({y:-999}))})},a.pie.prototype.alignDataLabel=ti,a.pie.prototype.verifyDataLabelOverflow=function(n){var i=this.center,e=this.options,o=e.center,u=e.minSize||80,r=u,h;return o[0]!==null?r=f(i[2]-f(n[1],n[3]),u):(r=f(i[2]-n[1]-n[3],u),i[0]+=(n[3]-n[1])/2),o[1]!==null?r=f(s(r,i[2]-f(n[0],n[2])),u):(r=f(s(r,i[2]-n[0]-n[2]),u),i[1]+=(n[0]-n[2])/2),r<i[2]?(i[2]=r,i[3]=eo(e.innerSize||0,r),this.translate(i),t(this.points,function(n){n.dataLabel&&(n.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):h=!0,h});a.column&&(a.column.prototype.alignDataLabel=function(t,i,r,u,f){var e=this.chart.inverted,h=t.series,l=t.dlBox||t.shapeArgs,s=n(t.below,t.plotY>n(this.translatedThreshold,h.yAxis.len)),c=n(r.inside,!!this.options.stacking);l&&(u=o(l),e&&(u={x:h.yAxis.len-u.y-u.height,y:h.xAxis.len-u.x-u.width,width:u.height,height:u.width}),c||(e?(u.x+=s?0:u.width,u.width=0):(u.y+=s?u.height:0,u.height=0)));r.align=n(r.align,!e||c?"center":s?"right":"left");r.verticalAlign=n(r.verticalAlign,e||c?"middle":s?"top":"bottom");w.prototype.alignDataLabel.call(this,t,i,r,u,f)}),function(n){var i=n.Chart,t=n.each,r=n.pick,u=HighchartsAdapter.addEvent;i.prototype.callbacks.push(function(n){function i(){var i=[];t(n.series,function(n){var u=n.options.dataLabels,f=n.dataLabelCollections||["dataLabel"];(u.enabled||n._hasPointLabels)&&!u.allowOverlap&&n.visible&&t(f,function(u){t(n.points,function(n){n[u]&&(n[u].labelrank=r(n.labelrank,n.shapeArgs&&n.shapeArgs.height),i.push(n[u]))})})});n.hideOverlappingLabels(i)}i();u(n,"redraw",i)});i.prototype.hideOverlappingLabels=function(n){for(var s=n.length,f,o,i,u,l,h,c,e,a=function(n,t,i,r,u,f,e,o){return!(u>n+i||u+e<n||f>t+r||f+o<t)},r=0;r<s;r++)f=n[r],f&&(f.oldOpacity=f.opacity,f.newOpacity=1);for(n.sort(function(n,t){return(t.labelrank||0)-(n.labelrank||0)}),r=0;r<s;r++)for(i=n[r],o=r+1;o<s;++o)u=n[o],i&&u&&i.placed&&u.placed&&i.newOpacity!==0&&u.newOpacity!==0&&(h=i.alignAttr,c=u.alignAttr,e=2*(i.box?0:i.padding),l=a(h.x,h.y,i.width-e,i.height-e,c.x,c.y,u.width-e,u.height-e),l&&((i.labelrank<u.labelrank?i:u).newOpacity=0));t(n,function(n){var i,t;n&&(t=n.newOpacity,n.oldOpacity!==t&&n.placed&&(t?n.show(!0):i=function(){n.hide()},n.alignAttr.opacity=t,n[n.isOld?"animate":"attr"](n.alignAttr,null,i)),n.isOld=!0)})}}(h);cu=h.TrackerMixin={drawTrackerPoint:function(){var n=this,r=n.chart,e=r.pointer,u=n.options.cursor,o=u&&{cursor:u},f=function(n){for(var u=n.target,t;u&&!t;)t=u.point,u=u.parentNode;if(t!==i&&t!==r.hoverPoint)t.onMouseOver(n)};t(n.points,function(n){n.graphic&&(n.graphic.element.point=n);n.dataLabel&&(n.dataLabel.element.point=n)});n._hasTracking||(t(n.trackerGroups,function(t){if(n[t]&&(n[t].addClass(st+"tracker").on("mouseover",f).on("mouseout",function(n){e.onTrackerMouseOut(n)}).css(o),fu))n[t].on("touchstart",f)}),n._hasTracking=!0)},drawTrackerGraph:function(){var i=this,s=i.options,e=s.trackByArea,r=[].concat(e?i.areaPath:i.graphPath),h=r.length,o=i.chart,p=o.pointer,w=o.renderer,u=o.options.tooltip.snap,c=i.tracker,l=s.cursor,b=l&&{cursor:l},a=i.singlePoints,f,n,v=function(){o.hoverSeries!==i&&i.onMouseOver()},y="rgba(192,192,192,"+(kt?.0001:.002)+")";if(h&&!e)for(n=h+1;n--;)r[n]===rt&&r.splice(n+1,0,r[n+1]-u,r[n+2],it),(n&&r[n]===rt||n===h)&&r.splice(n,0,it,r[n-2]+u,r[n-1]);for(n=0;n<a.length;n++)f=a[n],r.push(rt,f.plotX-u,f.plotY,it,f.plotX+u,f.plotY);c?c.attr({d:r}):(i.tracker=w.path(r).attr({"stroke-linejoin":"round",visibility:i.visible?oi:ci,stroke:y,fill:e?y:at,"stroke-width":s.lineWidth+(e?0:2*u),zIndex:2}).add(i.group),t([i.tracker,i.markerGroup],function(n){if(n.addClass(st+"tracker").on("mouseover",v).on("mouseout",function(n){p.onTrackerMouseOut(n)}).css(b),fu)n.on("touchstart",v)}))}};a.column&&(yf.prototype.drawTracker=cu.drawTrackerPoint);a.pie&&(a.pie.prototype.drawTracker=cu.drawTrackerPoint);a.scatter&&(ye.prototype.drawTracker=cu.drawTrackerPoint);e(nf.prototype,{setItemEvents:function(n,t,i,r,u){var f=this;(i?t:n.legendGroup).on("mouseover",function(){n.setState(yi);t.css(f.options.itemHoverStyle)}).on("mouseout",function(){t.css(n.visible?r:u);n.setState()}).on("click",function(t){var i="legendItemClick",r=function(){n.setVisible()};t={browserEvent:t};n.firePointEvent?n.firePointEvent(i,t,r):g(n,i,t,r)})},createCheckboxForItem:function(n){var t=this;n.checkbox=pt("input",{type:"checkbox",checked:n.selected,defaultChecked:n.selected},t.options.itemCheckboxStyle,t.chart.container);c(n.checkbox,"click",function(t){var i=t.target;g(n.series||n,"checkboxClick",{checked:i.checked,item:n},function(){n.select()})})}});nt.legend.itemStyle.cursor="pointer";e(ur.prototype,{showResetZoom:function(){var t=this,i=nt.lang,n=t.options.chart.resetZoomButton,r=n.theme,u=r.states,f=n.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=t.renderer.button(i.resetZoom,null,null,function(){t.zoomOut()},r,u&&u.hover).attr({align:n.position.align,title:i.resetZoomTitle}).add().align(n.position,!1,f)},zoomOut:function(){var n=this;g(n,"selection",{resetSelection:!0},function(){n.zoom()})},zoom:function(i){var r=this,f,o=r.pointer,e=!1,u;!i||i.resetSelection?t(r.axes,function(n){f=n.zoom()}):t(i.xAxis.concat(i.yAxis),function(n){var t=n.axis,i=t.isXAxis;(o[i?"zoomX":"zoomY"]||o[i?"pinchX":"pinchY"])&&(f=t.zoom(n.min,n.max),t.displayBtn&&(e=!0))});u=r.resetZoomButton;e&&!u?r.showResetZoom():!e&&ii(u)&&(r.resetZoomButton=u.destroy());f&&r.redraw(n(r.options.chart.animation,i&&i.animation,r.pointCount<100))},pan:function(n,i){var r=this,u=r.hoverPoints,e;u&&t(u,function(n){n.setState()});t(i==="xy"?[1,0]:[1],function(t){var u=n[t?"chartX":"chartY"],i=r[t?"xAxis":"yAxis"][0],h=r[t?"mouseDownX":"mouseDownY"],c=(i.pointRange||0)/2,o=i.getExtremes(),l=i.toValue(h-u,!0)+c,a=i.toValue(h+r[t?"plotWidth":"plotHeight"]-u,!0)-c,v=h>u;i.series.length&&(v||l>s(o.dataMin,o.min))&&(!v||a<f(o.dataMax,o.max))&&(i.setExtremes(l,a,!1,!1,{trigger:"pan"}),e=!0);r[t?"mouseDownX":"mouseDownY"]=u});e&&r.redraw(!1);k(r.container,{cursor:"move"})}});e(gi.prototype,{select:function(i,r){var u=this,f=u.series,e=f.chart;i=n(i,!u.selected);u.firePointEvent(i?"select":"unselect",{accumulate:r},function(){u.selected=u.options.selected=i;f.options.data[wr(u,f.data)]=u.options;u.setState(i&&sr);r||t(e.getSelectedPoints(),function(n){n.selected&&n!==u&&(n.selected=n.options.selected=!1,f.options.data[wr(n,f.data)]=n.options,n.setState(dt),n.firePointEvent("unselect"))})})},onMouseOver:function(n,t){var i=this,r=i.series,u=r.chart,f=u.tooltip,e=u.hoverPoint;u.hoverSeries!==r&&r.onMouseOver();e&&e!==i&&e.onMouseOut();i.series&&(i.firePointEvent("mouseOver"),f&&(!f.shared||r.noSharedTooltip)&&f.refresh(i,n),i.setState(yi),t||(u.hoverPoint=i))},onMouseOut:function(){var n=this.series.chart,t=n.hoverPoints;this.firePointEvent("mouseOut");t&&wr(this,t)!==-1||(this.setState(),n.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var n=this,r=o(n.series.options.point,n.options),t=r.events,i;n.events=t;for(i in t)c(n,i,t[i]);this.hasImportedEvents=!0}},setState:function(n,t){var i=this,y=i.plotX,p=i.plotY,f=i.series,w=f.options.states,h=ut[f.type].marker&&f.options.marker,d=h&&!h.enabled,c=h&&h.states[n],g=c&&c.enabled===!1,r=f.stateMarkerGraphic,b=i.marker||{},l=f.chart,u,a=f.halo,s,v,k;(n=n||dt,k=i.pointAttr[n]||f.pointAttr[n],n===i.state&&!t||i.selected&&n!==sr||w[n]&&w[n].enabled===!1||n&&(g||d&&c.enabled===!1)||n&&b.states&&b.states[n]&&b.states[n].enabled===!1)||(i.graphic?(u=h&&i.graphic.symbolName&&k.r,i.graphic.attr(o(k,u?{x:y-u,y:p-u,width:2*u,height:2*u}:{})),r&&r.hide()):(n&&c&&(u=c.radius,v=b.symbol||f.symbol,r&&r.currentSymbol!==v&&(r=r.destroy()),r?r[t?"animate":"attr"]({x:y-u,y:p-u}):v&&(f.stateMarkerGraphic=r=l.renderer.symbol(v,y-u,p-u,2*u,2*u).attr(k).add(f.markerGroup),r.currentSymbol=v)),r&&(r[n&&l.isInsidePlot(y,p,l.inverted)?"show":"hide"](),r.element.point=i)),s=w[n]&&w[n].halo,s&&s.size?(a||(f.halo=a=l.renderer.path().add(l.seriesGroup)),a.attr(e({fill:ki(i.color||f.color).setOpacity(s.opacity).get()},s.attributes))[t?"animate":"attr"]({d:i.haloPath(s.size)})):a&&a.attr({d:[]}),i.state=n)},haloPath:function(n){var t=this.series,i=t.chart,r=t.getPlotBox(),u=i.inverted;return i.renderer.symbols.circle(r.translateX+(u?t.yAxis.len-this.plotY:this.plotX)-n,r.translateY+(u?t.xAxis.len-this.plotX:this.plotY)-n,n*2,n*2)}});e(w.prototype,{onMouseOver:function(){var n=this,i=n.chart,t=i.hoverSeries;t&&t!==n&&t.onMouseOut();n.options.events.mouseOver&&g(n,"mouseOver");n.setState(yi);i.hoverSeries=n},onMouseOut:function(){var n=this,r=n.options,t=n.chart,i=t.tooltip,u=t.hoverPoint;t.hoverSeries=null;u&&u.onMouseOut();n&&r.events.mouseOut&&g(n,"mouseOut");i&&!r.stickyTracking&&(!i.shared||n.noSharedTooltip)&&i.hide();n.setState()},setState:function(n){var t=this,o=t.options,u=t.graph,i=o.states,f=o.lineWidth,e,r=0;if(n=n||dt,t.state!==n){if(t.state=n,i[n]&&i[n].enabled===!1)return;if(n&&(f=i[n].lineWidth||f+(i[n].lineWidthPlus||0)),u&&!u.dashstyle)for(e={"stroke-width":f},u.attr(e);t["zoneGraph"+r];)t["zoneGraph"+r].attr(e),r=r+1}},setVisible:function(n,r){var u=this,f=u.chart,o=u.legendItem,e,s=f.options.chart.ignoreHiddenSeries,h=u.visible;u.visible=n=u.userOptions.visible=n===i?!h:n;e=n?"show":"hide";t(["group","dataLabelsGroup","markerGroup","tracker"],function(n){u[n]&&u[n][e]()});(f.hoverSeries===u||(f.hoverPoint&&f.hoverPoint.series)===u)&&u.onMouseOut();o&&f.legend.colorizeItem(u,n);u.isDirty=!0;u.options.stacking&&t(f.series,function(n){n.options.stacking&&n.visible&&(n.isDirty=!0)});t(u.linkedSeries,function(t){t.setVisible(n,!1)});s&&(f.isDirtyBox=!0);r!==!1&&f.redraw();g(u,e)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(n){var t=this;t.selected=n=n===i?!t.selected:n;t.checkbox&&(t.checkbox.checked=n);g(t,n?"select":"unselect")},drawTracker:cu.drawTrackerGraph});tt(w.prototype,"init",function(n){var i=this,t;n.apply(this,Array.prototype.slice.call(arguments,1));t=i.xAxis;t&&t.options.ordinal&&c(i,"updatedData",function(){delete t.ordinalIndex})});tt(p.prototype,"getTimeTicks",function(n,t,u,f,e,o,s,h){var v=0,l=0,y,k={},ht,g,it,rt,c=[],ut=-Number.MAX_VALUE,ft=this.options.tickPixelInterval;if(!this.options.ordinal&&!this.options.breaks||!o||o.length<3||u===i)return n.call(this,t,u,f,e);for(it=o.length;l<it;l++){if(rt=l&&o[l-1]>f,o[l]<u&&(v=l),l===it-1||o[l+1]-o[l]>s*5||rt){if(o[l]>ut){for(y=n.call(this,t,o[v],o[l],e);y.length&&y[0]<=ut;)y.shift();y.length&&(ut=y[y.length-1]);c=c.concat(y)}v=l+1}if(rt)break}if(g=y.info,h&&g.unitRange<=b.hour){for(l=c.length-1,v=1;v<l;v++)ni("%d",c[v])!==ni("%d",c[v-1])&&(k[c[v]]="day",ht=!0);ht&&(k[c[0]]="day");g.higherRanks=k}if(c.info=g,h&&r(ft)){for(var nt=c.length,a=nt,et,w,ct=[],p,d,st,tt=[];a--;)w=this.translate(c[a]),p&&(tt[a]=p-w),ct[a]=p=w;for(tt.sort(),d=tt[ot(tt.length/2)],d<ft*.6&&(d=null),a=c[nt-1]>f?nt-1:nt,p=undefined;a--;)w=ct[a],st=p-w,p&&st<ft*.8&&(d===null||st<d*.8)?(k[c[a]]&&!k[c[a+1]]?(et=a+1,p=w):et=a,c.splice(et,1)):p=w}return c});e(p.prototype,{beforeSetTickPositions:function(){var r=this,u,n=[],e=!1,o,y=r.getExtremes(),h=y.min,l=y.max,a,p,w,v=r.isXAxis&&!!r.options.breaks,b=r.options.ordinal,c;if(b||v){if(t(r.series,function(t,i){if(t.visible!==!1&&(t.takeOrdinalPosition!==!1||v)&&(n=n.concat(t.processedXData),u=n.length,n.sort(function(n,t){return n-t}),u))for(i=u-1;i--;)n[i]===n[i+1]&&n.splice(i,1)}),u=n.length,u>2){for(o=n[1]-n[0],c=u-1;c--&&!e;)n[c+1]-n[c]!==o&&(e=!0);!r.options.keepOrdinalPadding&&(n[0]-h>o||l-n[n.length-1]>o)&&(e=!0)}e?(r.ordinalPositions=n,a=r.val2lin(f(h,n[0]),!0),p=f(r.val2lin(s(l,n[n.length-1]),!0),1),r.ordinalSlope=w=(l-h)/(p-a),r.ordinalOffset=h-a*w):r.ordinalPositions=r.ordinalSlope=r.ordinalOffset=i}r.doPostTranslate=b&&e||v;r.groupIntervalFactor=null},val2lin:function(n,t){var f=this,r=f.ordinalPositions,e,i,o,u;if(r){for(e=r.length,i=e;i--;)if(r[i]===n){u=i;break}for(i=e-1;i--;)if(n>r[i]||i===0){o=(n-r[i])/(r[i+1]-r[i]);u=i+o;break}return t?u:f.ordinalSlope*(u||0)+f.ordinalOffset}return n},lin2val:function(n,t){var o=this,u=o.ordinalPositions;if(u){var s=o.ordinalSlope,h=o.ordinalOffset,r=u.length-1,e,c,f;if(t)n<0?n=u[0]:n>r?n=u[r]:(r=ot(n),f=n-r);else while(r--)if(e=s*r+h,n>=e){c=s*(r+1)+h;f=(n-e)/(c-e);break}return f!==i&&u[r]!==i?u[r]+(f?f*(u[r+1]-u[r]):0):n}return n},getExtendedPositions:function(){var n=this,s=n.chart,i=n.series[0].currentDataGrouping,r=n.ordinalIndex,e=i?i.count+i.unitName:"raw",o=n.getExtremes(),u,f;return r||(r=n.ordinalIndex={}),r[e]||(u={series:[],getExtremes:function(){return{min:o.dataMin,max:o.dataMax}},options:{ordinal:!0},val2lin:p.prototype.val2lin},t(n.series,function(n){f={xAxis:u,xData:n.xData,chart:s,destroyGroupedData:ti};f.options={dataGrouping:i?{enabled:!0,forced:!0,approximation:"open",units:[[i.unitName,[i.count]]]}:{enabled:!1}};n.processData.apply(f);u.series.push(f)}),n.beforeSetTickPositions.apply(u),r[e]=u.ordinalPositions),r[e]},getGroupIntervalFactor:function(n,t,i){var r=0,u=i.processedXData,e=u.length,o=[],c,h=this.groupIntervalFactor;if(!h){for(;r<e-1;r++)o[r]=u[r+1]-u[r];o.sort(function(n,t){return n-t});c=o[ot(e/2)];n=f(n,u[0]);t=s(t,u[e-1]);this.groupIntervalFactor=h=e*c/(t-n)}return h},postProcessTickInterval:function(n){var t=this.ordinalSlope;return t?this.options.breaks?this.closestPointRange:n/(t/this.closestPointRange):n}});tt(ur.prototype,"pan",function(n,i){var u=this,r=u.xAxis[0],g=i.chartX,y=!1;if(r.options.ordinal&&r.series.length){var rt=u.mouseDownX,c=r.getExtremes(),p=c.dataMax,w=c.min,b=c.max,e,nt=u.hoverPoints,ut=r.closestPointRange,ft=r.translationSlope*(r.ordinalSlope||ut),l=(rt-g)/ft,o={ordinalPositions:r.getExtendedPositions()},a,v,tt=r.lin2val,it=r.val2lin,h;o.ordinalPositions?d(l)>1&&(nt&&t(nt,function(n){n.setState()}),l<0?(v=o,h=r.ordinalPositions?r:o):(v=r.ordinalPositions?r:o,h=o),a=h.ordinalPositions,p>a[a.length-1]&&a.push(p),u.fixedRange=b-w,e=r.toFixedRange(null,null,tt.apply(v,[it.apply(v,[w,!0])+l,!0]),tt.apply(h,[it.apply(h,[b,!0])+l,!0])),e.min>=s(c.dataMin,w)&&e.max<=f(p,b)&&r.setExtremes(e.min,e.max,!0,!1,{trigger:"pan"}),u.mouseDownX=g,k(u.container,{cursor:"move"})):y=!0}else y=!0;y&&n.apply(this,Array.prototype.slice.call(arguments,1))});tt(w.prototype,"getSegments",function(n){var r=this,i,f=r.options.gapSize,u=r.xAxis;n.apply(this,Array.prototype.slice.call(arguments,1));f&&(i=r.segments,t(i,function(n,t){for(var r=n.length-1;r--;)if(n[r].x<u.min&&n[r+1].x>u.max){i.length=0;break}else n[r+1].x-n[r].x>u.closestPointRange*f&&i.splice(t+1,0,n.splice(r+1,n.length-r))}))}),function(n){"use strict";function o(){return Array.prototype.slice.call(arguments,1)}var r=n.pick,i=n.wrap,f=n.extend,u=HighchartsAdapter.fireEvent,t=n.Axis,e=n.Series;f(t.prototype,{isInBreak:function(n,t){var i=n.repeat||Infinity,r=n.from,f=n.to-n.from,u=t>=r?(t-r)%i:i-(r-t)%i;return n.inclusive?u<=f:u<f&&u!==0},isInAnyBreak:function(n,t){var i=this.options.breaks,u=i&&i.length,f,e,o;if(u){while(u--)this.isInBreak(i[u],n)&&(f=!0,e||(e=r(i[u].showPoints,this.isXAxis?!1:!0)));o=f&&t?f&&!e:f}return o}});i(t.prototype,"setTickPositions",function(n){if(n.apply(this,Array.prototype.slice.call(arguments,1)),this.options.breaks){var u=this,i=this.tickPositions,r=this.tickPositions.info,f=[],t;if(r&&r.totalRange>=u.closestPointRange)return;for(t=0;t<i.length;t++)u.isInAnyBreak(i[t])||f.push(i[t]);this.tickPositions=f;this.tickPositions.info=r}});i(t.prototype,"init",function(n,i,r){if(r.breaks&&r.breaks.length&&(r.ordinal=!1),n.call(this,i,r),this.options.breaks){var f=this;f.doPostTranslate=!0;this.val2lin=function(n){for(var r=n,t,i=0;i<f.breakArray.length;i++)if(t=f.breakArray[i],t.to<=n)r-=t.len;else if(t.from>=n)break;else if(f.isInBreak(t,n)){r-=n-t.from;break}return r};this.lin2val=function(n){for(var t=n,i,r=0;r<f.breakArray.length;r++)if(i=f.breakArray[r],i.from>=t)break;else i.to<t?t+=i.len:f.isInBreak(i,t)&&(t+=i.len);return t};this.setExtremes=function(n,i,r,u,f){while(this.isInAnyBreak(n))n-=this.closestPointRange;while(this.isInAnyBreak(i))i-=this.closestPointRange;t.prototype.setExtremes.call(this,n,i,r,u,f)};this.setAxisTranslation=function(n){t.prototype.setAxisTranslation.call(this,n);var a=f.options.breaks,c=[],y=[],p=0,v,e,i,o=f.userMin||f.min,s=f.userMax||f.max,r,h,l;for(h in a)i=a[h],e=i.repeat||Infinity,f.isInBreak(i,o)&&(o+=i.to%e-o%e),f.isInBreak(i,s)&&(s-=s%e-i.from%e);for(h in a){for(i=a[h],r=i.from,e=i.repeat||Infinity;r-e>o;)r-=e;while(r<o)r+=e;for(l=r;l<s;l+=e)c.push({value:l,move:"in"}),c.push({value:l+(i.to-i.from),move:"out",size:i.breakSize})}c.sort(function(n,t){return n.value===t.value?(n.move==="in"?0:1)-(t.move==="in"?0:1):n.value-t.value});v=0;r=o;for(h in c)i=c[h],v+=i.move==="in"?1:-1,v===1&&i.move==="in"&&(r=i.value),v===0&&(y.push({from:r,to:i.value,len:i.value-r-(i.size||0)}),p+=i.value-r-(i.size||0));f.breakArray=y;u(f,"afterBreaks");f.transA*=(s-f.min)/(s-o-p);f.min=o;f.max=s}}});i(e.prototype,"generatePoints",function(n){n.apply(this,o(arguments));var i=this,u=i.xAxis,f=i.yAxis,e=i.points,r,t=e.length,h=i.options.connectNulls,s;if(u&&f&&(u.options.breaks||f.options.breaks))while(t--)r=e[t],s=r.y===null&&h===!1,!s&&(u.isInAnyBreak(r.x,!0)||f.isInAnyBreak(r.y,!0))&&(e.splice(t,1),this.data[t]&&this.data[t].destroyElements())});i(n.seriesTypes.column.prototype,"drawPoints",function(n){n.apply(this);for(var l=this,a=l.points,c=l.yAxis,v=c.breakArray||[],e=r(this.options.threshold,c.min),f,o,t,h,i,s=0;s<a.length;s++)for(o=a[s],i=o.stackY||o.y,h=0;h<v.length;h++)t=v[h],f=!1,e<t.from&&i>t.to||e>t.from&&i<t.from?f="pointBreak":(e<t.from&&i>t.from&&i<t.to||e>t.from&&i>t.to&&i<t.from)&&(f="pointInBreak"),f&&u(c,f,{point:o,brk:t})})}(h);var ys="dataGrouping",wt=w.prototype,wo=af.prototype,ps=wt.processData,ws=wt.generatePoints,bs=wt.destroy,ks=wo.tooltipFooterHeaderFormatter,fr="number",ds={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},bo={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},ko=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],dr={sum:function(n){var t=n.length,i;if(!t&&n.hasNulls)i=null;else if(t)for(i=0;t--;)i+=n[t];return i},average:function(n){var i=n.length,t=dr.sum(n);return typeof t===fr&&i&&(t=t/i),t},open:function(n){return n.length?n[0]:n.hasNulls?null:i},high:function(n){return n.length?hr(n):n.hasNulls?null:i},low:function(n){return n.length?ru(n):n.hasNulls?null:i},close:function(n){return n.length?n[n.length-1]:n.hasNulls?null:i},ohlc:function(n,t,i,r){return n=dr.open(n),t=dr.high(t),i=dr.low(i),r=dr.close(r),typeof n===fr||typeof t===fr||typeof i===fr||typeof r===fr?[n,t,i,r]:void 0},range:function(n,t){return n=dr.low(n),t=dr.high(t),typeof n===fr||typeof t===fr?[n,t]:void 0}};wt.groupData=function(n,t,r,u){for(var o=this,p=o.data,g=o.options.data,w=[],b=[],h=n.length,k,c,v,nt=!!t,e=[[],[],[],[]],tt=typeof u=="function"?u:dr[u],l=o.pointArrayMap,it=l&&l.length,y,d,s,a,f=0;f<=h;f++)if(n[f]>=r[0])break;for(;f<=h;f++){while(r[1]!==i&&n[f]>=r[1]||f===h)if(k=r.shift(),v=tt.apply(0,e),v!==i&&(w.push(k),b.push(v)),e[0]=[],e[1]=[],e[2]=[],e[3]=[],f===h)break;if(f===h)break;if(l)for(y=o.cropStart+f,d=p&&p[y]||o.pointClass.prototype.applyOptions.apply({series:o},[g[y]]),s=0;s<it;s++)a=d[l[s]],typeof a===fr?e[s].push(a):a===null&&(e[s].hasNulls=!0);else c=nt?t[f]:null,typeof c===fr?e[0].push(c):c===null&&(e[0].hasNulls=!0)}return[w,b]};wt.processData=function(){var t=this,c=t.chart,l=t.options,f=l[ys],a=t.allowDG!==!1&&f&&n(f.enabled,c.options._stock),v;if(t.forceCrop=a,t.groupPixelWidth=null,t.hasProcessed=!0,ps.apply(t,arguments)!==!1&&a)t.destroyGroupedData();else return;var e,y=t.processedXData,d=t.processedYData,g=c.plotSizeX,i=t.xAxis,nt=i.options.ordinal,p=t.groupPixelWidth=i.getGroupPixelWidth&&i.getGroupPixelWidth(),tt=t.pointRange;if(p){v=!0;t.points=null;var w=i.getExtremes(),o=w.min,s=w.max,it=nt&&i.getGroupIntervalFactor(o,s,t)||1,b=p*(s-o)/g*it,h=i.getTimeTicks(i.normalizeTimeTickInterval(b,f.units||ko),o,s,i.options.startOfWeek,y,t.closestPointRange),k=wt.groupData.apply(t,[y,d,h,f.approximation]),u=k[0],rt=k[1];if(f.smoothed){for(e=u.length-1,u[e]=s;e--&&e>0;)u[e]+=b/2;u[0]=o}t.currentDataGrouping=h.info;l.pointRange===null&&(t.pointRange=h.info.totalRange);t.closestPointRange=h.info.totalRange;r(u[0])&&u[0]<i.dataMin&&(i.min===i.dataMin&&(i.min=u[0]),i.dataMin=u[0]);t.processedXData=u;t.processedYData=rt}else t.currentDataGrouping=null,t.pointRange=tt;t.hasGroupedData=v};wt.destroyGroupedData=function(){var n=this.groupedData;t(n||[],function(t,i){t&&(n[i]=t.destroy?t.destroy():null)});this.groupedData=null};wt.generatePoints=function(){ws.apply(this);this.destroyGroupedData();this.groupedData=this.hasGroupedData?this.points:null};wo.tooltipFooterHeaderFormatter=function(n,t){var a=this,u=n.series,y=u.options,e=u.tooltipOptions,v=y.dataGrouping,i=e.xDateFormat,o,s=u.xAxis,r,h,f,c,l;return s&&s.options.type==="datetime"&&v&&pi(n.key)?(r=u.currentDataGrouping,h=v.dateTimeLabelFormats,r?(f=h[r.unitName],r.count===1?i=f[0]:(i=f[1],o=f[2])):!i&&h&&(i=a.getXDateFormat(n,e,s)),c=ni(i,n.key),o&&(c+=ni(o,n.key+r.totalRange-1)),l=e[(t?"footer":"header")+"Format"].replace("{point.key}",c)):l=ks.call(a,n,t),l};wt.destroy=function(){for(var i=this,n=i.groupedData||[],t=n.length;t--;)n[t]&&n[t].destroy();bs.apply(i)};tt(wt,"setOptions",function(n,t){var f=n.call(this,t),i=this.type,r=this.chart.options.plotOptions,u=ut[i].dataGrouping;return bo[i]&&(u||(u=o(ds,bo[i])),f.dataGrouping=o(u,r.series&&r.series.dataGrouping,r[i].dataGrouping,t.dataGrouping)),this.chart.options._stock&&(this.requireSorting=!0),f});tt(p.prototype,"setScale",function(n){n.call(this);t(this.series,function(n){n.hasProcessed=!1})});p.prototype.getGroupPixelWidth=function(){for(var t=this.series,e=t.length,r=0,o=!1,u,i,n=e;n--;)i=t[n].options.dataGrouping,i&&(r=f(r,i.groupPixelWidth));for(n=e;n--;)i=t[n].options.dataGrouping,i&&t[n].hasProcessed&&(u=(t[n].processedXData||t[n].data).length,(t[n].groupPixelWidth||u>this.chart.plotSizeX/r||u&&i.forced)&&(o=!0));return o?r:0};p.prototype.setDataGrouping=function(i,r){var u;if(r=n(r,!0),i||(i={forced:!1,units:null}),this instanceof p)for(u=this.series.length;u--;)this.series[u].update({dataGrouping:i},!1);else t(this.chart.options.series,function(n){n.dataGrouping=i},!1);r&&this.chart.redraw()};ut.ohlc=o(ut.column,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}"><\/span> <b> {series.name}<\/b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},states:{hover:{lineWidth:3}},threshold:null});pe=ri(a.column,{type:"ohlc",pointArrayMap:["open","high","low","close"],toYData:function(n){return[n.open,n.high,n.low,n.close]},pointValKey:"high",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},upColorProp:"stroke",getAttribs:function(){a.column.prototype.getAttribs.apply(this,arguments);var n=this,f=n.options,e=f.states,r=f.upColor||n.color,i=o(n.pointAttr),u=n.upColorProp;i[""][u]=r;i.hover[u]=e.hover.upColor||r;i.select[u]=e.select.upColor||r;t(n.points,function(n){n.open<n.close&&!n.options.color&&(n.pointAttr=i)})},translate:function(){var n=this,i=n.yAxis;a.column.prototype.translate.apply(n);t(n.points,function(n){n.open!==null&&(n.plotOpen=i.translate(n.open,0,1,0,1));n.close!==null&&(n.plotClose=i.translate(n.close,0,1,0,1))})},drawPoints:function(){var f=this,a=f.points,v=f.chart,e,s,h,o,c,r,l,n;t(a,function(t){t.plotY!==i&&(l=t.graphic,e=t.pointAttr[t.selected?"selected":""]||f.pointAttr[dt],o=e["stroke-width"]%2/2,n=u(t.plotX)-o,c=u(t.shapeArgs.width/2),r=["M",n,u(t.yBottom),"L",n,u(t.plotY)],t.open!==null&&(s=u(t.plotOpen)+o,r.push("M",n,s,"L",n-c,s)),t.close!==null&&(h=u(t.plotClose)+o,r.push("M",n,h,"L",n+c,h)),l?l.attr(e).animate({d:r}):t.graphic=v.renderer.path(r).attr(e).add(f.group))})},animate:null});a.ohlc=pe;ut.candlestick=o(ut.column,{lineColor:"black",lineWidth:1,states:{hover:{lineWidth:2}},tooltip:ut.ohlc.tooltip,threshold:null,upColor:"white"});go=ri(pe,{type:"candlestick",pointAttrToOptions:{fill:"color",stroke:"lineColor","stroke-width":"lineWidth"},upColorProp:"fill",getAttribs:function(){a.ohlc.prototype.getAttribs.apply(this,arguments);var r=this,i=r.options,u=i.states,n=i.upLineColor||i.lineColor,f=u.hover.upLineColor||n,e=u.select.upLineColor||n;t(r.points,function(t){t.open<t.close&&(t.lineColor&&(t.pointAttr=o(t.pointAttr),n=t.lineColor),t.pointAttr[""].stroke=n,t.pointAttr.hover.stroke=f,t.pointAttr.select.stroke=e)})},drawPoints:function(){var e=this,w=e.points,b=e.chart,s,k=e.pointAttr[""],c,l,r,f,y,p,h,n,a,v,o;t(w,function(t){a=t.graphic;t.plotY!==i&&(s=t.pointAttr[t.selected?"selected":""]||k,h=s["stroke-width"]%2/2,n=u(t.plotX)-h,c=t.plotOpen,l=t.plotClose,r=ct.min(c,l),f=ct.max(c,l),o=u(t.shapeArgs.width/2),y=u(r)!==u(t.plotY),p=f!==t.yBottom,r=u(r)+h,f=u(f)+h,v=["M",n-o,f,"L",n-o,r,"L",n+o,r,"L",n+o,f,"Z","M",n,r,"L",n,y?u(t.plotY):r,"M",n,f,"L",n,p?u(t.yBottom):f],a?a.attr(s).animate({d:v}):t.graphic=b.renderer.path(v).attr(s).add(e.group).shadow(e.options.shadow))})}});a.candlestick=go;tf=fi.prototype.symbols;ut.flags=o(ut.column,{fillColor:"white",lineWidth:1,pointRange:0,shape:"flag",stackDistance:12,states:{hover:{lineColor:"black",fillColor:"#FCFFC5"}},style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30});a.flags=ri(a.column,{type:"flags",sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:w.prototype.init,pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth",r:"radius"},translate:function(){a.column.prototype.translate.apply(this);var l=this,d=l.options,y=l.chart,f=l.points,v=f.length-1,r,e,w=d.onSeries,u=w&&y.get(w),g=u&&u.options.step,s=u&&u.points,o=s&&s.length,h=l.xAxis,b=h.getExtremes(),n,k,c,p;if(u&&u.visible&&o)for(p=u.currentDataGrouping,k=s[o-1].x+(p?p.totalRange:0),f.sort(function(n,t){return n.x-t.x});o--&&f[v];)if(r=f[v],n=s[o],n.x<=r.x&&n.plotY!==i&&(r.x<=k&&(r.plotY=n.plotY,n.x<r.x&&!g&&(c=s[o+1],c&&c.plotY!==i&&(r.plotY+=(r.x-n.x)/(c.x-n.x)*(c.plotY-n.plotY)))),v--,o++,v<0))break;t(f,function(n,t){var r;n.plotY===i&&(n.x>=b.min&&n.x<=b.max?n.plotY=y.chartHeight-h.bottom-(h.opposite?h.height:0)+h.offset-y.plotTop:n.shapeArgs={});e=f[t-1];e&&e.plotX===n.plotX&&(e.stackIndex===i&&(e.stackIndex=0),r=e.stackIndex+1);n.stackIndex=r})},drawPoints:function(){for(var e=this,c,b=e.pointAttr[""],p=e.points,k=e.chart,d=k.renderer,u,f,r=e.options,g=r.y,l,t,s,h,v,y,w,a=p.length;a--;)t=p[a],w=t.plotX>e.xAxis.len,u=t.plotX,u>0&&(u-=n(t.lineWidth,r.lineWidth)%2),h=t.stackIndex,l=t.options.shape||r.shape,f=t.plotY,f!==i&&(f=t.plotY+g-(h!==i&&h*r.stackDistance)),v=h?i:t.plotX,y=h?i:t.plotY,s=t.graphic,f!==i&&u>=0&&!w?(c=t.pointAttr[t.selected?"select":""]||b,s?s.attr({x:u,y:f,r:c.r,anchorX:v,anchorY:y}):s=t.graphic=d.label(t.options.title||r.title||"A",u,f,l,v,y,r.useHTML).css(o(r.style,t.style)).attr(c).attr({align:l==="flag"?"left":"center",width:r.width,height:r.height}).add(e.markerGroup).shadow(r.shadow),t.tooltipPos=[u,f]):s&&(t.graphic=s.destroy())},drawTracker:function(){var i=this,n=i.points;cu.drawTrackerPoint.apply(this);t(n,function(i){var r=i.graphic;r&&c(r.element,"mouseover",function(){i.stackIndex>0&&!i.raised&&(i._y=r.y,r.attr({y:i._y-8}),i.raised=!0);t(n,function(n){n!==i&&n.raised&&n.graphic&&(n.graphic.attr({y:n._y}),n.raised=!1)})})})},animate:ti,buildKDTree:ti,setClip:ti});tf.flag=function(n,t,i,r,u){var f=u&&u.anchorX||n,e=u&&u.anchorY||t;return["M",f,e,"L",n,t+r,n,t,n+i,t,n+i,t+r,n,t+r,"Z"]};t(["circle","square"],function(n){tf[n+"pin"]=function(t,i,r,f,e){var o=e&&e.anchorX,s=e&&e.anchorY,h,c;return n==="circle"&&f>r&&(t-=u((f-r)/2),r=f),h=tf[n](t,i,r,f),o&&s&&(c=i>s?i:i+f,h.push("M",o,c,"L",o,s)),h}});nu===h.VMLRenderer&&t(["flag","circlepin","squarepin"],function(n){gu.prototype.symbols[n]=tf[n]});wf=[].concat(ko);rf=function(n){var t=ku(arguments,function(n){return typeof n=="number"});if(t.length)return Math[n].apply(0,t)};wf[4]=["day",[1,2,3,4]];wf[5]=["week",[1,2,3]];ns=a.areaspline===i?"line":"areaspline";e(nt,{navigator:{handles:{backgroundColor:"#ebe7e8",borderColor:"#b2b1b6"},height:40,margin:25,maskFill:"rgba(128,179,236,0.3)",maskInside:!0,outlineColor:"#b2b1b6",outlineWidth:1,series:{type:ns,color:"#4572A7",compare:null,fillOpacity:.05,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:wf},dataLabels:{enabled:!1,zIndex:2},id:st+"navigator-series",lineColor:"#4572A7",lineWidth:1,marker:{enabled:!1},pointRange:0,shadow:!1,threshold:null},xAxis:{tickWidth:0,lineWidth:0,gridLineColor:"#EEE",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#888"},x:3,y:-4},crosshair:!1},yAxis:{gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickWidth:0}},scrollbar:{height:lu?20:14,barBackgroundColor:"#bfc8d1",barBorderRadius:0,barBorderWidth:1,barBorderColor:"#bfc8d1",buttonArrowColor:"#666",buttonBackgroundColor:"#ebe7e8",buttonBorderColor:"#bbb",buttonBorderRadius:0,buttonBorderWidth:1,minWidth:6,rifleColor:"#666",trackBackgroundColor:"#eeeeee",trackBorderColor:"#eeeeee",trackBorderWidth:1,liveRedraw:kt&&!lu}});we.prototype={drawHandle:function(n,t){var i=this,e=i.chart,f=e.renderer,o=i.elementsToDestroy,r=i.handles,s=i.navigatorOptions.handles,h={fill:s.backgroundColor,stroke:s.borderColor,"stroke-width":1},u;i.rendered||(r[t]=f.g("navigator-handle-"+["left","right"][t]).css({cursor:"ew-resize"}).attr({zIndex:4-t}).add(),u=f.rect(-4.5,0,9,16,0,1).attr(h).add(r[t]),o.push(u),u=f.path(["M",-1.5,4,"L",-1.5,12,"M",.5,4,"L",.5,12]).attr(h).add(r[t]),o.push(u));r[t][e.isResizing?"animate":"attr"]({translateX:i.scrollerLeft+i.scrollbarHeight+parseInt(n,10),translateY:i.top+i.height/2-8})},drawScrollbarButton:function(n){var i=this,s=i.chart,e=s.renderer,o=i.elementsToDestroy,u=i.scrollbarButtons,t=i.scrollbarHeight,r=i.scrollbarOptions,f;i.rendered||(u[n]=e.g().add(i.scrollbarGroup),f=e.rect(-.5,-.5,t+1,t+1,r.buttonBorderRadius,r.buttonBorderWidth).attr({stroke:r.buttonBorderColor,"stroke-width":r.buttonBorderWidth,fill:r.buttonBackgroundColor}).add(u[n]),o.push(f),f=e.path(["M",t/2+(n?-1:1),t/2-3,"L",t/2+(n?-1:1),t/2+3,t/2+(n?2:-2),t/2]).attr({fill:r.buttonArrowColor}).add(u[n]),o.push(f));n&&u[n].attr({translateX:i.scrollerWidth-t})},render:function(t,i,e,o){var h=this,et=h.chart,k=et.renderer,l,ct,lt,st,ut=h.scrollbarGroup,at=h.navigatorGroup,ni=h.scrollbar,v=h.xAxis,ti=h.scrollbarTrack,c=h.scrollbarHeight,ii=h.scrollbarEnabled,nt=h.navigatorOptions,y=h.scrollbarOptions,kt=y.minWidth,vt=h.height,yt=h.top,ri=h.navigatorEnabled,ui=nt.outlineWidth,p=ui/2,a,w,pt,dt,ht,wt=0,fi=h.outlineHeight,ei=y.barBorderRadius,gt,bt=y.barBorderWidth,tt,b=yt+p,g,ft;r(t)&&!isNaN(t)&&((h.navigatorLeft=l=n(v.left,et.plotLeft+c),h.navigatorWidth=ct=n(v.len,et.plotWidth-2*c),h.scrollerLeft=lt=l-c,h.scrollerWidth=st=st=ct+2*c,v.getExtremes&&(ft=h.getUnionExtremes(!0),ft&&(ft.dataMin!==v.min||ft.dataMax!==v.max)&&v.setExtremes(ft.dataMin,ft.dataMax,!0,!1)),e=n(e,v.translate(t)),o=n(o,v.translate(i)),(isNaN(e)||d(e)===Infinity)&&(e=0,o=st),v.translate(o,!0)-v.translate(e,!0)<et.xAxis[0].minRange)||(h.zoomedMax=s(f(e,o),ct),h.zoomedMin=f(h.fixedWidth?h.zoomedMax-h.fixedWidth:s(e,o),0),h.range=h.zoomedMax-h.zoomedMin,w=u(h.zoomedMax),a=u(h.zoomedMin),pt=w-a,h.rendered||(ri&&(h.navigatorGroup=at=k.g("navigator").attr({zIndex:3}).add(),h.leftShade=k.rect().attr({fill:nt.maskFill}).add(at),nt.maskInside?h.leftShade.css({cursor:"ew-resize "}):h.rightShade=k.rect().attr({fill:nt.maskFill}).add(at),h.outline=k.path().attr({"stroke-width":ui,stroke:nt.outlineColor}).add(at)),ii&&(h.scrollbarGroup=ut=k.g("scrollbar").add(),gt=y.trackBorderWidth,h.scrollbarTrack=ti=k.rect().attr({x:0,y:-gt%2/2,fill:y.trackBackgroundColor,stroke:y.trackBorderColor,"stroke-width":gt,r:y.trackBorderRadius||0,height:c}).add(ut),h.scrollbar=ni=k.rect().attr({y:-bt%2/2,height:c,fill:y.barBackgroundColor,stroke:y.barBorderColor,"stroke-width":bt,r:ei}).add(ut),h.scrollbarRifles=k.path().attr({stroke:y.rifleColor,"stroke-width":1}).add(ut))),g=et.isResizing?"animate":"attr",ri&&(h.leftShade[g](nt.maskInside?{x:l+a,y:yt,width:w-a,height:vt}:{x:l,y:yt,width:a,height:vt}),h.rightShade&&h.rightShade[g]({x:l+w,y:yt,width:ct-w,height:vt}),h.outline[g]({d:[rt,lt,b,it,l+a-p,b,l+a-p,b+fi,it,l+w-p,b+fi,it,l+w-p,b,lt+st,b].concat(nt.maskInside?[rt,l+a+p,b,it,l+w-p,b]:[])}),h.drawHandle(a+p,0),h.drawHandle(w+p,1)),ii&&ut&&(h.drawScrollbarButton(0),h.drawScrollbarButton(1),ut[g]({translateX:lt,translateY:u(b+vt)}),ti[g]({width:st}),dt=c+a,ht=pt-bt,ht<kt&&(wt=(kt-ht)/2,ht=kt,dt-=wt),h.scrollbarPad=wt,ni[g]({x:ot(dt)+bt%2/2,width:ht}),tt=c+a+pt/2-.5,h.scrollbarRifles.attr({visibility:pt>12?oi:ci})[g]({d:[rt,tt-3,c/4,it,tt-3,2*c/3,rt,tt,c/4,it,tt,2*c/3,rt,tt+3,c/4,it,tt+3,2*c/3]})),h.scrollbarPad=wt,h.rendered=!0))},addEvents:function(){var n=this.chart.container,r=this.mouseDownHandler,u=this.mouseMoveHandler,f=this.mouseUpHandler,i;i=[[n,"mousedown",r],[n,"mousemove",u],[document,"mouseup",f]];fu&&i.push([n,"touchstart",r],[n,"touchmove",u],[document,"touchend",f]);t(i,function(n){c.apply(null,n)});this._events=i},removeEvents:function(){t(this._events,function(n){et.apply(null,n)});this._events=i;this.navigatorEnabled&&this.baseSeries&&et(this.baseSeries,"updatedData",this.updatedDataHandler)},init:function(){var t=this,i=t.chart,u,s,l=t.scrollbarHeight,h=t.navigatorOptions,c=t.height,a=t.top,r,f,e=t.baseSeries,v,y;t.mouseDownHandler=function(n){n=i.pointer.normalize(n);var e=t.zoomedMin,l=t.zoomedMax,v=t.top,k=t.scrollbarHeight,y=t.scrollerLeft,d=t.scrollerWidth,h=t.navigatorLeft,g=t.navigatorWidth,nt=t.scrollbarPad,o=t.range,f=n.chartX,p=n.chartY,w=i.xAxis[0],tt,b,it=lu?10:7,s,a;p>v&&p<v+c+k&&(a=!t.scrollbarEnabled||p<v+c,a&&ct.abs(f-e-h)<it?(t.grabbedLeft=!0,t.otherHandlePos=l,t.fixedExtreme=w.max,i.fixedRange=null):a&&ct.abs(f-l-h)<it?(t.grabbedRight=!0,t.otherHandlePos=e,t.fixedExtreme=w.min,i.fixedRange=null):f>h+e-nt&&f<h+l+nt?(t.grabbedCenter=f,t.fixedWidth=o,r=f-e):f>y&&f<y+d&&(s=a?f-h-o/2:f<h?e-o*.2:f>y+d-k?e+o*.2:f<h+e?e-o:l,s<0?s=0:s+o>=g&&(s=g-o,tt=t.getUnionExtremes().dataMax),s!==e&&(t.fixedWidth=o,b=u.toFixedRange(s,s+o,null,tt),w.setExtremes(b.min,b.max,!0,!1,{trigger:"navigator"}))))};t.mouseMoveHandler=function(n){var s=t.scrollbarHeight,e=t.navigatorLeft,h=t.navigatorWidth,c=t.scrollerLeft,l=t.scrollerWidth,o=t.range,u;n.pageX!==0&&(n=i.pointer.normalize(n),u=n.chartX,u<e?u=e:u>c+l-s&&(u=c+l-s),t.grabbedLeft?(f=!0,t.render(0,0,u-e,t.otherHandlePos)):t.grabbedRight?(f=!0,t.render(0,0,t.otherHandlePos,u-e)):t.grabbedCenter&&(f=!0,u<r?u=r:u>h+r-o&&(u=h+r-o),t.render(0,0,u-r,u-r+o)),f&&t.scrollbarOptions.liveRedraw&&setTimeout(function(){t.mouseUpHandler(n)},0))};t.mouseUpHandler=function(n){var e,o,s;f&&(t.zoomedMin===t.otherHandlePos?o=t.fixedExtreme:t.zoomedMax===t.otherHandlePos&&(s=t.fixedExtreme),e=u.toFixedRange(t.zoomedMin,t.zoomedMax,o,s),i.xAxis[0].setExtremes(e.min,e.max,!0,!1,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:n}));n.type!=="mousemove"&&(t.grabbedLeft=t.grabbedRight=t.grabbedCenter=t.fixedWidth=t.fixedExtreme=t.otherHandlePos=f=r=null)};v=i.xAxis.length;y=i.yAxis.length;i.extraBottomMargin=t.outlineHeight+h.margin;t.navigatorEnabled?(t.xAxis=u=new p(i,o({breaks:e&&e.xAxis.options.breaks,ordinal:e&&e.xAxis.options.ordinal},h.xAxis,{id:"navigator-x-axis",isX:!0,type:"datetime",index:v,height:c,offset:0,offsetLeft:l,offsetRight:-l,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1})),t.yAxis=s=new p(i,o(h.yAxis,{id:"navigator-y-axis",alignTicks:!1,height:c,offset:0,index:y,zoomEnabled:!1})),e||h.series.data?t.addBaseSeries():i.series.length===0&&tt(i,"redraw",function(n,r){i.series.length>0&&!t.series&&(t.setBaseSeries(),i.redraw=n);n.call(i,r)})):t.xAxis=u={translate:function(n,t){var r=i.xAxis[0],f=r.getExtremes(),e=i.plotWidth-2*l,u=rf("min",r.options.min,f.dataMin),o=rf("max",r.options.max,f.dataMax)-u;return t?n*o/e+u:e*(n-u)/o},toFixedRange:p.prototype.toFixedRange};tt(i,"getMargins",function(i){var f=this.legend,r=f.options;i.apply(this,[].slice.call(arguments,1));t.top=a=t.navigatorOptions.top||this.chartHeight-t.height-t.scrollbarHeight-this.spacing[2]-(r.verticalAlign==="bottom"&&r.enabled&&!r.floating?f.legendHeight+n(r.margin,10):0);u&&s&&(u.options.top=s.options.top=a,u.setAxisSize(),s.setAxisSize())});t.addEvents()},getUnionExtremes:function(t){var i=this.chart.xAxis[0],u=this.xAxis,r=u.options,f=i.options,e;return t&&i.dataMin===null||(e={dataMin:n(r&&r.min,rf("min",f.min,i.dataMin,u.dataMin)),dataMax:n(r&&r.max,rf("max",f.max,i.dataMax,u.dataMax))}),e},setBaseSeries:function(n){var t=this.chart;n=n||t.options.navigator.baseSeries;this.series&&this.series.remove();this.baseSeries=t.series[n]||typeof n=="string"&&t.get(n)||t.series[0];this.xAxis&&this.addBaseSeries()},addBaseSeries:function(){var n=this.baseSeries,r=n?n.options:{},f=r.data,t,u=this.navigatorOptions.series,i;i=u.data;this.hasNavigatorData=!!i;t=o(r,u,{enableMouseTracking:!1,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",name:"Navigator",showInLegend:!1,isInternal:!0,visible:!0});t.data=i||f;this.series=this.chart.initSeries(t);n&&this.navigatorOptions.adaptToUpdatedData!==!1&&(c(n,"updatedData",this.updatedDataHandler),n.userOptions.events=e(n.userOptions.event,{updatedData:this.updatedDataHandler}))},updatedDataHandler:function(){var t=this.chart.scroller,o=t.baseSeries,h=o.xAxis,i=h.getExtremes(),c=i.min,l=i.max,a=i.dataMin,y=i.dataMax,p=l-c,r,v,u,n,w,e=t.series,b=e.xData,k=!!h.setExtremes;v=l>=b[b.length-1]-(this.closestPointRange||0);r=c<=a;t.hasNavigatorData||(e.options.pointStart=o.xData[0],e.setData(o.options.data,!1),w=!0);r&&(n=a,u=n+p);v&&(u=y,r||(n=f(u-p,e.xData[0])));k&&(r||v)?isNaN(n)||h.setExtremes(n,u,!0,!1,{trigger:"updatedData"}):(w&&this.chart.redraw(!1),t.render(f(c,a),s(l,y)))},destroy:function(){var n=this;n.removeEvents();t([n.xAxis,n.yAxis,n.leftShade,n.rightShade,n.outline,n.scrollbarTrack,n.scrollbarRifles,n.scrollbarGroup,n.scrollbar],function(n){n&&n.destroy&&n.destroy()});n.xAxis=n.yAxis=n.leftShade=n.rightShade=n.outline=n.scrollbarTrack=n.scrollbarRifles=n.scrollbarGroup=n.scrollbar=null;t([n.scrollbarButtons,n.handles,n.elementsToDestroy],function(n){pr(n)})}};h.Scroller=we;tt(p.prototype,"zoom",function(n,t,u){var h=this.chart,e=h.options,o=e.chart.zoomType,f,c=e.navigator,l=e.rangeSelector,s;return this.isXAxis&&(c&&c.enabled||l&&l.enabled)&&(o==="x"?h.resetZoomButton="blocked":o==="y"?s=!1:o==="xy"&&(f=this.previousZoom,r(t)?this.previousZoom=[this.min,this.max]:f&&(t=f[0],u=f[1],delete this.previousZoom))),s!==i?s:n.call(this,t,u)});tt(ur.prototype,"init",function(n,t,i){c(this,"beforeRender",function(){var n=this.options;(n.navigator.enabled||n.scrollbar.enabled)&&(this.scroller=new we(this))});n.call(this,t,i)});tt(w.prototype,"addPoint",function(n,t,i,r,u){var f=this.options.turboThreshold;f&&this.xData.length>f&&ii(t)&&!ar(t)&&this.chart.scroller&&ai(20,!0);n.call(this,t,i,r,u)});e(nt,{rangeSelector:{buttonTheme:{width:28,height:18,fill:"#f7f7f7",padding:2,r:0,"stroke-width":0,style:{color:"#444",cursor:"pointer",fontWeight:"normal"},zIndex:7,states:{hover:{fill:"#e7e7e7"},select:{fill:"#e7f0f9",style:{color:"black",fontWeight:"bold"}}}},inputPosition:{align:"right"},labelStyle:{color:"#666"}}});nt.lang=o(nt.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"});be.prototype={clickButton:function(r,e){var l=this,rt=l.selected,a=l.chart,nt=l.buttons,b=l.buttonOptions[r],o=a.xAxis[0],ut=a.scroller&&a.scroller.getUnionExtremes()||o||{},v=ut.dataMin,h=ut.dataMax,k,y=o&&u(s(o.max,n(h,o.max))),d,tt=b.type,w,g=b._range,ft,et,ot,st,it,ht=b.dataGrouping;if(v!==null&&h!==null&&r!==l.selected){if(a.fixedRange=g,ht&&(this.forcedDataGrouping=!0,p.prototype.setDataGrouping.call(o||{chart:this.chart},ht,!1)),tt==="month"||tt==="year")o?(it={range:b,max:y,dataMin:v,dataMax:h},k=o.minFromRange.call(it),typeof it.newMax=="number"&&(y=it.newMax)):g=b;else if(g)k=f(y-g,v),y=s(k+g,h);else if(tt==="ytd")if(o)h===i&&(v=Number.MAX_VALUE,h=Number.MIN_VALUE,t(a.series,function(n){var t=n.xData;v=s(t[0],v);h=f(t[t.length-1],h)}),e=!1),d=new gt(h),et=d.getFullYear(),k=ft=f(v||0,gt.UTC(et,0,1)),d=d.getTime(),y=s(h||d,d);else{c(a,"beforeRender",function(){l.clickButton(r)});return}else tt==="all"&&o&&(k=v,y=h);nt[rt]&&nt[rt].setState(0);nt[r]&&nt[r].setState(2);o?(o.setExtremes(k,y,n(e,1),0,{trigger:"rangeSelectorButton",rangeSelectorButton:b}),l.setSelected(r)):(w=a.options.xAxis[0],st=w.range,w.range=g,ot=w.min,w.min=ft,l.setSelected(r),c(a,"load",function(){w.range=st;w.min=ot}))}},setSelected:function(n){this.selected=this.options.selected=n},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(n){var r=this,u=n.options.rangeSelector,f=u.buttons||[].concat(r.defaultButtons),e=u.selected,o=r.blurInputs=function(){var n=r.minInput,t=r.maxInput;n&&n.blur&&g(n,"blur");t&&t.blur&&g(t,"blur")};r.chart=n;r.options=u;r.buttons=[];n.extraTopMargin=35;r.buttonOptions=f;c(n.container,"mousedown",o);c(n,"resize",o);t(f,r.computeButtonRange);e!==i&&f[e]&&this.clickButton(e,!1);c(n,"load",function(){c(n.xAxis[0],"setExtremes",function(t){this.max-this.min!==n.fixedRange&&t.trigger!=="rangeSelectorButton"&&t.trigger!=="updatedData"&&r.forcedDataGrouping&&this.setDataGrouping(!1,!1)});c(n.xAxis[0],"afterSetExtremes",function(){r.updateButtonStates(!0)})})},updateButtonStates:function(n){var f=this,e=this.chart,i=e.xAxis[0],c=e.scroller&&e.scroller.getUnionExtremes()||i,s=c.dataMin,h=c.dataMax,o=f.selected,l=f.options.allButtonsEnabled,r=f.buttons;n&&e.fixedRange!==u(i.max-i.min)&&(r[o]&&r[o].setState(0),f.setSelected(null));t(f.buttonOptions,function(n,t){var a=u(i.max-i.min),v=n._range,c=n.type,y=n.count||1,w=v>h-s,b=v<i.minRange,k=n.type==="all"&&i.max-i.min>=h-s&&r[t].state!==2,d=n.type==="ytd"&&ni("%Y",s)===ni("%Y",h),g=e.renderer.forExport&&t===o,p=v===a;(c==="month"||c==="year")&&a>={month:28,year:365}[c]*864e5*y&&a<={month:31,year:366}[c]*864e5*y&&(p=!0);g||p&&t!==o?(f.setSelected(t),r[t].setState(2)):!l&&(w||b||k||d)?r[t].setState(3):r[t].state===3&&r[t].setState(0)})},computeButtonRange:function(n){var t=n.type,i=n.count||1,r={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};r[t]?n._range=r[t]*i:(t==="month"||t==="year")&&(n._range={month:30,year:365}[t]*864e5*i)},setInputValue:function(n,t){var i=this.chart.options.rangeSelector;r(t)&&(this[n+"Input"].HCTime=t);this[n+"Input"].value=ni(i.inputEditDateFormat||"%Y-%m-%d",this[n+"Input"].HCTime);this[n+"DateBox"].attr({text:ni(i.inputDateFormat||"%b %e, %Y",this[n+"Input"].HCTime)})},showInput:function(n){var i=this.inputGroup,t=this[n+"DateBox"];k(this[n+"Input"],{left:i.translateX+t.x+y,top:i.translateY+y,width:t.width-2+y,height:t.height-2+y,border:"2px solid silver"})},hideInput:function(n){k(this[n+"Input"],{border:0,width:"1px",height:"1px"});this.setInputValue(n)},drawInput:function(n){var t=this,u=t.chart,c=u.renderer.style,l=u.renderer,r=u.options.rangeSelector,w=nt.lang,b=t.div,f=n==="min",s,a,p,h=this.inputGroup;this[n+"Label"]=a=l.label(w[f?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).attr({padding:2}).css(o(c,r.labelStyle)).add(h);h.offset+=a.width+5;this[n+"DateBox"]=p=l.label("",h.offset).attr({padding:2,width:r.inputBoxWidth||90,height:r.inputBoxHeight||17,stroke:r.inputBoxBorderColor||"silver","stroke-width":1}).css(o({textAlign:"center",color:"#444"},c,r.inputStyle)).on("click",function(){t.showInput(n);t[n+"Input"].focus()}).add(h);h.offset+=p.width+(f?10:0);this[n+"Input"]=s=pt("input",{name:n,className:st+"range-selector",type:"text"},e({position:tr,border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:c.fontSize,fontFamily:c.fontFamily,top:u.plotTop+y},r.inputStyle),b);s.onfocus=function(){t.showInput(n)};s.onblur=function(){t.hideInput(n)};s.onchange=function(){var o=s.value,n=(r.inputDateParser||gt.parse)(o),e=u.xAxis[0],h=e.dataMin,c=e.dataMax;isNaN(n)&&(n=o.split("-"),n=gt.UTC(v(n[0]),v(n[1])-1,v(n[2])));isNaN(n)||(nt.global.useUTC||(n=n+(new gt).getTimezoneOffset()*6e4),f?n>t.maxInput.HCTime?n=i:n<h&&(n=h):n<t.minInput.HCTime?n=i:n>c&&(n=c),n!==i&&u.xAxis[0].setExtremes(f?n:e.min,f?e.max:n,i,i,{trigger:"rangeSelectorInput"}))}},getPosition:function(){var t=this.chart,r=t.options.rangeSelector,i=n((r.buttonPosition||{}).y,t.plotTop-t.axisOffset[0]-35);return{buttonTop:i,inputTop:i-10}},render:function(i,u){var f=this,o=f.chart,a=o.renderer,tt=o.container,v=o.options,y=v.exporting&&v.navigation&&v.navigation.buttonOptions,s=v.rangeSelector,p=f.buttons,et=nt.lang,it=f.div,h=f.inputGroup,w=s.buttonTheme,rt=s.buttonPosition||{},b=s.inputEnabled,c=w&&w.states,ut=o.plotLeft,k,d=this.getPosition(),l=f.group,g,ft=f.rendered;ft||(f.group=l=a.g("range-selector-buttons").add(),f.zoomText=a.text(et.rangeSelectorZoom,n(rt.x,ut),15).css(s.labelStyle).add(l),k=n(rt.x,ut)+f.zoomText.getBBox().width+5,t(f.buttonOptions,function(t,i){p[i]=a.button(t.text,k,0,function(){f.clickButton(i);f.isActive=!0},w,c&&c.hover,c&&c.select,c&&c.disabled).css({textAlign:"center"}).add(l);k+=p[i].width+n(s.buttonSpacing,5);f.selected===i&&p[i].setState(2)}),f.updateButtonStates(),b!==!1&&(f.div=it=pt("div",null,{position:"relative",height:0,zIndex:1}),tt.parentNode.insertBefore(it,tt),f.inputGroup=h=a.g("input-group").add(),h.offset=0,f.drawInput("min"),f.drawInput("max")));l[ft?"animate":"attr"]({translateY:d.buttonTop});b!==!1&&(h.align(e({y:d.inputTop,width:h.offset,x:y&&d.inputTop<(y.y||0)+y.height-o.spacing[0]?-40:0},s.inputPosition),!0,o.spacingBox),r(b)||(g=l.getBBox(),h[h.translateX<g.x+g.width+10?"hide":"show"]()),f.setInputValue("min",i),f.setInputValue("max",u));f.rendered=!0},destroy:function(){var t=this.minInput,i=this.maxInput,r=this.chart,u=this.blurInputs,n;et(r.container,"mousedown",u);et(r,"resize",u);pr(this.buttons);t&&(t.onfocus=t.onblur=t.onchange=null);i&&(i.onfocus=i.onblur=i.onchange=null);for(n in this)this[n]&&n!=="chart"&&(this[n].destroy?this[n].destroy():this[n].nodeType&&uu(this[n])),this[n]=null}};p.prototype.toFixedRange=function(t,i,r,u){var f=this.chart&&this.chart.fixedRange,e=n(r,this.translate(t,!0)),o=n(u,this.translate(i,!0)),s=f&&(o-e)/f;return s>.7&&s<1.3&&(u?e=o-f:o=e+f),{min:e,max:o}};p.prototype.minFromRange=function(){var i=this.range,h=i.type,f={month:"Month",year:"FullYear"}[h],t,e=this.max,u=new gt(e),r,o;return typeof i=="number"?(t=this.max-i,o=i):(u["set"+f](u["get"+f]()-i.count),t=u.getTime()),r=n(this.dataMin,Number.MIN_VALUE),isNaN(t)&&(t=r),t<=r&&(t=r,this.newMax=s(t+o,this.dataMax)),isNaN(e)&&(t=undefined),t};tt(ur.prototype,"init",function(n,t,i){c(this,"init",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new be(this))});n.call(this,t,i)});h.RangeSelector=be;ur.prototype.callbacks.push(function(n){function f(){t=n.xAxis[0].getExtremes();i.render(t.min,t.max)}function u(){t=n.xAxis[0].getExtremes();isNaN(t.min)||r.render(t.min,t.max)}function e(n){n.triggerOp!=="navigator-drag"&&i.render(n.min,n.max)}function o(n){r.render(n.min,n.max)}function s(){i&&et(n.xAxis[0],"afterSetExtremes",e);r&&(et(n,"resize",u),et(n.xAxis[0],"afterSetExtremes",o))}var t,i=n.scroller,r=n.rangeSelector;i&&(c(n.xAxis[0],"afterSetExtremes",e),tt(n,"drawChartBox",function(n){var t=this.isDirtyBox;n.call(this);t&&f()}),f());r&&(c(n.xAxis[0],"afterSetExtremes",o),c(n,"resize",u),u());c(n,"destroy",s)});h.StockChart=function(t,i){var e=t.series,f,s=n(t.navigator&&t.navigator.enabled,!0),h=s?{startOnTick:!1,endOnTick:!1}:null,r={marker:{enabled:!1,radius:2}},u={shadow:!1,borderWidth:0};return t.xAxis=ir(li(t.xAxis||{}),function(n){return o({minPadding:0,maxPadding:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},n,{type:"datetime",categories:null},h)}),t.yAxis=ir(li(t.yAxis||{}),function(t){return f=n(t.opposite,!0),o({labels:{y:-2},opposite:f,showLastLabel:!1,title:{text:null}},t)}),t.series=null,t=o({chart:{panning:!0,pinchType:"x"},navigator:{enabled:!0},scrollbar:{enabled:!0},rangeSelector:{enabled:!0},title:{text:null,style:{fontSize:"16px"}},tooltip:{shared:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:r,spline:r,area:r,areaspline:r,arearange:r,areasplinerange:r,column:u,columnrange:u,candlestick:u,ohlc:u}},t,{_stock:!0,chart:{inverted:!1}}),t.series=e,new ur(t,i)};tt(kr.prototype,"init",function(n,t,i){var r=i.chart.pinchType||"";n.call(this,t,i);this.pinchX=this.pinchHor=r.indexOf("x")!==-1;this.pinchY=this.pinchVert=r.indexOf("y")!==-1;this.hasZoom=this.hasZoom||this.pinchHor||this.pinchVert});tt(p.prototype,"autoLabelAlign",function(n){var r=this.chart,u=this.options,f=r._labelPanes=r._labelPanes||{},i,t=this.options.labels;return this.chart.options._stock&&this.coll==="yAxis"&&(i=u.top+","+u.height,!f[i]&&t.enabled)?(t.x===15&&(t.x=0),t.align===undefined&&(t.align="right"),f[i]=1,"right"):n.call(this,[].slice.call(arguments,1))});tt(p.prototype,"getPlotLinePath",function(i,e,o,h,c,l){var a=this,it=this.isLinked&&!this.series?this.linkedParent.series:this.series,v=a.chart,ut=v.renderer,d=a.left,g=a.top,y,p,w,b,nt=[],tt=[],rt,k;return a.coll==="colorAxis"?i.apply(this,[].slice.call(arguments,1)):(tt=a.isXAxis?r(a.options.yAxis)?[v.yAxis[a.options.yAxis]]:ir(it,function(n){return n.yAxis}):r(a.options.xAxis)?[v.xAxis[a.options.xAxis]]:ir(it,function(n){return n.xAxis}),rt=a.isXAxis?v.yAxis:v.xAxis,t(rt,function(n){if(r(n.options.id)?n.options.id.indexOf("navigator")===-1:!0){var t=n.isXAxis?"yAxis":"xAxis",i=r(n.options[t])?v[t][n.options[t]]:v[t][0];a===i&&tt.push(n)}}),k=tt.length?[]:[a.isXAxis?v.yAxis[0]:v.xAxis[0]],t(tt,function(n){wr(n,k)===-1&&k.push(n)}),l=n(l,a.translate(e,null,null,h)),isNaN(l)||(a.horiz?t(k,function(n){var t;p=n.pos;b=p+n.len;y=w=u(l+a.transB);(y<d||y>d+a.width)&&(c?y=w=s(f(d,y),d+a.width):t=!0);t||nt.push("M",y,p,"L",w,b)}):t(k,function(n){var t;y=n.pos;w=y+n.len;p=b=u(g+a.height-l);(p<g||p>g+a.height)&&(c?p=b=s(f(g,p),a.top+a.height):t=!0);t||nt.push("M",y,p,"L",w,b)})),nt.length>0?ut.crispPolyLine(nt,o||1):null)});p.prototype.getPlotBandPath=function(n,t){var u=this.getPlotLinePath(t,null,null,!0),r=this.getPlotLinePath(n,null,null,!0),f=[],i;if(r&&u&&r.toString()!==u.toString())for(i=0;i<r.length;i+=6)f.push("M",r[i+1],r[i+2],"L",r[i+4],r[i+5],u[i+4],u[i+5],u[i+1],u[i+2]);else f=null;return f};fi.prototype.crispPolyLine=function(n,t){for(var i=0;i<n.length;i=i+6)n[i+1]===n[i+4]&&(n[i+1]=n[i+4]=u(n[i+1])-t%2/2),n[i+2]===n[i+5]&&(n[i+2]=n[i+5]=u(n[i+2])+t%2/2);return n};nu===h.VMLRenderer&&(gu.prototype.crispPolyLine=fi.prototype.crispPolyLine);tt(p.prototype,"hideCrosshair",function(n,i){(n.call(this,i),r(this.crossLabelArray))&&(r(i)?this.crossLabelArray[i]&&this.crossLabelArray[i].hide():t(this.crossLabelArray,function(n){n.hide()}))});tt(p.prototype,"drawCrosshair",function(t,u,f){if(t.call(this,u,f),r(this.crosshair.label)&&this.crosshair.label.enabled&&r(f)){var d=this.chart,s=this.options.crosshair.label,g=this.isXAxis?"x":"y",v=this.horiz,y=this.opposite,l=this.left,w=this.top,o=this.crossLabel,a,h,c,b=s.format,k="",p;if(o||(o=this.crossLabel=d.renderer.label().attr({align:s.align||(v?"center":y?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center"),zIndex:12,height:v?16:i,fill:s.backgroundColor||this.series[0]&&this.series[0].color||"gray",padding:n(s.padding,2),stroke:s.borderColor||null,"stroke-width":s.borderWidth||0}).css(e({color:"white",fontWeight:"normal",fontSize:"11px",textAlign:"center"},s.style)).add()),v?(a=f.plotX+l,h=w+(y?0:this.height)):(a=y?this.width+l:0,h=f.plotY+w),h<w||h>w+this.height){this.hideCrosshair();return}b||s.formatter||(this.isDatetimeAxis&&(k="%b %d, %Y"),b="{value"+(k?":"+k:"")+"}");o.attr({text:b?yr(b,{value:f[g]}):s.formatter.call(this,f[g]),x:a,y:h,visibility:oi});c=o.getBBox();v?(this.options.tickPosition==="inside"&&!y||this.options.tickPosition!=="inside"&&y)&&(h=o.y-c.height):h=o.y-c.height/2;p=v?{left:l-c.x,right:l+this.width-c.x}:{left:this.labelAlign==="left"?l:0,right:this.labelAlign==="right"?l+this.width:d.chartWidth};o.translateX<p.left&&(a+=p.left-o.translateX);o.translateX+c.width>=p.right&&(a-=o.translateX+c.width-p.right);o.attr({x:a,y:h,visibility:oi})}});var gs=wt.init,nh=wt.processData,th=gi.prototype.tooltipFormatter;wt.init=function(){gs.apply(this,arguments);this.setCompare(this.options.compare)};wt.setCompare=function(n){this.modifyValue=n==="value"||n==="percent"?function(t,r){var u=this.compareValue;return t!==i&&(t=n==="value"?t-u:t=100*(t/u)-100,r&&(r.change=t)),t}:null;this.chart.hasRendered&&(this.isDirty=!0)};wt.processData=function(){var n=this,t=0,r,i,u;if(nh.apply(this,arguments),n.xAxis&&n.processedYData)for(r=n.processedXData,i=n.processedYData,u=i.length;t<u;t++)if(typeof i[t]===fr&&r[t]>=n.xAxis.min){n.compareValue=i[t];break}};tt(wt,"getExtremes",function(n){n.apply(this,[].slice.call(arguments,1));this.modifyValue&&(this.dataMax=this.modifyValue(this.dataMax),this.dataMin=this.modifyValue(this.dataMin))});p.prototype.setCompare=function(i,r){this.isXAxis||(t(this.series,function(n){n.setCompare(i)}),n(r,!0)&&this.chart.redraw())};gi.prototype.tooltipFormatter=function(t){var i=this;return t=t.replace("{point.change}",(i.change>0?"+":"")+h.numberFormat(i.change,n(i.series.tooltipOptions.changeDecimals,2))),th.apply(this,[t])};tt(w.prototype,"render",function(n){this.chart.options._stock&&this.xAxis&&(!this.clipBox&&this.animate?(this.clipBox=o(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len):this.chart[this.sharedClipKey]&&(du(this.chart[this.sharedClipKey]),this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len})));n.call(this)});e(h,{Color:ki,Point:gi,Tick:su,Renderer:nu,SVGElement:lt,SVGRenderer:fi,arrayMin:ru,arrayMax:hr,charts:yt,dateFormat:ni,error:ai,format:yr,pathAnim:kf,getOptions:hs,hasBidiBug:ts,isTouchDevice:lu,setOptions:ss,addEvent:c,removeEvent:et,createElement:pt,discardElement:uu,css:k,each:t,map:ir,merge:o,splat:li,extendClass:ri,pInt:v,svg:kt,canvas:ei,vml:!kt&&!ei,product:ge,version:no})}(),function(n){var t=n.each,f=n.pick,u=HighchartsAdapter.inArray,e=n.splat,i,r=function(n,t){this.init(n,t)};n.extend(r.prototype,{init:function(n,t){this.options=n;this.chartOptions=t;this.columns=n.columns||this.rowsToColumns(n.rows)||[];this.firstRowAsNames=f(n.firstRowAsNames,!0);this.decimalRegex=n.decimalPoint&&new RegExp("^([0-9]+)"+n.decimalPoint+"([0-9]+)$");this.rawColumns=[];this.columns.length?this.dataFound():(this.parseCSV(),this.parseTable(),this.parseGoogleSpreadsheet())},getColumnDistribution:function(){var r=this.chartOptions,e=this.options,o=[],h=function(t){return(n.seriesTypes[t||"line"].prototype.pointArrayMap||[0]).length},a=function(t){return n.seriesTypes[t||"line"].prototype.pointArrayMap},u=r&&r.chart&&r.chart.type,c=[],v=[],l=0,f,s;t(r&&r.series||[],function(n){c.push(h(n.type||u))});t(e&&e.seriesMapping||[],function(n){o.push(n.x||0)});o.length===0&&o.push(0);t(e&&e.seriesMapping||[],function(n){var t=new i,e,s=c[l]||h(u),y=r&&r.series||[],p=y[l]||{},o=a(p.type||u)||["y"];t.addColumnReader(n.x,"x");for(e in n)n.hasOwnProperty(e)&&e!=="x"&&t.addColumnReader(n[e],e);for(f=0;f<s;f++)t.hasReader(o[f])||t.addColumnReader(undefined,o[f]);v.push(t);l++});s=a(u);s===undefined&&(s=["y"]);this.valueCount={global:h(u),xColumns:o,individual:c,seriesBuilders:v,globalPointArrayMap:s}},dataFound:function(){this.options.switchRowsAndColumns&&(this.columns=this.rowsToColumns(this.columns));this.getColumnDistribution();this.parseTypes();this.parsed()!==!1&&this.complete()},parseCSV:function(){var s=this,n=this.options,r=n.csv,u=this.columns,h=n.startRow||0,c=n.endRow||Number.MAX_VALUE,i=n.startColumn||0,l=n.endColumn||Number.MAX_VALUE,f,e,o=0;r&&(e=r.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(n.lineDelimiter||"\n"),f=n.itemDelimiter||(r.indexOf("\t")!==-1?"\t":","),t(e,function(n,r){var e=s.trim(n),v=e.indexOf("#")===0,y=e==="",a;r>=h&&r<=c&&!v&&!y&&(a=n.split(f),t(a,function(n,t){t>=i&&t<=l&&(u[t-i]||(u[t-i]=[]),u[t-i][o]=n)}),o+=1)}),this.dataFound())},parseTable:function(){var n=this.options,i=n.table,u=this.columns,f=n.startRow||0,e=n.endRow||Number.MAX_VALUE,r=n.startColumn||0,o=n.endColumn||Number.MAX_VALUE;i&&(typeof i=="string"&&(i=document.getElementById(i)),t(i.getElementsByTagName("tr"),function(n,i){i>=f&&i<=e&&t(n.children,function(n,t){(n.tagName==="TD"||n.tagName==="TH")&&t>=r&&t<=o&&(u[t-r]||(u[t-r]=[]),u[t-r][i-f]=n.innerHTML)})}),this.dataFound())},parseGoogleSpreadsheet:function(){var h=this,n=this.options,e=n.googleSpreadsheetKey,u=this.columns,f=n.startRow||0,o=n.endRow||Number.MAX_VALUE,t=n.startColumn||0,s=n.endColumn||Number.MAX_VALUE,i,r;e&&jQuery.ajax({dataType:"json",url:"https://spreadsheets.google.com/feeds/cells/"+e+"/"+(n.googleSpreadsheetWorksheet||"od6")+"/public/values?alt=json-in-script&callback=?",error:n.error,success:function(n){for(var l=n.feed.entry,c,y=l.length,a=0,v=0,e=0;e<y;e++)c=l[e],a=Math.max(a,c.gs$cell.col),v=Math.max(v,c.gs$cell.row);for(e=0;e<a;e++)e>=t&&e<=s&&(u[e-t]=[],u[e-t].length=Math.min(v,o-f));for(e=0;e<y;e++)c=l[e],i=c.gs$cell.row-1,r=c.gs$cell.col-1,r>=t&&r<=s&&i>=f&&i<=o&&(u[r-t][i-f]=c.content.$t);h.dataFound()}})},trim:function(n,t){return typeof n=="string"&&(n=n.replace(/^\s+|\s+$/g,""),t&&/^[0-9\s]+$/.test(n)&&(n=n.replace(/\s/g,"")),this.decimalRegex&&(n=n.replace(this.decimalRegex,"$1.$2"))),n},parseTypes:function(){for(var t=this.columns,n=t.length;n--;)this.parseColumn(t[n],n)},parseColumn:function(n,t){var r=this.rawColumns,f=this.columns,i=n.length,o,s,h,v,b=this.firstRowAsNames,a=u(t,this.valueCount.xColumns)!==-1,c,k=[],y,p=this.chartOptions,l,d=this.options.columnTypes||[],w=d[t],g=a&&(p&&p.xAxis&&e(p.xAxis)[0].type==="category"||w==="string");for(r[t]||(r[t]=[]);i--;)o=k[i]||n[i],h=this.trim(o),v=this.trim(o,!0),s=parseFloat(v),r[t][i]===undefined&&(r[t][i]=h),g||i===0&&b?n[i]=h:+v===s?(n[i]=s,s>31536e6&&w!=="float"?n.isDatetime=!0:n.isNumeric=!0,n[i+1]!==undefined&&(l=s>n[i+1])):(c=this.parseDate(o),a&&typeof c=="number"&&!isNaN(c)&&w!=="float"?(k[i]=o,n[i]=c,n.isDatetime=!0,n[i+1]!==undefined&&(y=c>n[i+1],y!==l&&l!==undefined&&(this.alternativeFormat?(this.dateFormat=this.alternativeFormat,i=n.length,this.alternativeFormat=this.dateFormats[this.dateFormat].alternative):n.unsorted=!0),l=y)):(n[i]=h===""?null:h,i!==0&&(n.isDatetime||n.isNumeric)&&(n.mixed=!0)));if(a&&n.mixed&&(f[t]=r[t]),a&&l&&this.options.sort)for(t=0;t<f.length;t++)f[t].reverse(),b&&f[t].unshift(f[t].pop())},dateFormats:{"YYYY-mm-dd":{regex:/^([0-9]{4})[\-\/\.]([0-9]{2})[\-\/\.]([0-9]{2})$/,parser:function(n){return Date.UTC(+n[1],n[2]-1,+n[3])}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(n){return Date.UTC(+n[3],n[2]-1,+n[1])},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(n){return Date.UTC(+n[3],n[1]-1,+n[2])}},"dd/mm/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(n){return Date.UTC(+n[3]+2e3,n[2]-1,+n[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(n){return Date.UTC(+n[3]+2e3,n[1]-1,+n[2])}}},parseDate:function(n){var e=this.options.parseDate,r,u,i,f=this.options.dateFormat||this.dateFormat,t;if(e)r=e(n);else if(typeof n=="string"){if(f)i=this.dateFormats[f],t=n.match(i.regex),t&&(r=i.parser(t));else for(u in this.dateFormats)if(i=this.dateFormats[u],t=n.match(i.regex),t){this.dateFormat=f=u;this.alternativeFormat=i.alternative;r=i.parser(t);break}t||(t=Date.parse(n),typeof t=="object"&&t!==null&&t.getTime?r=t.getTime()-t.getTimezoneOffset()*6e4:typeof t!="number"||isNaN(t)||(r=t-new Date(t).getTimezoneOffset()*6e4))}return r},rowsToColumns:function(n){var i,u,t,f,r;if(n)for(r=[],u=n.length,i=0;i<u;i++)for(f=n[i].length,t=0;t<f;t++)r[t]||(r[t]=[]),r[t][i]=n[i][t];return r},parsed:function(){if(this.options.parsed)return this.options.parsed.call(this,this.columns)},getFreeIndexes:function(n,t){for(var r,u=[],e=[],f,i=0;i<n;i=i+1)u.push(!0);for(r=0;r<t.length;r=r+1)for(f=t[r].getReferencedColumnIndexes(),i=0;i<f.length;i=i+1)u[f[i]]=!1;for(i=0;i<u.length;i=i+1)u[i]&&e.push(i);return e},complete:function(){var e=this.columns,o,s=this.options,c,p,r,l,a,t,v,f=[],n,h,y,w;if(s.complete||s.afterComplete){for(r=0;r<e.length;r++)this.firstRowAsNames&&(e[r].name=e[r].shift());for(c=[],h=this.getFreeIndexes(e.length,this.valueCount.seriesBuilders),t=0;t<this.valueCount.seriesBuilders.length;t++)n=this.valueCount.seriesBuilders[t],n.populateColumns(h)&&f.push(n);while(h.length>0){for(n=new i,n.addColumnReader(0,"x"),w=u(0,h),w!==-1&&h.splice(w,1),r=0;r<this.valueCount.global;r++)n.addColumnReader(undefined,this.valueCount.globalPointArrayMap[r]);n.populateColumns(h)&&f.push(n)}if(f.length>0&&f[0].readers.length>0&&(y=e[f[0].readers[0].columnIndex],y!==undefined&&(y.isDatetime?o="datetime":y.isNumeric||(o="category"))),o==="category")for(t=0;t<f.length;t++)for(n=f[t],a=0;a<n.readers.length;a++)n.readers[a].configName==="x"&&(n.readers[a].configName="name");for(t=0;t<f.length;t++){for(n=f[t],p=[],l=0;l<e[0].length;l++)p[l]=n.read(e,l);c[t]={data:p};n.name&&(c[t].name=n.name);o==="category"&&(c[t].turboThreshold=0)}v={series:c};o&&(v.xAxis={type:o});s.complete&&s.complete(v);s.afterComplete&&s.afterComplete(v)}}});n.Data=r;n.data=function(n,t){return new r(n,t)};n.wrap(n.Chart.prototype,"init",function(t,i,r){var u=this;i&&i.data?n.data(n.extend(i.data,{afterComplete:function(f){var e,o;if(i.hasOwnProperty("series"))if(typeof i.series=="object")for(e=Math.max(i.series.length,f.series.length);e--;)o=i.series[e]||{},i.series[e]=n.merge(o,f.series[e]);else delete i.series;i=n.merge(f,i);t.call(u,i,r)}}),i):t.call(u,i,r)});i=function(){this.readers=[];this.pointIsArray=!0};i.prototype.populateColumns=function(n){var i=this,r=!0;return t(i.readers,function(t){t.columnIndex===undefined&&(t.columnIndex=n.shift())}),t(i.readers,function(n){n.columnIndex===undefined&&(r=!1)}),r};i.prototype.read=function(n,i){var u=this,e=u.pointIsArray,f=e?[]:{},r;return t(u.readers,function(t){var r=n[t.columnIndex][i];e?f.push(r):f[t.configName]=r}),this.name===undefined&&u.readers.length>=2&&(r=u.getReferencedColumnIndexes(),r.length>=2&&(r.shift(),r.sort(),this.name=n[r.shift()].name)),f};i.prototype.addColumnReader=function(n,t){this.readers.push({columnIndex:n,configName:t});t==="x"||t==="y"||t===undefined||(this.pointIsArray=!1)};i.prototype.getReferencedColumnIndexes=function(){for(var i=[],t,n=0;n<this.readers.length;n=n+1)t=this.readers[n],t.columnIndex!==undefined&&i.push(t.columnIndex);return i};i.prototype.hasReader=function(n){for(var i,t=0;t<this.readers.length;t=t+1)if(i=this.readers[t],i.configName===n)return!0}}(Highcharts),function(n){var t;(function(n){var t=function(){function n(){}return n.prototype.attachPlugin=function(){var n=this;$.each($("[data-highchartsinvestorrelations]"),function(){n.addChartTo($(this))})},n.prototype.addChartTo=function(n){n.highcharts("StockChart",{data:{decimalPoint:",",table:document.getElementById(n.data("highchartsinvestorrelations")),firstRowAsNames:!1,startRow:1},colors:["#12A881","#14B79A","#A26698","#B486AB","#C9A9C4","#F79552","#F9AD77","#FDC79E","#0980B0","#4398C2","#83B3D4","#F26657","#F58B77","#F9AE9C","#F06698","#F38CB0","#F7B1C7"],scrollbar:{enabled:!1},navigator:{enabled:!1},chart:{backgroundColor:"white",borderWidth:0,height:160,width:$("#js-im-this-wide").width()},exporting:{enabled:!1},credits:{enabled:!1},yAxis:{gridLineColor:"transparent",minorGridLineColor:"transparent",minorTickInterval:"auto",offset:10,labels:{align:"left",x:0,y:6},opposite:!0},xAxis:{type:"datetime"},series:[{name:"Skandiabanken ASA",type:"area"}],plotOptions:{area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"rgba(20, 183, 154, 0.5)"],[1,"rgba(18, 168, 129, 0.5)"]]},lineColor:"#008763",tooltip:{valueDecimals:2}}},rangeSelector:{enabled:!1,inputEnabled:!1}})},n}();n.HighchartsInvestorRelations=t})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(t){var i=function(){function t(){}return t.prototype.attachPlugin=function(){this.startAbTest()},t.prototype.startAbTest=function(){var t=$("[data-exp-code]").data("exp-code"),i=$("[data-exp-version]").data("exp-version");n.plugins.WebStatistics.trackExperiment(t,i)},t}();t.CmsAbExperiment=i})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(t){var i=function(){function t(){}return t.prototype.attachPlugin=function(){var t=this;$("input[data-amountinputhelper-integer='true']").on("change",function(){var i=$("#"+$(this).attr("data-amountinputhelper-fractionref")),t=new n.lib.Amount($(this).val());$(this).val(t.integerPart);t.fractionPart!=null&&i.val(t.fractionPart)});$("input[data-amountinputhelper-integer='true']").on("keyup",function(i){var r=$(this).val(),u,e,f;r[0]!=0&&r.indexOf(",")<0&&(u=new n.lib.Amount(r),r!=u.integerPart&&(e=r.length-this.selectionStart,f=u.integerPart.length-e,t.wasBackspacePressed(i)&&t.tryingToDeleteSpace(u,this.selectionStart)&&f>0&&f--,$(this).val(u.integerPart),this.selectionStart=this.selectionEnd=f))});$("input[data-amountinputhelper-fraction='true']").on("change",function(){var n=$(this).val(),i=t.formatFraction(n);i!=n&&$(this).val(i)});$("input[data-amountinputhelper-currency='true']").on("keyup",function(i){var o,u;if(i.which!==9&&i.which!==16&&!i.shiftKey){var r=$(this).val(),f=new n.lib.Amount(r),e=f.integerPart;r.indexOf(",")>=0&&f.isValidIntegerPart()&&(e+=","+r.split(",")[1]);o=r.length-this.selectionStart;u=e.length-o;t.wasBackspacePressed(i)&&t.tryingToDeleteSpace(f,this.selectionStart)&&u>0&&u--;$(this).val(e);this.selectionStart=this.selectionEnd=u}});$("input[data-amountinputhelper-currency='true']").on("change",function(){var t=$(this),i=t.val(),r=new n.lib.Amount(i);t.val(r.toString())})},t.prototype.tryingToDeleteSpace=function(n,t){var i=n.integerPart.substr(t,1);return i==" "},t.prototype.wasBackspacePressed=function(n){return n.which==8},t.prototype.formatFraction=function(n){return n.isEmpty()?"00":n.isNumber()?n.length===1?"0"+n:n.slice(0,2):n},t}();t.AmountInputHelper=i})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t=function(){function n(){}return n.prototype.attachPlugin=function(){var n=this;$("input[data-numericinputhelper='true']").on("keypress",function(t){t.which!=13&&(n.isNumericKey(t)||t.preventDefault())})},n.prototype.isNumericKey=function(n){var t=n.keyCode||n.charCode;return!n.shiftKey&&(t==8||t==9||t==33||t==35||t==36||t==37||t==39||t==127)||t>=48&&t<=57?!0:!1},n}();n.NumericInputHelper=t})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t=function(){function n(){}return n.prototype.attachPlugin=function(){var n=this;$("input[data-decimalinputhelper='true']").on("keypress",function(t){t.which!=13&&(n.isValidKey(t)||t.preventDefault())})},n.prototype.isValidKey=function(n){var t=n.keyCode||n.charCode;return!n.shiftKey&&(t==8||t==9||t==33||t==35||t==36||t==37||t==39||t==44||t==46||t==127)||t>=48&&t<=57?!0:!1},n}();n.DecimalInputHelper=t})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t=function(){function n(){}return n.prototype.attachPlugin=function(){$(document).ready(function(){$("[data-fastclickenabler]").each(function(n,t){FastClick.attach(t)})})},n}();n.FastClickEnabler=t})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={}));(new skbn.plugins.FastClickEnabler).attachPlugin(),function(n){var t;(function(t){var i=function(){function t(){this.menuIsOpen=!1;this.mobileMenuIsOpen=!1;this.desktopMenuIsOpen=!1}return t.prototype.attachPlugin=function(){},t.prototype.close=function(){this.menuIsOpen&&this.closeMenu()},t.prototype.closeMenu=function(){var t=(new Date).getTime();t<this.timeWhenClickStarted+1e3||(this.historyApiClose(),this.mobileMenuIsOpen=!1,this.desktopMenuIsOpen=!1,$("#main-menu__mask").removeClass("active"),$("#outer-space").removeClass("main-menu--prevent-scroll"),$("#outer-wrap").removeClass("outer-wrap--main-menu-is-active"),$("#inner-wrap").css("min-height",""),$(".header .open").removeClass("open"),$(".header .active").removeClass("active").attr("aria-expanded","false"),$(".main-menu__level--two").height(""),$(".main-menu__list--tertiary").height(""),n.plugins.ProfileMenu.prototype.close())},t.prototype.historyApiOpen=function(){},t.prototype.historyApiClose=function(){},t.prototype.makeLinksReplaceCurrentHistory=function(){},t.prototype.doMainMenu=function(){var t=this;this.makeLinksReplaceCurrentHistory();this.highlightCurrentUriInMenu();$("#main-menu__mask").click(function(n){n.preventDefault();t.closeMenu();$(".header__main-menu").focus()});$(".main-menu__link--primary.main-menu__link--more").click(function(i){var f,e,r,u;i.preventDefault();n.plugins.ProfileMenu.prototype.close();f=n.lib.Breakpoint.isCurrentBreakpointLargerThanPhone();e=$(this).hasClass("active");$(".main-menu .open").removeClass("open");$(".main-menu .active").removeClass("active").attr("aria-expanded","false");$(".main-menu__level--two").height("");$(".main-menu__list--tertiary").height("");e?f&&t.closeMenu():(r=$(this).next(".main-menu__level--two"),r.addClass("open"),$(this).addClass("active").attr("aria-expanded","true"),u=$(this).parent().find(".main-menu__content-area .box").first(),u.length!=0&&u.outerHeight()<r.outerHeight()&&u.outerHeight(r.outerHeight()),r.find(".main-menu__link--secondary.main-menu__link--more.current").click(),f&&($("#main-menu__mask").addClass("active"),t.menuIsOpen=!0,t.desktopMenuIsOpen=!0),t.historyApiOpen())});$(".main-menu__link--secondary.main-menu__link--more").click(function(t){var u,f;t.preventDefault();var e=n.lib.Breakpoint.isCurrentBreakpointLargerThanPhone(),o=$(this).hasClass("active"),i=$(this).parents(".main-menu__level--two"),r=$(this).next(".main-menu__level--three");i.find(".open").removeClass("open");i.find(".active").removeClass("active").attr("aria-expanded","false");i.height("");r.children(".main-menu__list").height("");o||(r.addClass("open"),$(this).addClass("active").attr("aria-expanded","true"),e&&(u=r.height(),f=i.height(),u>f?i.height(u):r.children(".main-menu__list").height(f)))});$(".main-menu__link--more").click(function(){t.ensureMenuHasEnoughHeight()});this.setUpCloseMenuWhenTabbingOutside();this.setUpMobileMenu()},t.prototype.setUpCloseMenuWhenTabbingOutside=function(){var n=this,t=$("header.header");$(document).on("focusin",function(i){n.desktopMenuIsOpen&&!t[0].contains(i.target)&&(i.preventDefault(),n.closeMenu())})},t.prototype.preventAccidentalClose=function(){this.timeWhenClickStarted=(new Date).getTime()},t.prototype.setUpMobileMenu=function(){var n=this,r=$(".header__main-menu"),t,i;$(".menu-header__close").click(function(t){t.preventDefault();n.closeMenu();r.focus()});t=$("nav.main-menu");i=t.find("a").first();$(document).on("focusin",function(r){n.mobileMenuIsOpen&&!t[0].contains(r.target)&&(r.preventDefault(),i.focus())});$(".header__main-menu").click(function(t){t.preventDefault();n.preventAccidentalClose();$("#outer-space").addClass("main-menu--prevent-scroll");$(this).hasClass("active")||(n.historyApiOpen(),$(".main-menu").addClass("open"),$(this).addClass("active").attr("aria-expanded","true"),$("#outer-wrap").addClass("outer-wrap--main-menu-is-active"),$("#main-menu__mask").addClass("active"),n.menuIsOpen=!0,n.mobileMenuIsOpen=!0,$(".main-menu__link--more.current").addClass("active").attr("aria-expanded","true"),$(".main-menu__link--more.current").siblings(".main-menu__level--two, .main-menu__level--three").addClass("open"),$(".main-menu__level--one").focus());n.ensureMenuHasEnoughHeight()})},t.prototype.ensureMenuHasEnoughHeight=function(){$("#inner-wrap").css("min-height",$(".main-menu").height())},t.prototype.highlightCurrentUriInMenu=function(){var n=this.getCurrentMenuLink();n!=null&&(n.addClass("current"),n.parents(".main-menu__level").siblings(".main-menu__link").addClass("current"))},t.prototype.getCurrentMenuLink=function(){var i=this,n=null,t=document.location.pathname.trimEnd("/");return t==""?null:($(".main-menu").find("a.main-menu__link").each(function(){var r=$(this).attr("href").trimEnd("/");return i.endsWith(r,t)?(n=$(this),!1):!0}),n)},t.prototype.endsWith=function(n,t){return n.toUpperCase().indexOf(t.toUpperCase(),n.length-t.length)!==-1},t}();t.MainMenu=i})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(t){var i=function(){function t(){this.profileMenuIsOpen=!1;this.mobileProfileMenuIsOpen=!1;this.desktopProfileMenuIsOpen=!1}return t.prototype.attachPlugin=function(){},t.prototype.close=function(){this.profileMenuIsOpen&&this.closeProfileMenu()},t.prototype.closeProfileMenu=function(){this.profileMenuIsOpen=!1;this.desktopProfileMenuIsOpen=!1;this.mobileProfileMenuIsOpen=!1;$(".header__profile-menu").removeClass("active").attr("aria-expanded","false");$("#inner-wrap").css("min-height","");$("#outer-space").removeClass("main-menu--prevent-scroll");$("#outer-wrap").removeClass("outer-wrap--profile-menu-is-active");$("#main-menu__mask").removeClass("active").attr("aria-expanded","false");$(".profile-menu").removeClass("open");n.plugins.MainMenu.prototype.close()},t.prototype.openProfileMenu=function(){n.plugins.MainMenu.prototype.close();this.profileMenuIsOpen=!0;var t=n.lib.Breakpoint.isCurrentBreakpointLargerThanPhone();$(".header__profile-menu").addClass("active").attr("aria-expanded","true");$(".profile-menu").addClass("open");$("#main-menu__mask").addClass("active").attr("aria-expanded","true");t?this.desktopProfileMenuIsOpen=!0:(this.mobileProfileMenuIsOpen=!0,$("#outer-wrap").addClass("outer-wrap--profile-menu-is-active"),$("#outer-space").addClass("main-menu--prevent-scroll"),$("#inner-wrap").css("min-height",$(".profile-menu").height()))},t.prototype.doProfileMenu=function(){var n=this;$("#main-menu__mask").click(function(t){t.preventDefault();n.closeProfileMenu()});$(".header__profile-menu").click(function(t){t.preventDefault();n.profileMenuIsOpen?n.closeProfileMenu():n.openProfileMenu()});this.setUpCloseMenuWhenTabbingOutside();this.setUpMobileMenu()},t.prototype.setUpCloseMenuWhenTabbingOutside=function(){var n=this,t=$("header.header");$(document).on("focusin",function(i){n.desktopProfileMenuIsOpen&&!t[0].contains(i.target)&&(i.preventDefault(),n.closeProfileMenu())})},t.prototype.setUpMobileMenu=function(){var t=this,n,i;$(".profile-menu__close").click(function(n){n.preventDefault();t.closeProfileMenu();$(".header__profile-menu").focus()});n=$("nav.profile-menu");i=n.find("a").first();$(document).on("focusin",function(r){t.mobileProfileMenuIsOpen&&!n[0].contains(r.target)&&(r.preventDefault(),i.focus())});$("#outer-wrap").on("transitionend webkitTransitionEnd oTransitionEnd",function(t){t.target==this&&n.hasClass("open")&&$(".profile-menu__ul").focus()})},t}();t.ProfileMenu=i})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(t){var i=function(){function t(){}return t.prototype.attachPlugin=function(){$("[data-sectionexpander-section]:not([data-sectionexpander-section='showonload'])").hide();$(document).on("click","[data-sectionexpander-toggle]",this.click());$(document).on("keyup","[data-sectionexpander-toggle]",this.click())},t.prototype.click=function(){var t=this;return function(i){var e,o,s;if(!$(i.target).data("sectionexpander-ignore")&&(i.type!=="keyup"||i.which===13)&&(i.type!=="keyup"||i.which!==13||i.target.tagName!=="A"||!i.target.href)){i.preventDefault();var r=$(this),u=t.getSection(r).first(),f=u.is(":hidden"),h=r.data("sectionexpander-toggle-mod");switch(h){case"exclusive":e=$([]);$("[data-sectionexpander-toggle-mod='exclusive'].active").not(r).each(function(){var n=$(this),i=t.getSection(n);e=i;t.toggle(n,i,!1)});f&&e.promise().done(function(){n.lib.AutoScroll.scrollToOnPhone(r)});break;case"hide":u.siblings("[data-sectionexpander-section]").each(function(){t.hideSection($(this))});break;default:f&&n.lib.AutoScroll.scrollToOnPhone(r)}t.toggle(r,u,f);o=r.is(":hidden");s=$("[data-sectionexpander-toggle]");s.each(function(n,i){var r=$(i),e=t.getSection(r).first();e&&e[0]===u[0]&&(f?(r.addClass("active"),r.attr("aria-expanded","true")):(r.removeClass("active"),r.attr("aria-expanded","false")),o&&r.focus())})}}},t.prototype.toggle=function(n,t,i){i?(n.addClass("active"),n.attr("aria-expanded","true"),this.showSection(t)):(n.removeClass("active"),n.attr("aria-expanded","false"),this.hideSection(t))},t.prototype.hideSection=function(n){var t=n.data("sectionexpander-animation");t=="none"?n.hide():n.velocity("slideUp",{duration:200});n.attr("aria-expanded","false")},t.prototype.showSection=function(n){var t=n.data("sectionexpander-animation");t=="none"?n.show():n.velocity("slideDown",{duration:200});n.attr("aria-expanded","true");n.focus()},t.prototype.getSection=function(n){var t=n.data("sectionexpander-toggle");switch(t){case"next":return n.nextAll("[data-sectionexpander-section]");case"parent":return n.closest("[data-sectionexpander-section]");case"accordion":return n.parent().nextAll("[data-sectionexpander-section]");case"child":return n.children("[data-sectionexpander-section]");case"previous":return n.prevAll("[data-sectionexpander-section]");case"id":return $("#"+n.data("sectionexpander-target"));default:return $("#"+t)}},t}();t.SectionExpander=i})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(t){var i=function(){function t(){}return t.prototype.handleClickOnElement=function(n){var t=this;n.hasClass("label__info--active")||$(".label__info--active").each(function(n,i){t.toggleTooltip($(i))});t.toggleTooltip(n)},t.prototype.toggleTooltip=function(t){var i=$("#"+t.data("tooltiptoggler-for"));i.slideToggle(200);t.toggleClass("label__info--active");t.toggleClass("active");t.hasClass("active")&&i.promise().done(function(){n.lib.AutoScroll.scrollToOnPhone(t)})},t.prototype.attachPlugin=function(){var n=this;$("[data-tooltiptoggler-for]").on("click",function(){return n.handleClickOnElement($(this)),!1});$("[data-tooltiptoggler-for]").each(function(){var t=$(this).data("tooltiptoggler-for"),i=this;$("#"+t).on("click",function(){n.handleClickOnElement($(i))})});$(".tooltip").on("click",function(n){n.preventDefault()})},t.prototype.detachPlugin=function(){$("[data-tooltiptoggler-for]").off("click");$("[data-tooltiptoggler-for]").each(function(){var n=$(this).data("tooltiptoggler-for");$("#"+n).off("click")})},t}();t.TooltipToggler=i})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(t){var i=!1,r=function(){function t(){}return t.prototype.SelectValue=function(n,t){var i=$("#"+n),r="";i.children("option").each(function(){if($(this).html().indexOf(t)>=0){r=$(this).val();return}});i.val(r);i.skbselectmenu("refresh");i.trigger("change")},t.prototype.GetSelectedName=function(n){var t=$("#"+n);return t.children("option:selected").html()},t.prototype.getContentParts=function(n){var t=n.split("|");return t.length===3?{title:t[0].trim(),bottomRight:t[1].trim(),bottomLeft:t[2].trim()}:t.length===2?{title:t[0].trim(),bottomRight:t[1].trim(),bottomLeft:""}:null},t.prototype.formatContent=function(n){var t="",r=n.split("|").length,i=this.getContentParts(n);return i!=null&&r===3?(t+="<span><strong> "+i.title+" <\/strong>",t+='<small><span class="fl pr--"> '+i.bottomLeft+" <\/span>",t+='<span class="block overflow-auto no-wrap ellipsis text-align--right"> '+i.bottomRight+" <\/span><\/small><\/span>"):i!=null&&r===2?(t+='<div style="margin-top:10px"><span class="fl"><strong> '+i.title+" <\/strong><\/span>",t+='<span class="fr"><small> '+i.bottomRight+" <\/small><\/span><\/div>"):t=n,t},t.prototype.updateEnhancedSelectWithStyleFromOriginal=function(n){n.skbselectmenu("widget").addClass(n.attr("class"));String.prototype.isNullOrEmpty(n.attr("readonly"))||n.skbselectmenu("option","disabled",!0)},t.prototype.updateSelectLabelForAttribute=function(n){var t=n.attr("id"),i=n.skbselectmenu("widget").find("ui-selectmenu-button");$("label[for="+t+"]").attr("for",i.attr("id"))},t.prototype.registerCustomWidget=function(){var n=this;$.widget("custom.skbselectmenu",$.ui.selectmenu,{_setText:function(t,i){var r,u;this.element.data("selectmenu-countrycode")===!0&&(i==="|"?i=this.element.data("selectmenu-countrycode-defaulttext"):t===this.buttonText?(r=i.split("|"),i=r[0]):(r=i.split("|"),i=r[1]+": "+r[0]),$.ui.selectmenu.prototype._setText.apply(this,[t,i]));i?(u=n.formatContent(i),t.html(u),$("#screenreader-live-assertive").html(u)):t.html("&#160;")},_setAria:function(n){var t=this.menuItems.eq(n.index).attr("id");this.button.attr({"aria-labelledby":this.ids.label+" "+t,"aria-activedescendant":t});this.menu.attr("aria-activedescendant",t)},refresh:function(){if(this.element.find("option").length!=0)if(this._super(),this.element.data("selectmenu-countrycode")===!0){var n=this.element.find("option[value='"+this.element.val()+"']");this._setText(this.buttonText,n.text())}else this._setText(this.buttonText,this._getSelectedItem().html())},open:function(n){this._super(n);this.menuInstance.focus(new $.Event("focus"),this._getSelectedItem())},_drawMenu:function(n){this._super(n);var t=this.menuInstance.focus;this.menuInstance.focus=function(n,i){t.call(this,n,i);$("#screenreader-live-assertive").html("reader "+i.html())};this.element.data("selectmenu-showdisabledoptions")&&this.element.data("selectmenu-showdisabledoptions").toLowerCase()==="true"&&this.menuInstance.element.addClass("ui-menu--show-disabled")},_drawButton:function(){this._super();this.ids.label=this.ids.element+"-label";this.label.attr("id",this.ids.label)},_resizeMenu:function(){this._position();this._super()},_buttonEvents:{click:"_toggle",keydown:function(n){var t=!0;switch(n.keyCode){case $.ui.keyCode.TAB:case $.ui.keyCode.ESCAPE:this.close(n);t=!1;break;case $.ui.keyCode.ENTER:this.isOpen?this._selectFocusedItem(n):this._toggle(n);break;case $.ui.keyCode.UP:n.altKey?this._toggle(n):this._move("prev",n);break;case $.ui.keyCode.DOWN:n.altKey?this._toggle(n):this._move("next",n);break;case $.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(n):this._toggle(n);break;case $.ui.keyCode.LEFT:this._move("prev",n);break;case $.ui.keyCode.RIGHT:this._move("next",n);break;case $.ui.keyCode.HOME:case $.ui.keyCode.PAGE_UP:this._move("first",n);break;case $.ui.keyCode.END:case $.ui.keyCode.PAGE_DOWN:this._move("last",n);break;default:this.menu.trigger(n);t=!1}t&&n.preventDefault()}}})},t.prototype.invokeNamespacedJsFunction=function(n,t){for(var r=window,u=n.split("."),i=0;i<u.length;i++)r=r[u[i]];r(t)},t.prototype.executeChangeCallbackIfSet=function(n){var t=$(n).data("selectmenu-change");String.prototype.isNullOrEmpty(t)||this.invokeNamespacedJsFunction(t,$(n))},t.prototype.attachPlugin=function(){this.attachPluginInNode(document.getElementsByTagName("body")[0])},t.prototype.attachPluginInNode=function(t){var u=this,r,f;u.registerCustomWidget();r=$("select[data-selectmenu='true'], select[data-selectmenu='True']",t);f=r.filter("select[data-val='true']");r.each(function(n,t){var i="selectList"+n;$("#"+i).length||$(t).after("<div class='ui-selectmenu-inline' id="+i+"><\/div>")});r.skbselectmenu({change:function(){u.executeChangeCallbackIfSet(this);$(this).trigger("change")}});r.each(function(n,t){var i="selectList"+n;$(t).skbselectmenu("option","appendTo","#"+i)});f.skbselectmenu({change:function(){u.executeChangeCallbackIfSet(this);var n=$(this);n.trigger("change");n.parents("form").validate().element(n)}});$(document).on("mouseup",".ui-selectmenu-button",function(){n.lib.AutoScroll.scrollToOnPhone(this)});$("form").submit(function(n){var i=$(this),t=$("input[type=submit]:focus");t&&t.hasClass("cancel")||$.each(f,function(){var t=$(this).attr("id");$("#"+t+"-button").is(":visible")&&(i.validate().element("select#"+t)||n.preventDefault())})});$.each(r,function(){u.updateEnhancedSelectWithStyleFromOriginal($(this))});r.removeClass("invisibleUntilJavascriptLoaded");i||($(document).ready(function(){$(window).on("resize",function(){$("select[data-selectmenu='true'], select[data-selectmenu='True']").skbselectmenu("close")})}),i=!0)},t}();t.SelectMenu=r})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t=function(){function n(){}return n.prototype.attachPlugin=function(){var t=this,n=this;$("#ShowConfirmCancel").click(function(t){t.preventDefault();n.showDialog("#ConfirmCancel")});$("#ShowConfirmSubmit").click(function(i){t.showConfirmSubmit()&&(i.preventDefault(),n.showDialog("#ConfirmSubmit"))});$("#Back").click(function(t){t.preventDefault();n.hideDialog()});$("#BackFromConfirmSubmit").click(function(t){t.preventDefault();n.hideDialog()});$("#main-menu__mask").click(function(){n.hideDialog()});$("#ShowConfirmCancel2").click(function(t){t.preventDefault();n.showDialog("#ConfirmCancel2")});$("#Back2").click(function(t){t.preventDefault();n.hideDialog()})},n.prototype.showDialog=function(n){$("#main-menu__mask").addClass("active");$("#main-menu__mask").attr("title",$("#Back").text());$(n).css("position","relative");$(n).css("z-index","3");$(n).slideDown(200);$("#FormActions").hide()},n.prototype.hideDialog=function(){$("#main-menu__mask").removeClass("active");$("#main-menu__mask").attr("title","Lukk meny");$("#ConfirmCancel").is(":visible")||$("#ConfirmCancel2").is(":visible")?(this.hideDialogById("#ConfirmCancel"),this.hideDialogById("#ConfirmCancel2")):$("#ConfirmSubmit").is(":visible")?this.hideDialogById("#ConfirmSubmit"):$(".customdialog").is(":visible")&&this.hideCustomDialog();$("#FormActions").show()},n.prototype.hideDialogById=function(n){$(n).css("position","inherit");$(n).css("z-index","");$(n).hide()},n.prototype.hideCustomDialog=function(){$(".customdialog").css("position","inherit");$(".customdialog").css("z-index","");$(".customdialog").hide()},n.prototype.showConfirmSubmit=function(){return $("#ShowConfirmSubmit").data("show-confirm-submit")&&this.isFormValid()},n.prototype.isFormValid=function(){return $("form").valid()?$("[aria-invalid='true']").length===0:!1},n}();n.ConfirmCancel=t})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t=function(){function n(){}return n.prototype.attachPlugin=function(){var n=this;$("iframe[data-responsiveiframe]").each(function(t,i){var r=$(i),f;if(r.is(":visible")||$(this).data("responsiveiframe")=="preload"){var e=r.attr("id"),o=r.attr("name"),u=function(t){n.resizeIframe(t,e,o)};window.addEventListener?window.addEventListener("message",u,!1):window.attachEvent("onmessage",u);f=r.attr("data-src");r.attr("src",f)}})},n.prototype.resizeIframe=function(n,t,i){var r,u;try{r=JSON.parse(n.data);r.name&&r.height&&r.name===i&&(u=$("#"+t),u.css("height",r.height),u.css("width","100%"))}catch(f){}},n}();n.ResponsiveIframe=t})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t=function(){function n(){}return n.prototype.attachPlugin=function(){var n=this;$("[data-question-url]").each(n.attach());$("div[id^='cms-']").on("cmscontentloaded",function(){$("[data-question-url]").each(n.attach())})},n.prototype.attach=function(){return function(n,t){var u;if(!$(t).hasClass("attached")){$(t).addClass("attached");var f=$(t).data("question-url")+"feedback",r=$.Deferred().resolve().promise(),a=window.location.href.replace(window.location.hash,""),o=null,v=$(t).find(".button.yes"),y=$(t).find(".button.no"),s=$(t).find(".thankyou"),e=$(t).find(".label"),h=$(t).find(".basicFeedback"),i=$(t).find(".detailedFeedback"),p=i.find("#hjalp1-bedre"),c=Math.floor(Math.random()*1e3)+1;p.attr("id","hjalp1-bedre-"+c);e.attr("for","hjalp1-bedre-"+c);var w=i.find(".formfield__input"),b=i.find(".button.submit"),k=i.find(".button.cancel"),l=$("[data-cmsdomain]").data("cmsdomain");l!=undefined&&(f="https://"+l+f);u=function(n,t){var i={WasHelpful:n,Url:a,Feedback:t,Id:o};return $.post(f,i,function(n){o=n.Id})};v.click(function(n){n.preventDefault();h.slideUp("fast");s.slideDown("fast");r=u(!0,null)});y.click(function(n){n.preventDefault();h.slideUp("fast");i.slideDown("fast");r=u(!1,null);e.focus()});b.click(function(n){n.preventDefault();i.find("#errorBox")&&i.find("#errorBox").remove();var t=$(this).prev().val();t.replace(/^\s+/g,"").length?(i.slideUp("fast"),s.slideDown("fast"),r.always(function(){r=u(!1,w.val())})):($(this).prev().attr("class","formfield__input"),$(this).prev().after('<div id="errorBox" for="input-pay-to-number" class="formfield__input--error box box--warning box--previous box--small">Gi oss en pekepinn<\/div>'),$(this).prev().prev().is("input")&&$(this).prev().prev().focus())});k.click(function(n){n.preventDefault();$(t).slideUp("fast")});e.click(function(n){n.preventDefault();$(n.target).is("label")&&$(this).next().focus()})}}},n}();n.FaqFeedback=t})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t=function(){function n(){}return n.prototype.attachPlugin=function(){var n=this;this.rewriteUrls();$("div[id^='cms-']").on("cmscontentloaded",function(){n.rewriteUrls()})},n.prototype.rewriteUrls=function(){var n=window.location.hostname.split(".").reverse(),t=n[1]+"."+n[0];$(document).ready(function(){$(".template__editable a[href$='.pdf']").not(":has(span.icon-text)").not(".button").filter(function(n,t){return $(t).parent().is(":not(h1,h2,h3,h4,h5,h6)")}).append("<span title='pdf' class='icon-text icon-text--file-pdf'><\/span>");$(".template__editable a[href^='http']").not("[href$='.pdf']").not("[href*='"+t+"']").not(":has(span.icon-text)").not(".button").filter(function(n,t){return $(t).parent().is(":not(h1,h2,h3,h4,h5,h6)")}).append("<span class='icon-text icon-text--external-link'><\/span>")})},n}();n.RewriteCmsContentLinks=t})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t;(function(t){var i=function(){function i(){}return i.prototype.attachPlugin=function(){this._minLoanAmount=25e3;this._maxLoanAmount=5e5;this._loanAmount=this.getValidLoanAmount();this._paymentYears=5;this._fallbackInterestRate=9.404;this.LoanCalculator=new t.LoanCalculator;this.PaymentPlanHelper=new t.PaymentPlanHelper;this.populatePaymentPeriods();var n=this.populatePaymentPlan();this.populateSummary(n);this.attachLoanAmountChange();this.attachPaymentPeriodChange()},i.prototype.isValidLoanAmount=function(){var n=this.getLoanAmount();return isNaN(n)||n<this._minLoanAmount||n>this._maxLoanAmount?!1:!0},i.prototype.getValidLoanAmount=function(){return this.isValidLoanAmount()?this.getLoanAmount():($("#loanAmount").val("150 000"),15e4)},i.prototype.getAverageNominalInterestRate=function(){var n=Number($("#AverageNominalInterestRate").val().replace(",",".").trim());return n===0?this._fallbackInterestRate:n},i.prototype.getLoanAmount=function(){return parseInt($("#loanAmount").val().replace(" ","").trim())},i.prototype.getSelectedPaymentPeriod=function(){var n=$("#paymentPeriods").val().split(":"),t=parseInt(n[0]),i=parseInt(n[1]);return{year:t,amount:i}},i.prototype.populateSummary=function(n){var i=this.getFormattedAmount(this.getLoanAmount()),t=this.getSelectedPaymentPeriod(),r=this.getFormattedAmount(Math.round(this._loanAmount+n)),u=this.getAverageNominalInterestRate().toFixed(2).replace(".",","),f="Totalpris for et bruksln p "+i+",- med "+u+" % rente over "+t.year+" r er <strong>"+r+",-<\/strong>";$("#summaryAmount").text(i+",-");$("#summaryYears").text(t.year+" r");$("#summaryMonthlyAmount").text(this.getFormattedAmount(t.amount)+",-");$("#summaryText").html(f)},i.prototype.populatePaymentPeriods=function(){var u=this.calculatePaymentPeriods(),r=$("#paymentPeriods"),t;for(r.empty(),t=0;t<u.length;t++){var i=u[t],f=Math.round(i.amount),o=i.year+" r|"+this.getFormattedAmount(f)+",- per mnd.",e;e=i.year===this._paymentYears?"<option selected='selected'><\/option>":"<option><\/option>";r.append($(e).attr("value",i.year+":"+f).text(o))}n.SelectMenu.prototype.attachPlugin();r.skbselectmenu("refresh")},i.prototype.populatePaymentPlan=function(){var n=$("#paymentPlanTableConsumerLoan"),t=this.LoanCalculator.calculatePaymentPlanForAnnuityLoan(this._paymentYears,this._loanAmount,this.getAverageNominalInterestRate(),0);return this.PaymentPlanHelper.populatePaymentPlan(n,t,!1)},i.prototype.getFormattedAmount=function(n){return n.toCurrency().split(",")[0]},i.prototype.calculatePaymentPeriods=function(){for(var t=this,i=[],u=t.LoanCalculator.calculateMonthlyInterestRate(t.getAverageNominalInterestRate()),r,n=1;n<=10;n++)r=t.LoanCalculator.calculateMonthlyPaymentForYear(n,t._loanAmount,u),i.push({year:n,amount:r});return i},i.prototype.updateAll=function(){var n=this,t;n._loanAmount=n.getValidLoanAmount();n.populatePaymentPeriods();t=n.populatePaymentPlan();n.populateSummary(t)},i.prototype.attachLoanAmountChange=function(){var n=this;$("#loanAmount").on("input",function(){n.isValidLoanAmount()&&n.updateAll()});$("#loanAmount").focusout(function(){n.isValidLoanAmount()||n.updateAll()})},i.prototype.attachPaymentPeriodChange=function(){var n=this;$("#paymentPeriods").change(function(){n._paymentYears=n.getSelectedPaymentPeriod().year;var t=n.populatePaymentPlan();n.populateSummary(t)})},i}();t.ConsumerloanCalculator=i})(t=n.financing||(n.financing={}))})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t;(function(t){var i=function(){function i(){}return i.prototype.attachPlugin=function(){this._minLoanAmount=1e5;this._maxLoanAmount=99e6;this._maxPaymentYears=30;this._maxInterestRate=15;this._minInterestRate=0;this._maxInstallmentFreeYears=10;this._minInstallmentFreeYears=0;this._paymentYears=25;this._installmentFreeYears=0;this._loanAmount=this.getLoanAmount();this._interestRate=this.getInterestRate();this.LoanCalculator=new t.LoanCalculator;this.PaymentPlanHelper=new t.PaymentPlanHelper;this.populatePaymentPeriods();var n=this.populatePaymentPlan();this.populateSummary(n);this.attachLoanTypeChange();this.attachLoanAmountChange();this.attachPaymentPeriodChange();this.attachInterestRateChange();this.attachInstallmentFreeYearsChange()},i.prototype.validateLoanAmount=function(){var n=this.getLoanAmount();return isNaN(n)||n<this._minLoanAmount||n>this._maxLoanAmount?!1:($("#loanAmountValidation").hide(),!0)},i.prototype.getLoanAmount=function(){var n=$("#loanAmount").val().replace(/\s+/g,"").trim();return parseInt(n)},i.prototype.validateInterestRate=function(){var n=this.getInterestRate();return isNaN(n)||n<this._minInterestRate||n>this._maxInterestRate?!1:($("#interestRateValidation").hide(),!0)},i.prototype.getInterestRate=function(){return parseFloat($("#interestRate").val().replace(",","."))},i.prototype.validateInstallmentFreeYears=function(){var n=this.getInstallmentFreeYears();return isNaN(n)||n<this._minInstallmentFreeYears||n>this._maxInstallmentFreeYears||n>this._paymentYears/2?!1:($("#installmentFreeYearsValidation").hide(),!0)},i.prototype.getInstallmentFreeYears=function(){return parseInt($("#installmentFreeYears").val())},i.prototype.getSelectedPaymentPeriod=function(){var n=$("#paymentPeriods").val().split(":"),t=parseInt(n[0]),i=parseInt(n[1]),r=parseInt(n[2]);return{year:t,amount:i,installmentFreeAmount:r}},i.prototype.getSelectedLoanType=function(){return $("input[name=loanType]:checked").val()},i.prototype.populateSummary=function(n){var i=this.getFormattedAmount(this.getLoanAmount()),t=this.getSelectedPaymentPeriod(),f=this.getFormattedAmount(Math.round(this._loanAmount+n)),e="Totalpris for et boligln p "+i+",- med "+this._interestRate.toFixed(2)+" % rente over "+t.year+' r er <strong class="no-wrap">'+f+",-<\/strong>",r,u,o=this.LoanCalculator.calculateEffectiveInterestRate(this._interestRate);u=this.getSelectedLoanType()==="annuity"?"Mnedlig belp":"Frste betaling";r=this._installmentFreeYears>0?this.getFormattedAmount(t.installmentFreeAmount)+",-":this.getFormattedAmount(t.amount)+",-";$("#summaryAmount").text(i+",-");$("#summaryYears").text(t.year+" r");$("#summaryAmountText").text(u);$("#summaryMonthlyAmount").text(r);$("#summaryEffectiveInterest").text("Effektiv rente: "+o.toFixed(2)+" %");$("#summaryText").html(e)},i.prototype.populatePaymentPeriods=function(){var f=this.calculatePaymentPeriods(),r=$("#paymentPeriods"),i,s;for(r.empty(),i=0;i<f.length;i++){var t=f[i],e=Math.round(t.amount),o=Math.round(t.installmentFreeAmount),u=t.year+" r|";u+=t.installmentFreeAmount>0?this.getFormattedAmount(o)+",-":this.getFormattedAmount(e)+",-";u+=this.getSelectedLoanType()==="annuity"?" per mnd.":" frste bet.";s=t.year===this._paymentYears?"<option selected='selected'><\/option>":"<option><\/option>";r.append($(s).attr("value",t.year+":"+e+":"+o).text(u))}n.SelectMenu.prototype.attachPlugin();r.skbselectmenu("refresh")},i.prototype.populatePaymentPlan=function(){var t=$("#paymentPlanTableMortgageCalculator"),n;return n=this.getSelectedLoanType()==="annuity"?this.LoanCalculator.calculatePaymentPlanForAnnuityLoan(this._paymentYears,this._loanAmount,this._interestRate,this._installmentFreeYears):this.LoanCalculator.calculatePaymentPlanForSerialLoan(this._paymentYears,this._loanAmount,this._interestRate,this._installmentFreeYears),this.PaymentPlanHelper.populatePaymentPlan(t,n,!1)},i.prototype.getFormattedAmount=function(n){return n.toCurrency().split(",")[0]},i.prototype.calculatePaymentPeriods=function(){for(var e=[],t=this._installmentFreeYears*12,r=this.LoanCalculator.calculateMonthlyInterestRate(this._interestRate),c=this._loanAmount*r,i,h,n=1+this._installmentFreeYears;n<=this._maxPaymentYears;n++){var u=0,o=0,s=n*12,f=this.getSelectedLoanType();(f==="annuity"||t>0)&&(i=this.LoanCalculator.calculateMonthlyPaymentForYear(n-this._installmentFreeYears,this._loanAmount,r),f==="annuity"&&(u=i),t>0&&(o=i-i*Math.pow(1+r,-(s-t))));f==="serial"&&(h=this._loanAmount/(s-t),u=h+c);e.push({year:n,amount:u,installmentFreeAmount:o})}return e},i.prototype.updateAll=function(){if(this.validateInput()){this._loanAmount=this.getLoanAmount();this._interestRate=this.getInterestRate();this._installmentFreeYears=this.getInstallmentFreeYears();this.populatePaymentPeriods();var n=this.populatePaymentPlan();this.populateSummary(n)}},i.prototype.validateInput=function(){var n=this.validateLoanAmount(),t=this.validateInstallmentFreeYears(),i=this.validateInterestRate();return n&&i&&t?!0:!1},i.prototype.attachLoanAmountChange=function(){var n=this;$("#loanAmount").on("input",function(){n.updateAll()});$("#loanAmount").focusout(function(){n.validateLoanAmount()||$("#loanAmountValidation").show()})},i.prototype.attachInterestRateChange=function(){var n=this;$("#interestRate").on("input",function(){n.updateAll()});$("#interestRate").focusout(function(){n.validateInterestRate()||$("#interestRateValidation").show()})},i.prototype.attachInstallmentFreeYearsChange=function(){var n=this;$("#installmentFreeYears").on("input",function(){n.updateAll()});$("#installmentFreeYears").focusout(function(){n.validateInstallmentFreeYears()||$("#installmentFreeYearsValidation").show()})},i.prototype.attachPaymentPeriodChange=function(){var n=this;$("#paymentPeriods").change(function(){n._paymentYears=n.getSelectedPaymentPeriod().year;n.updateAll()})},i.prototype.attachLoanTypeChange=function(){var n=this;$("input[name=loanType]").change(function(){n.updateAll()})},i}();t.MortgageCalculator=i})(t=n.financing||(n.financing={}))})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t;(function(t){var i=function(){function i(){this.MIN_LOAN_AMOUNT=1e5;this.MAX_LOAN_AMOUNT=99999999;this.MAX_PAYMENT_YEARS=30;this.MAX_INSTALLMENT_FREE_YEARS=10;this.MAX_INTEREST_RATE=15;this.DEFAULT_SELECTED_LOAN_YEARS=25;this.AMOUNT_CHANGE_INTERVAL=5e4;this._ajaxRequestInProgress=!1;this._updateRequestedWhileAjaxRequestIsInProgress=!1}return i.prototype.attachPlugin=function(){this.LoanCalculator=new t.LoanCalculator;this.PaymentPlanHelper=new t.PaymentPlanHelper;this.setDefaultLoanAmount();this.setDefaultMarketValue();this.attachLoanAmountChanges();this.attachMarketValueChanges();this.attachCommonDebtChanges();this.attachNominalInterestRateChanges();this.attachLoanYearsChange();this.attachInstallmentFreeYearsChange();this.attachOurInterestRateClick();this.attachShowPaymentPlan();this.attachLoanTypeChange();this.attachApplyForMortgage();this.updateInstallmentFreeYearsSelectMenu();this.setInitialCalculation()},i.prototype.setDefaultLoanAmount=function(){this._defaultLoanAmount=this.getLoanAmount()},i.prototype.setDefaultMarketValue=function(){this._defaultMarketValue=this.getMarketValue()},i.prototype.setInitialCalculation=function(){var n=Number($("#defaultNominalInterestRate").val().replace(",","."));this.updateCalculatedInterestRates({NominalInterestRate:n});this.updateAll(!1)},i.prototype.getLtvLimitForInstallmentFreeYears=function(){return Number($("#ltvLimitInstallmentFreeYears").val())},i.prototype.getLtvLimitForMortgage=function(){return Number($("#ltvLimitMortgage").val())},i.prototype.getLtvLimitForCredit=function(){return Number($("#ltvLimitCredit").val())},i.prototype.getLoanServiceUrl=function(){return $("#loanServiceUrl").val()},i.prototype.getLoanAmount=function(){return this.toInt("loanAmount")},i.prototype.getMarketValue=function(){return this.toInt("marketValue")},i.prototype.getCommonDebt=function(){return this.toInt("commonDebt")},i.prototype.getNominalInterestRateForMortgageCredit=function(){return Number($("#nominalInterestRateMortgageCredit").val().replace(",","."))},i.prototype.getNominalInterestRate=function(){return this.toInt("nominalInterestRate")},i.prototype.getEffectiveInterestRate=function(){return Number($("#effectiveInterestRate").val())},i.prototype.getSelectedLoanYear=function(){var n=$("#loanYears").val();if(n===undefined||n===null||n==="")return{year:this.DEFAULT_SELECTED_LOAN_YEARS,amount:0};var t=n.split(":"),i=parseInt(t[0]),r=parseInt(t[1]);return{year:i,amount:r}},i.prototype.getInstallmentFreeYears=function(){var n=$("#installmentFreeYears").val();return n===undefined||n===null||n===""?0:parseInt(n)},i.prototype.getFormattedAmount=function(n){return n.toCurrency().split(",")[0]},i.prototype.getLtv=function(){if(this.getMarketValue()+this.getCommonDebt()===0)return 100;return(this.getLoanAmount()+this.getCommonDebt())/(this.getMarketValue()+this.getCommonDebt())*100},i.prototype.getUpdatedInterestRates=function(){var n=this;if(n.isMortgageCredit()){n.updateCalculatedInterestRates({NominalInterestRate:n.getNominalInterestRateForMortgageCredit()});n.updateAll(!1);return}if(n._ajaxRequestInProgress){n._updateRequestedWhileAjaxRequestIsInProgress=!0;return}var t=n.getLoanAmount(),i=n.getMarketValue(),r=n.getCommonDebt();this.doAjax({CommonDebt:r,IsMortgageCredit:!1,LoanAmount:t,MarketValue:i}).done(function(t){n._ajaxRequestInProgress=!1;n._updateRequestedWhileAjaxRequestIsInProgress?(n._updateRequestedWhileAjaxRequestIsInProgress=!1,n.getUpdatedInterestRates()):(n.updateCalculatedInterestRates(t),n.updateAll(!1))})},i.prototype.isMortgageCredit=function(){var n=$("input[name=loanType]:checked").val();return n==="credit"},i.prototype.isCustomInterestRate=function(){return $("#updateOurInterest").is(":visible")},i.prototype.validateLtvLimit=function(){var n=this.getLtv();if(this.isMortgageCredit()){if(n>this.getLtvLimitForCredit())return $("#errorMessageLtvLimit").text($("#errorMessageLtvLimit").data("credit")),$("#errorMessageLtvLimit").show(),!1;$("#errorMessageLtvLimit").hide()}else{if(n>this.getLtvLimitForInstallmentFreeYears()?($("#installmentFreeYears").val(0),$("#installmentFreeYears").prop("disabled",!0),$("#installmentFreeYears").skbselectmenu("refresh")):($("#installmentFreeYears").prop("disabled",!1),$("#installmentFreeYears").skbselectmenu("refresh")),n>this.getLtvLimitForMortgage())return $("#errorMessageLtvLimit").text($("#errorMessageLtvLimit").data("mortgage")),$("#errorMessageLtvLimit").show(),!1;$("#errorMessageLtvLimit").hide()}return!0},i.prototype.enableCustomInterestRate=function(){this.isCustomInterestRate()||($("#updateOurInterest").show(),$("#lblNominellInterestRate").hide())},i.prototype.disableCustomInterestRate=function(){this.isCustomInterestRate()&&($("#updateOurInterest").hide(),$("#lblNominellInterestRate").show())},i.prototype.incrementLoanAmount=function(n){var t=this.getLoanAmount()+n;t<this.MIN_LOAN_AMOUNT||t>this.MAX_LOAN_AMOUNT||this.updateLoanAmount(t)},i.prototype.incrementMarketValue=function(n){var t=this.getMarketValue()+n;t<0||t>this.MAX_LOAN_AMOUNT||this.updateMarketValue(t)},i.prototype.incrementCommonDebt=function(n){var t=this.getCommonDebt()+n;t<0||t>this.MAX_LOAN_AMOUNT||this.updateCommonDebt(t)},i.prototype.incrementCustomNominalInterestRate=function(n){var t=this.getNominalInterestRate()+n;t<0||this.updateNominalInterestRate(t)},i.prototype.updateLoanAmount=function(n){$("#loanAmount").val(n).change()},i.prototype.updateMarketValue=function(n){$("#marketValue").val(n).change()},i.prototype.updateCommonDebt=function(n){$("#commonDebt").val(n).change()},i.prototype.updateNominalInterestRate=function(n){$("#nominalInterestRate").val(n.toFixed(3)).change()},i.prototype.updateCustomEffectiveInterestRate=function(){var n=this.getNominalInterestRate(),t=this.LoanCalculator.calculateEffectiveInterestRate(n);$("#effectiveInterestRate").val(t)},i.prototype.updateCalculatedInterestRates=function(n){var t,i;n&&(t=n.NominalInterestRate,$("#nominalInterestRate").val(t.toFixed(3)),i=this.LoanCalculator.calculateEffectiveInterestRate(n.NominalInterestRate),$("#effectiveInterestRate").val(i))},i.prototype.updateOurInterestRate=function(){this.disableCustomInterestRate();this.updateAll(!0)},i.prototype.updateAll=function(n){var t=this;t.validateLtvLimit();n?t.getUpdatedInterestRates():this.isMortgageCredit()?t.updateCreditSummary():(t.updatePaymentYearsSelectMenu(),t.updateMortgageSummary())},i.prototype.updateMortgageSummary=function(){var i=this.getNominalInterestRate(),r=this.getEffectiveInterestRate(),n=this.getSelectedLoanYear(),t=this.getLoanAmount(),u=this.getInstallmentFreeYears(),f=this.LoanCalculator.calculatePaymentPlanForAnnuityLoan(n.year,t,i,u),e=this.PaymentPlanHelper.populatePaymentPlan($("#paymentPlanTableMortgageCost"),f,!1),o=Math.round(t+e);$("#applyForMortgage").text($("#applyForMortgage").data("mortgage-text"));$("#loanYearsSection").show();$("#installmentFreeYearsSection").show();$("#lblMortgageLoanTypeText").show();$("#lblMortgageCreditTypeText").hide();$("#summaryCredit").hide();$("#summaryMortgage").show();$("#summaryMortgagePaymentAmount").text(this.getFormattedAmount(n.amount));$("#summaryMortgageLoanAmount").text(this.getFormattedAmount(t));$("#summaryMortgageNominalInterestRate").text(i.toFixed(2));$("#summaryMortgageEffectiveInterestRate").text(r.toFixed(2));$("#summaryMortgageLoanYears").text(n.year);$("#summaryMortgageTotalAmount").text(this.getFormattedAmount(o))},i.prototype.updateCreditSummary=function(){var n=this.getNominalInterestRate(),i=this.getEffectiveInterestRate(),t=this.getLoanAmount(),r=t*(n/100)/12;$("#applyForMortgage").text($("#applyForMortgage").data("credit-text"));$("#loanYearsSection").hide();$("#installmentFreeYearsSection").hide();$("#lblMortgageLoanTypeText").hide();$("#lblMortgageCreditTypeText").show();$("#summaryMortgage").hide();$("#summaryCredit").show();$("#summaryCreditMonthlyAmount").text(this.getFormattedAmount(r));$("#summaryCreditLoanAmount").text(this.getFormattedAmount(t));$("#summaryCreditNominalInterestRate").text(n.toFixed(2));$("#summaryCreditEffectiveInterestRate").text(i.toFixed(2))},i.prototype.toInt=function(n){var t=$("#"+n).val().replace(/\s+/g,"").trim().replace(",",".");return Number(t)},i.prototype.updatePaymentYearsSelectMenu=function(){var u=this.calculatePaymentYears(),o=this.getSelectedLoanYear().year,r=$("#loanYears"),t;for(r.empty(),t=0;t<u.length;t++){var i=u[t],f=Math.round(i.amount),s=i.year+" r|"+this.getFormattedAmount(f)+",- per mnd.",e;e=i.year===o?"<option selected='selected'><\/option>":"<option><\/option>";r.append($(e).attr("value",i.year+":"+f).text(s))}n.SelectMenu.prototype.attachPlugin();r.skbselectmenu("refresh")},i.prototype.updateInstallmentFreeYearsSelectMenu=function(){var f=this.getSelectedLoanYear().year,r=Math.floor(f/2),u,i,t;for(r>this.MAX_INSTALLMENT_FREE_YEARS&&(r=this.MAX_INSTALLMENT_FREE_YEARS),u=this.getInstallmentFreeYears(),u>r&&(u=0),i=$("#installmentFreeYears"),i.empty(),t=0;t<=r;t++)t===u?i.append($("<option selected='selected'><\/option>").attr("value",t).text(t+" r")):i.append($("<option><\/option>").attr("value",t).text(t+" r"));n.SelectMenu.prototype.attachPlugin();i.skbselectmenu("refresh")},i.prototype.calculatePaymentYears=function(){for(var r=[],i=this.getInstallmentFreeYears(),u=i*12,o=this.getNominalInterestRate(),f=this.LoanCalculator.calculateMonthlyInterestRate(o),s=this.getLoanAmount(),h=i>0?i*2:1,t,e,n=h;n<=this.MAX_PAYMENT_YEARS;n++)t=this.LoanCalculator.calculateMonthlyPaymentForYear(n-i,s,f),u>0&&(e=n*12,t=t-t*Math.pow(1+f,-(e-u))),r.push({year:n,amount:t});return r},i.prototype.doAjax=function(n){var t=this,i=t.getLoanServiceUrl();return $.ajax({type:"POST",url:i,cache:!1,timeout:1e4,data:JSON.stringify(n),contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:function(){t._ajaxRequestInProgress=!0;$("#WaitBlock").delay(2e3).show(1)},complete:function(){t._ajaxRequestInProgress=!1;$("#WaitBlock").dequeue().hide()},error:function(){t._ajaxRequestInProgress=!1;$("#WaitBlock").dequeue().hide()}})},i.prototype.attachLoanAmountChanges=function(){var n=this;$("#loanAmount").on("change focusout",function(){n.getLoanAmount()>n.MAX_LOAN_AMOUNT||n.getLoanAmount()<n.MIN_LOAN_AMOUNT?n.updateLoanAmount(n._defaultLoanAmount):n.updateAll(!n.isCustomInterestRate())});$("#loanAmountAdd").click(function(){n.incrementLoanAmount(n.AMOUNT_CHANGE_INTERVAL)});$("#loanAmountSubtract").click(function(){n.incrementLoanAmount(-n.AMOUNT_CHANGE_INTERVAL)})},i.prototype.attachMarketValueChanges=function(){var n=this;$("#marketValue").on("change focusout",function(){n.getMarketValue()>n.MAX_LOAN_AMOUNT?n.updateMarketValue(n._defaultMarketValue):n.updateAll(!n.isCustomInterestRate())});$("#marketValueAdd").click(function(){n.incrementMarketValue(n.AMOUNT_CHANGE_INTERVAL)});$("#marketValueSubtract").click(function(){n.incrementMarketValue(-n.AMOUNT_CHANGE_INTERVAL)})},i.prototype.attachCommonDebtChanges=function(){var n=this;$("#commonDebt").on("change focusout",function(){n.getCommonDebt()>n.MAX_LOAN_AMOUNT?n.updateCommonDebt(0):n.updateAll(!n.isCustomInterestRate())});$("#commonDebtAdd").click(function(){n.incrementCommonDebt(25e3)});$("#commonDebtSubtract").click(function(){n.incrementCommonDebt(-25e3)})},i.prototype.attachNominalInterestRateChanges=function(){var n=this;$("#nominalInterestRate").change(function(){isNaN(n.getNominalInterestRate())?n.updateOurInterestRate():n.getNominalInterestRate()>n.MAX_INTEREST_RATE?n.updateNominalInterestRate(n.MAX_INTEREST_RATE):(n.enableCustomInterestRate(),n.updateCustomEffectiveInterestRate(),n.updateAll(!1))});$("#nominalInterestRateAdd").click(function(){n.incrementCustomNominalInterestRate(.05)});$("#nominalInterestRateSubtract").click(function(){n.incrementCustomNominalInterestRate(-.05)})},i.prototype.attachLoanYearsChange=function(){var n=this;$("#loanYears").change(function(){n.updateInstallmentFreeYearsSelectMenu();n.updateAll(!1)})},i.prototype.attachInstallmentFreeYearsChange=function(){var n=this;$("#installmentFreeYears").change(function(){n.updateAll(!1)})},i.prototype.attachOurInterestRateClick=function(){var n=this;$("#updateOurInterest").click(function(t){t.preventDefault();n.updateOurInterestRate()})},i.prototype.attachShowPaymentPlan=function(){$("#showPaymentPlan").click(function(n){n.preventDefault();$("#paymentPlan").toggleClass("hide");var t=$("#paymentPlan").hasClass("hide")?$("#showPaymentPlan").data("inactive-text"):$("#showPaymentPlan").data("active-text");$("#showPaymentPlan").text(t)})},i.prototype.attachLoanTypeChange=function(){var n=this;$("input[name=loanType]").click(function(){n.updateAll(!n.isCustomInterestRate())})},i.prototype.attachApplyForMortgage=function(){this.attachApplyForMortgageById("applyForMortgage");this.attachApplyForMortgageById("applyForMoveMortgage");this.attachApplyForMortgageById("applyForFinancingProof")},i.prototype.attachApplyForMortgageById=function(n){var t=this;$("#"+n).click(function(i){i.preventDefault();window.location.href=t.getUpdatedUrl($("#"+n))})},i.prototype.getUpdatedUrl=function(n){var t=n.attr("href"),i=n.attr("id")==="applyForFinancingProof"?"FinancingProof":this.isMortgageCredit()?"MortgageCredit":"Mortgage",r=this.getSelectedLoanYear().year,u=this.getInstallmentFreeYears();return t+("?loanProduct="+i+"&loanYears="+r+"&installmentFreeYears="+u)},i}();t.MortgageCostCalculator=i})(t=n.financing||(n.financing={}))})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t;(function(t){var i=function(){function i(n){this._useFadeInEffect=!1;this._doneTypingInterval=300;this._finnCodeMinLength=8;this._maxMilageForNewCar=1e3;this._maxCo2ForGreenCarLoan=120;this._defaultLoanYears=5;this.PaymentPlanHelper=new t.PaymentPlanHelper;this._navigator=n;this.setMaxCarPrice();this.setMinCarPrice();this.setMinLoanAmount();this.setSearchFinnUrl();this.setDefaultCarImgSrc();this.setDefaultCarPrice();this.setDefaultEquity();this.setSelectedCarPrice();this.setSelectedEquity();this.setRequestedCarPrice();this.setRequestedEquity();this.updateAll();this.searchFinn(this._navigator.getIsPostBack());this.attachLoanTypeChange();this.attachLoanYearsChange();this.attachGreenCarloanChange();this.attachIsNewCarChange();this.attachCarPriceChange();this.attachEquityChange();this.attachFinnCode();this.attachSearchFinnCode();this.attachSearchFinnCodeChange();this.attachRemoveSearchFinnResult();this.attachSubmitForm()}return i.prototype.loadPage=function(){this._navigator.getClearedFinnCode()&&(this.isValidFinnCodeFormat()&&this._finnData?this.setFinnCarResult(this._finnData,!1):this.hideFinnCarResult(),this._navigator.setClearedFinnCode(null));this.updateAll()},i.prototype.setMinCarPrice=function(){this._minCarPrice=this.getValidNumberOrDefault("#minCarPrice",4e4)},i.prototype.setMaxCarPrice=function(){this._maxCarPrice=this.getValidNumberOrDefault("#maxCarPrice",9e6)},i.prototype.setMinLoanAmount=function(){this._minLoanAmount=this.getValidNumberOrDefault("#minLoanAmount",3e4)},i.prototype.setDefaultCarImgSrc=function(){this._defaultCarImgSrc=$("#carImgSrc").attr("src")},i.prototype.setDefaultCarPrice=function(){this._defaultCarPrice=this.getValidNumberOrDefault("#defaultCarPrice",2e5)},i.prototype.setDefaultEquity=function(){this._defaultEquity=this.getValidNumberOrDefault("#defaultEquity",4e4)},i.prototype.setSelectedCarPrice=function(){var n=this.getValidNumberOrDefault("#CarPrice",NaN);this._navigator.setCarPrice(this.getFormattedAmount(isNaN(n)?this._defaultCarPrice:n))},i.prototype.setSelectedEquity=function(){var n=this.getValidNumberOrDefault("#Equity",NaN);this._navigator.setEquity(this.getFormattedAmount(isNaN(n)?this._defaultEquity:n))},i.prototype.setSearchFinnUrl=function(){this._searchFinnUrl=$("#searchFinnUrl").val()},i.prototype.setRequestedCarPrice=function(){this._requestedCarPrice=this.getValidNumberOrDefault("#requestedCarPrice",NaN)},i.prototype.setRequestedEquity=function(){this._requestedEquity=this.getValidNumberOrDefault("#requestedEquity",NaN)},i.prototype.updateAll=function(){if(this.updateEquityInfoForBestInterest(),this.validateInput()){this.updateLoanYears();this.updateMaxLoanYears();var n=this.updatePaymentPlan();this.updateSummary(n)}},i.prototype.updateSummary=function(n){var r=this.getFormattedAmount(this.getLoanAmount()),u=this.getFormattedAmount(Math.round(this.getLoanAmount()+n)),t=this.getSelectedLoanYear(),f=this.getFormattedAmount(t.amount),i=this.getNominalInterestRate(),e=this._navigator.LoanCalculator.calculateEffectiveInterestRate(i),o=this.getSummaryAmountText();this.fadeInText("#summaryLoanAmount",r+",-");this.fadeInText("#summaryNominalInterest",i.toFixed(2).replace(".",",")+" %");this.fadeInText("#summaryEffectiveInterest",e.toFixed(2).replace(".",",")+" %");this.fadeInText("#summaryPaymentYears",t.year.toString());this.fadeInText("#summaryTotalAmount",u+",-");this.fadeInText("#summaryMonthlyPriceText",o);this.fadeInText("#summaryMonthlyAmount",f+",-")},i.prototype.setSearchFinnErrorResult=function(){this.showValidationMessage("#searchFinnCodeValidation","Vi kan dessverre ikke hente bilinformasjon fra denne finn-koden. Legg inn informasjon manuelt.")},i.prototype.setFinnCarResult=function(n,t){var r=n.CarImage&&n.CarImage.MainUrl?n.CarImage.MainUrl.replace("http://","https://"):"",i,u,f;if($("#carImgSrc").attr("src",r.length==0?this._defaultCarImgSrc:r),$("#finnResultCarType").text(n.CarMake+" "+n.CarModel+" - "+n.CarModelYear),$("#finnResultFinnCode").text(n.FinnCode),$("#finnResultArea").show(),$("#searchFinnCodeArea").hide(),!t){if(i=isNaN(this._requestedCarPrice)?parseInt(n.CarPrice):this._requestedCarPrice,i<this._minCarPrice){this.showValidationMessage("#finnCodeValidation","Minimum kjpesum er kr "+this.getFormattedAmount(this._minCarPrice)+", vi kan derfor ikke tilby finansiering til denne bilen.");return}if(u=parseInt(n.CarAge),u>this.getMaxCarAgeForEquityAboveLimit()){this.showValidationMessage("#finnCodeValidation","Bilens alder og nedbetalingstid p lnet kan ikke overskride "+(this.getMaxCarAgeForEquityAboveLimit()+1)+" r.");return}f=isNaN(this._requestedEquity)?this.getEquityForBestInterest(i):this._requestedEquity;var e=parseInt(n.Co2),o=isNaN(e)?!1:e<this._maxCo2ForGreenCarLoan,s=parseInt(n.Mileage),h=this.isNewCar(n.IsDealerSale,u,s),c=this.isPersonalCar(n.RegistrationClass);this._navigator.setCarPrice(this.getFormattedAmount(i));this._navigator.setEquity(this.getFormattedAmount(f));this._navigator.setIsNewCar(h);this._navigator.setIsGreen(o);this._navigator.setIsPersonalCar(c);this._navigator.setIsDealerSale(n.IsDealerSale);this._navigator.setCarYear(n.CarModelYear);this._navigator.setCarMake(n.CarMake);this._navigator.setCarModel(n.CarModel);this._navigator.setRegistrationNumber(n.RegistrationNumber);this._navigator.setOdometerReading(n.Mileage);this._navigator.setIsCarDataChanged(!0);this._navigator.setFinnImgUrl(r);this._finnData=n;$("#finnResultArea").focus()}},i.prototype.removeFinnCarResult=function(){this._navigator.setIsPersonalCar(!0);this._navigator.setIsDealerSale(!1);this._navigator.setCarYear("");this._navigator.setCarMake("");this._navigator.setCarModel("");this._navigator.setRegistrationNumber("");this._navigator.setOdometerReading("");this._navigator.setFinnImgUrl("");this._navigator.setCarPrice(this.getFormattedAmount(this._defaultCarPrice));this._navigator.setEquity(this.getFormattedAmount(this._defaultEquity));this._navigator.setFinnCode("");this._navigator.setLoanYears("");this._navigator.setIsGreen(!1);this._navigator.setIsNewCar(!1);this._navigator.setIsSerial(!1);this._navigator.setIsCarDataChanged(!0);this.hideFinnCarResult()},i.prototype.hideFinnCarResult=function(){this._finnData=null;this._requestedCarPrice=NaN;this._requestedEquity=NaN;this.hideValidationMessage("#finnCodeValidation");$("#carImgSrc").attr("src",this._defaultCarImgSrc);$("#finnResultArea").hide();$("#searchFinnCodeArea").show()},i.prototype.updateMaxLoanYears=function(){this.fadeInText("#maxLoanYears"," (1-"+this.getMaxLoanYear()+" r)")},i.prototype.updateEquityInfoForBestInterest=function(){var n=this.getCarPrice(),t;n>=this._minCarPrice&&n<=this._maxCarPrice&&(t=this.getEquityForBestInterest(n),this.fadeInText("#equityForBestInterest",this.getFormattedAmount(t)))},i.prototype.updateLoanYears=function(){var l=this.getLoanAmount(),a=this.getMaxLoanYear(),v=this.getNominalInterestRate(),y=this.isSerialLoan(),t=this._navigator.LoanCalculator.calculateLoanYears(l,a,v,y),f=this.getSelectedLoanYear(),e,o,i,r,c;for(f&&f.year<=t.length?e=f.year:(o=isNaN(this._navigator.getLoanYears())?this._defaultLoanYears:this._navigator.getLoanYears(),e=o<=t.length?o:t.length),i=$("#LoanYearsSelect"),i.empty(),r=0;r<t.length;r++){var u=t[r],s=Math.round(u.amount),h=u.year+" r|"+this.getFormattedAmount(s)+",-";h+=this.isSerialLoan()?' frste <span class="accessibility"> betaling <\/span> bet.':' per <span class="accessibility"> mned <\/span> mnd.';c=u.year===e?"<option selected='selected'><\/option>":"<option><\/option>";i.append($(c).attr("value",u.year+":"+s).text(h))}n.SelectMenu.prototype.attachPlugin();i.skbselectmenu("refresh")},i.prototype.updatePaymentPlan=function(){var u=$("#paymentPlanTableCarLoan"),n,t=this.getSelectedLoanYear().year,i=this.getLoanAmount(),r=this.getNominalInterestRate();return n=this.isSerialLoan()?this._navigator.LoanCalculator.calculatePaymentPlanForSerialLoan(t,i,r,0):this._navigator.LoanCalculator.calculatePaymentPlanForAnnuityLoan(t,i,r,0),this.PaymentPlanHelper.populatePaymentPlan(u,n,!0)},i.prototype.createNumericColumn=function(n,t){return"<td data-title="+t+" class='table__cell--numeric'>"+this.getFormattedAmount(Math.abs(Math.round(n)))+"<\/td>"},i.prototype.fadeInText=function(n,t){var i=$(n);i.text()!==t&&(this._useFadeInEffect?i.fadeOut(250,function(){i.text(t);i.fadeIn(250)}):i.text(t))},i.prototype.showValidationMessage=function(n,t){$(n).text(t);$(n).show()},i.prototype.hideValidationMessage=function(n){$(n).text("");$(n).hide()},i.prototype.validateInput=function(){var n=this.getCarPrice(),t;return n<0?!1:(t=this.getEquity(),isNaN(t)||t<0)?!1:(this.hideValidationMessage("#carPriceValidation"),this.hideValidationMessage("#equityValidation"),$(".ui-selectmenu-button").removeClass("ui-state-disabled"),n<this._minCarPrice)?(this.showValidationMessage("#carPriceValidation","Minimum kjpesum er kr "+this.getFormattedAmount(this._minCarPrice)+"."),!1):n>this._maxCarPrice?(this.showValidationMessage("#carPriceValidation","Maksimal kjpesum er kr "+this.getFormattedAmount(this._maxCarPrice)+"."),!1):this.getEquity()>this.getCarPrice()&&this.getLoanAmount()<this._minLoanAmount?(this.showValidationMessage("#equityValidation","Egenkapital kan ikke vre hyere enn pris p bil. Minimum lnebelp er kr "+this.getFormattedAmount(this._minLoanAmount)+"."),!1):this.getEquity()>this.getCarPrice()?(this.showValidationMessage("#equityValidation","Egenkapital kan ikke vre hyere enn pris p bil."),!1):this.getLoanAmount()<this._minLoanAmount?(this.showValidationMessage("#equityValidation","Minimum lnebelp er kr "+this.getFormattedAmount(this._minLoanAmount)+"."),!1):isNaN(this.getMaxLoanYear())?(this.showValidationMessage("#equityValidation","Du m ke din egenkapital til "+this._navigator.CalculatorHelper.getEquityPercentLimit()+" %  av pris p bilen, for  f mulighet til  velge nedbetalingstid."),$(".ui-selectmenu-button").addClass("ui-state-disabled"),!1):!0},i.prototype.getSelectedLoanYear=function(){var n=$("#LoanYearsSelect").val();if(n){var t=n.split(":"),i=Number(t[0]),r=Number(t[1]);return{year:i,amount:r}}return null},i.prototype.getLoanAmount=function(){return this._navigator.getLoanAmount()},i.prototype.getCarPrice=function(){return this._navigator.getCarPrice()},i.prototype.getEquity=function(){return this._navigator.getEquity()},i.prototype.getNominalInterestRate=function(){var n=this.getCarPrice(),t=this.getEquity(),i=this.isGreenCarLoan();return this._navigator.CalculatorHelper.getNominalInterestRate(n,t,i)},i.prototype.getValidNumberOrDefault=function(n,t){return this._navigator.getValidNumberOrDefault(n,t)},i.prototype.getCarAge=function(){return this._finnData?parseInt(this._finnData.CarAge):this._navigator.getIsNewCar()?0:NaN},i.prototype.getFinnCode=function(){return this._navigator.getFinnCode()},i.prototype.getSummaryAmountText=function(){return this.isSerialLoan()?"Frste betaling":"Mnedlig belp"},i.prototype.getMaxLoanYear=function(){var n=this.getCarPrice(),t=this.getEquity(),i=this.getCarAge();return this._navigator.CalculatorHelper.getMaxLoanYear(n,t,i)},i.prototype.getFormattedAmount=function(n){return this._navigator.getFormattedAmount(n)},i.prototype.getMaxCarAgeForEquityAboveLimit=function(){return this._navigator.CalculatorHelper.getMaxCarAgeForEquityAboveLimit()},i.prototype.isAboveEquityPercentLimit=function(){var n=this.getCarPrice(),t=this.getEquity();return this._navigator.CalculatorHelper.isAboveEquityPercentLimit(n,t)},i.prototype.getEquityForBestInterest=function(n){return this._navigator.CalculatorHelper.getEquityForBestInterest(n)},i.prototype.isValidFinnCodeFormat=function(){var n=this.getFinnCode(),t;return n.length<this._finnCodeMinLength?!1:(t=Number(n),isNaN(t))?!1:!0},i.prototype.isNewCar=function(n,t,i){return this._navigator.CalculatorHelper.isNewCar(n,t,i)},i.prototype.isSerialLoan=function(){return this._navigator.getIsSerial()},i.prototype.isGreenCarLoan=function(){return this._navigator.getIsGreen()},i.prototype.isPersonalCar=function(n){return n&&n==="Personbil"},i.prototype.validateSearchFinnResult=function(n){var t,i;return n&&n.GetObjectResult?(t=parseInt(n.GetObjectResult.CarPrice),isNaN(t))?!1:(i=parseInt(n.GetObjectResult.CarAge),isNaN(i))?!1:!0:!1},i.prototype.attachLoanYearsChange=function(){var n=this,t=this;$("#LoanYearsSelect").change(function(){var i=n.getSelectedLoanYear();i&&n._navigator.setLoanYears(i.year);t.updateAll()})},i.prototype.attachLoanTypeChange=function(){var n=this;$("input[name=IsSerial]").change(function(){n.updateAll()})},i.prototype.attachIsNewCarChange=function(){var n=this;$("input[name=IsNewCar]").change(function(){n.updateAll()})},i.prototype.attachGreenCarloanChange=function(){var n=this;$("#IsGreen").change(function(){n.updateAll()})},i.prototype.attachRemoveSearchFinnResult=function(){var n=this;$("#removeFinnResult").click(function(t){t.preventDefault();n.removeFinnCarResult();n.updateAll();$("#FinnCode").focus()})},i.prototype.attachFinnCode=function(){var n=this;$("#FinnCode").change(function(){$("#FinnCode").val($("#FinnCode").val().trim())});$("#FinnCode").keypress(function(t){t.which===13&&(t.preventDefault(),n.searchFinn(!1))})},i.prototype.attachSearchFinnCode=function(){var n=this;$("#searchFinnCode").click(function(t){t.preventDefault();n.searchFinn(!1)})},i.prototype.attachSubmitForm=function(){var n=this;$("#submitCarloan").click(function(t){$("#submitCarloan:visible").length>0&&n.submitForm(t,!1)});$("#submitFinancingProof").click(function(t){$("#submitFinancingProof:visible").length>0&&n.submitForm(t,!0)})},i.prototype.attachSearchFinnCodeChange=function(){var n=this;$("#FinnCode").keyup(function(){clearTimeout(n._typingTimer);n._typingTimer=setTimeout(function(){n.getFinnCode().length===0&&n.hideValidationMessage("#searchFinnCodeValidation")},n._doneTypingInterval)});$("#FinnCode").keydown(function(){clearTimeout(n._typingTimer)});$("#FinnCode").blur(function(){clearTimeout(n._typingTimer);n.getFinnCode().length===0&&n.hideValidationMessage("#searchFinnCodeValidation")})},i.prototype.attachCarPriceChange=function(){var n=this;$("#CarPrice").keyup(function(){clearTimeout(n._typingTimer);n._typingTimer=setTimeout(function(){n.updateAll()},n._doneTypingInterval)});$("#CarPrice").keydown(function(){clearTimeout(n._typingTimer)});$("#CarPrice").blur(function(){clearTimeout(n._typingTimer);n.updateAll()})},i.prototype.attachEquityChange=function(){var n=this;$("#Equity").keyup(function(){clearTimeout(n._typingTimer);n._typingTimer=setTimeout(function(){n.updateAll()},n._doneTypingInterval)});$("#Equity").keydown(function(){clearTimeout(n._typingTimer)});$("#Equity").blur(function(){clearTimeout(n._typingTimer);n.updateAll()})},i.prototype.searchFinn=function(n){var t=this;t.isValidFinnCodeFormat()&&$.ajax({type:"POST",url:t._searchFinnUrl,contentType:"application/json; charset=utf-8",data:JSON.stringify({finnCode:t.getFinnCode()}),dataType:"json",beforeSend:function(){$("#WaitBlockFinnCode").show()},success:function(i){t.validateSearchFinnResult(i)?(t.hideValidationMessage("#searchFinnCodeValidation"),t.setFinnCarResult(i.GetObjectResult,n),t.updateAll()):t.setSearchFinnErrorResult()},error:function(){t.setSearchFinnErrorResult()},complete:function(){$("#WaitBlockFinnCode").hide()}})},i.prototype.submitForm=function(n,t){var i,r,u;this._navigator.getFinnCode().length>0&&!$("#finnResultArea").is(":visible")&&(this._navigator.setFinnCode(""),this.hideValidationMessage("#searchFinnCodeValidation"));this.validateInput()&&$(".field-validation-error:visible").length===0?(this._navigator.setIsFinancingProof(t.toString()),i=this.getSelectedLoanYear(),i&&this._navigator.setLoanYears(i.year),r=$("form#CarLoan"),t?(u=$("#submitFinancingProof").data("is-authenticated"),this._navigator.updateCarDataOnPost(),u?r.submit():(n.preventDefault(),this._navigator.navigateToNewCustomerChoice())):(n.preventDefault(),this._navigator.navigateToCarInformationPage())):n.preventDefault()},i}();t.CarLoanCalculator=i})(t=n.financing||(n.financing={}))})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t;(function(n){var t=function(){function n(){this._maxCarAgeForEquityAboveLimit=13;this._maxCarAgeForEquityBelowLimit=9;this._maxOdometerReadingForNewCar=999;this.setEquityPercentLimit();this.setInterestMatrix()}return n.prototype.getNominalInterestRate=function(n,t,i){for(var e=this.getEquityPercent(n,t),f=100-e,r,u=0;u<this._interestMatrix.length;u++)if(r=this._interestMatrix[u],i){if(r.AppliesToGreenCarLoan&&this.isValidLoanRatio(r.LoanRatio,f))return r.Interest}else if(!r.AppliesToGreenCarLoan&&this.isValidLoanRatio(r.LoanRatio,f))return r.Interest;return NaN},n.prototype.isAboveEquityPercentLimit=function(n,t){return this.getEquityPercent(n,t)>=this._equityPercentLimit},n.prototype.getEquityForBestInterest=function(n){var t=this.getEquityPercentForBestInterest();return Math.ceil(n*t/100)},n.prototype.getEquityPercentLimit=function(){return this._equityPercentLimit},n.prototype.getMaxLoanYear=function(n,t,i){return this.isAboveEquityPercentLimit(n,t)?this.getMaxLoanYearForEquityAboveLimit(i):this.getMaxLoanYearForEquityBelowLimit(i)},n.prototype.getMaxOdometerReadingForNewCar=function(){return this._maxOdometerReadingForNewCar},n.prototype.getValidNumberOrDefault=function(n,t){var r=$(n).val().replace(/\s+/g,"").replace(",",".").trim(),i=parseInt(r);return isNaN(i)?t:i},n.prototype.getFormattedAmount=function(n){return n.toCurrency().split(",")[0]},n.prototype.isNewCar=function(n,t,i){return n&&t<=1&&!isNaN(i)&&i<=this._maxOdometerReadingForNewCar},n.prototype.getMaxCarAgeForEquityAboveLimit=function(){return this._maxCarAgeForEquityAboveLimit},n.prototype.getMaxLoanYearForEquityAboveLimit=function(n){return isNaN(n)||n<5?10:n>this._maxCarAgeForEquityAboveLimit?NaN:this._maxCarAgeForEquityAboveLimit-n+1},n.prototype.getMaxLoanYearForEquityBelowLimit=function(n){if(isNaN(n))return 6;switch(n){case 0:return 7;case 1:case 2:case 3:case 4:return 6;default:return n>this._maxCarAgeForEquityBelowLimit?NaN:this._maxCarAgeForEquityBelowLimit-n+1}},n.prototype.getEquityPercentForBestInterest=function(){for(var t=this._interestMatrix[0],i,n=1;n<this._interestMatrix.length;n++)i=this._interestMatrix[n],i.Interest<t.Interest&&(t=i);return 100-t.LoanRatio},n.prototype.setEquityPercentLimit=function(){this._equityPercentLimit=this.getValidNumberOrDefault("#equityPercentLimit",20)},n.prototype.setInterestMatrix=function(){for(var t=$("#interestMatrix").val().split("|"),n=0;n<t.length;n++){var i=t[n].split(";"),r=Number(i[0])===1,u=Number(i[1]),f=parseFloat(i[2].replace(",","."));t[n]={AppliesToGreenCarLoan:r,LoanRatio:u,Interest:f}}this._interestMatrix=t},n.prototype.getEquityPercent=function(n,t){return t*100/n},n.prototype.isValidLoanRatio=function(n,t){return t<=n},n}();n.CarLoanCalculatorHelper=t})(t=n.financing||(n.financing={}))})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(t){var i;(function(i){var r=n.lib.AutoScroll,u=function(){function i(){}return i.prototype.attachPlugin=function(){var n=this;n._isCarDataChanged=!1;n.CalculatorHelper=new t.financing.CarLoanCalculatorHelper;n.LoanCalculator=new t.financing.LoanCalculator;n._calculatorPage=new t.financing.CarLoanCalculator(n);n._carInformationPage=new t.financing.CarLoanCarInformation(n);n._newCustomerChoicePage=new t.financing.CarLoanNewCustomerChoice(n);n._hasHistoryApi=typeof window.history.pushState!="undefined";n._hasHistoryApi&&window.history.replaceState({page:"CALCULATOR"},null,null);n.getIsPostBack()&&!n.getIsFinancingProof()&&n.navigateToCarInformationPage();$(window).bind("popstate",function(t){var i=t.originalEvent;i.state&&i.state.page&&n.navigateToPage(i.state.page)})},i.prototype.navigateToPage=function(t){if(t==="CALCULATOR"){if(this.getClearedFinnCode()&&!this.getBackConfirmed()){$("#ConfirmBack").is(":visible")||this._carInformationPage.showConfirmBack();n.lib.AutoScroll.scrollTo($("#confirmbackheadline"));window.history.pushState({page:"CALCULATORINFO"},null,null);return}this.navigateToCalculatorPage(!0)}else t==="CALCULATORINFO"?this.navigateToCarInformationPage(!1,!0):t==="NEWCUSTOMERCHOICE"&&this.navigateToNewCustomerChoice(!0)},i.prototype.navigateToCarInformationPage=function(n,t){if(n&&this._hasHistoryApi){window.history.back();return}$("#CalculatorPage").hide();$("#NewCustomerChoicePage").hide();this._carInformationPage.loadPage();$("#CarInformationPage").show();r.scrollTo("#CarInformationPage");this.trackPage("steg1","Bilinformasjon");!t&&this._hasHistoryApi&&window.history.pushState({page:"CALCULATORINFO"},null,null)},i.prototype.navigateToNewCustomerChoice=function(n){$("#CalculatorPage").hide();$("#CarInformationPage").hide();this._newCustomerChoicePage.loadPage();$("#NewCustomerChoicePage").show();r.scrollTo("#NewCustomerChoicePage");this.trackPage("login","Logg inn eller bli kunde");!n&&this._hasHistoryApi&&window.history.pushState({page:"NEWCUSTOMERCHOICE"},null,null)},i.prototype.navigateToCalculatorPage=function(n){!this._hasHistoryApi||n?($("#CarInformationPage").hide(),$("#NewCustomerChoicePage").hide(),this._calculatorPage.loadPage(),$("#CalculatorPage").show(),this.trackPage("kalkulator","Kalkulator")):window.history.back()},i.prototype.updateCarDataOnPost=function(){this.setCarPrice(this.getCarPrice().toString());this.setEquity(this.getEquity().toString());$("#LoanYearsSelect").val("")},i.prototype.getIsPostBack=function(){return $("#isPostBack").val().toLowerCase()==="true"},i.prototype.getIsFinancingProof=function(){return $("#IsFinancingProof").val().toLowerCase()==="true"},i.prototype.setIsFinancingProof=function(n){$("#IsFinancingProof").val(n)},i.prototype.getFinnCode=function(){return $("#FinnCode").val().trim()},i.prototype.setFinnCode=function(n){$("#FinnCode").val(n)},i.prototype.getFinnImgUrl=function(){return $("#FinnImageUrl").val()},i.prototype.setFinnImgUrl=function(n){$("#FinnImageUrl").val(n)},i.prototype.getClearedFinnCode=function(){return this._clearedFinnCode},i.prototype.setClearedFinnCode=function(n){this._clearedFinnCode=n},i.prototype.getIsCarDataChanged=function(){return this._isCarDataChanged},i.prototype.setIsCarDataChanged=function(n){this._isCarDataChanged=n},i.prototype.getBackConfirmed=function(){return this._backConfirmed},i.prototype.setBackConfirmed=function(n){this._backConfirmed=n},i.prototype.getCarPrice=function(){return this.getValidNumberOrDefault("#CarPrice",0)},i.prototype.setCarPrice=function(n){$("#CarPrice").val(n)},i.prototype.getEquity=function(){return $("#Equity").val().length===0?0:this.getValidNumberOrDefault("#Equity",NaN)},i.prototype.setEquity=function(n){$("#Equity").val(n)},i.prototype.getLoanYears=function(){return this.getValidNumberOrDefault("#LoanYears",NaN)},i.prototype.setLoanYears=function(n){$("#LoanYears").val(n);$("#LoanYearsSelect").val(n)},i.prototype.getIsGreen=function(){return $("#IsGreen").is(":checked")},i.prototype.setIsGreen=function(n){$("#IsGreen").prop("checked",n)},i.prototype.getIsSerial=function(){return $("#serial").is(":checked")},i.prototype.setIsSerial=function(n){$("#annuity").prop("checked",!n);$("#serial").prop("checked",n)},i.prototype.getIsNewCar=function(){return $("#newCar").is(":checked")},i.prototype.setIsNewCar=function(n){$("#usedCar").prop("checked",!n);$("#newCar").prop("checked",n)},i.prototype.getIsPersonalCar=function(){return $("#IsPersonalCar").is(":checked")},i.prototype.setIsPersonalCar=function(n){$("#IsVan").prop("checked",!n);$("#IsPersonalCar").prop("checked",n)},i.prototype.getIsDealerSale=function(){return $("#IsDealerSale").is(":checked")},i.prototype.setIsDealerSale=function(n){$("#IsPrivateSale").prop("checked",!n);$("#IsDealerSale").prop("checked",n)},i.prototype.getCarYear=function(){return $("#CarYear").val()},i.prototype.setCarYear=function(n){this.setSelectedMenuItem($("#CarYear"),n)},i.prototype.getCarMake=function(){return $("#CarMake").val()},i.prototype.setCarMake=function(n){this.setSelectedMenuItem($("#CarMake"),n)},i.prototype.getCarModel=function(){return $("#CarModel").val()},i.prototype.setCarModel=function(n){this.setSelectedMenuItem($("#CarModel"),n)},i.prototype.getHasSellerInformation=function(){return $("#HasSellerInformation").is(":checked")},i.prototype.getSellerName=function(){return $("#SellerName").val()},i.prototype.getSellerPhoneNumber=function(){return $("#SellerPhoneNumber").val()},i.prototype.getSellerAccountNr=function(){return $("#SellerAccountNr").val()},i.prototype.getSellerEmail=function(){return $("#SellerEmail").val()},i.prototype.getRegistrationNumber=function(){return $("#RegistrationNumber").val()},i.prototype.setRegistrationNumber=function(n){$("#RegistrationNumber").val(n)},i.prototype.getOdometerReading=function(){return $("#OdometerReading").val()},i.prototype.setOdometerReading=function(n){$("#OdometerReading").val(n)},i.prototype.getHasConfirmedCreditCheck=function(){return $("#HasConfirmedCreditCheck").is(":checked")},i.prototype.getValidNumberOrDefault=function(n,t){var r=$(n).val().replace(/\s+/g,"").replace(",",".").trim(),i=parseInt(r);return isNaN(i)?t:i},i.prototype.getSelectedCarAge=function(){var t=parseInt(this.getCarYear()),i,n;return isNaN(t)?NaN:(i=(new Date).getFullYear(),n=i-t,n<0?0:n)},i.prototype.getFormattedAmount=function(n){return n.toCurrency().split(",")[0]},i.prototype.getLoanAmount=function(){return this.getCarPrice()-this.getEquity()},i.prototype.setSelectedMenuItem=function(n,t){n.val(t);n.val()==null&&(n.empty(),n.append($("<option><\/option>").attr("value",t)));n.skbselectmenu("refresh")},i.prototype.trackPage=function(t,i){n.plugins.WebStatistics.triggerVirtualPageView("/lan/billan/"+t,i)},i}();i.CarLoanNavigator=u})(i=t.financing||(t.financing={}))})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(t){var i;(function(t){var i=function(){function t(n){this._navigator=n;this._registrationNumberRegEx=new RegExp("^[A-Z|a-z]{2}[0-9]{5}$");this._carYearsLoaded=!1;this._isEnvironmental=!1;this.CarYear=$("#CarYear");this.CarMake=$("#CarMake");this.CarModel=$("#CarModel");this.CarEngine=$("#CarEngine");this.CarEquipment=$("#CarEquipment");this.CarEquipmentList=$("#CarEquipmentList");this.CarIsEnvironmental=$("#CarIsEnvironmental");this.attachPageNavigation();this.attachCarYearChange();this.attachCarMakeChange();this.attachCarModelChange();this.attachCarModelEngineChange();this.attachHasSellerInformationChange();this.attachSellerNameChange();this.attachSellerPhoneNumberChange();this.attachSellerAccountNrChange();this.attachSellerEmailChange();this.attachChangeLoanYears();this.attachChangeIsNewCar();this.attachRegistrationNumberChange();this.attachOdometerReadingChange();this.attachIsDealerSaleChange();this.attachHasConfirmedCreditCheckChange();this.attachChangeEquity();this.attachChangeEquityAndLoanYears()}return t.prototype.loadPage=function(){this._carYearsLoaded===!1?(this.updateCarYears(),this._carYearsLoaded=!0):this._navigator.getIsCarDataChanged()&&this.updateCarMakes();this.hideValidationMessages();this.disableEmptyMenus();this.updateCarLoanInformation();this.validateLoanYears();this._navigator.setIsCarDataChanged(!1);this._navigator.setBackConfirmed(!1)},t.prototype.attachPageNavigation=function(){var t=this;$("#ShowConfirmSubmit, #NewCustomerShowConfirmSubmit").click(function(){return t.validate()});$("#ConfirmAsNewCustomerWithBankId").click(function(n){n.preventDefault();var t=$(n.currentTarget).parents("form");t.attr("action",t.attr("action")+"?isNewCustomer=true");t.submit()});$("form#CarLoan").submit(function(n){return t.validate()&&$("input[type=submit]:visible",n.currentTarget).length>0});$("#Next").click(function(i){i.preventDefault();t.isInfoMessagesVisible()?t.hideValidationMessages():t.validateOnPost()?(t.updateCarDataOnPost(),t._navigator.navigateToNewCustomerChoice()):n.lib.AutoScroll.scrollTo($(".field-validation-error:visible, #CarInformationPage .box--notification:visible").first().parent())});$("#GoBack").click(function(n){return t._navigator.getClearedFinnCode()?(t.showConfirmBack(),!1):(n.preventDefault(),t._navigator.navigateToCalculatorPage(),!0)});$("#ConfirmRemoveFinnCode").click(function(n){n.preventDefault();t.hideConfirmBack();t._navigator.setBackConfirmed(!0);t._navigator.navigateToCalculatorPage()});$("#ConfirmKeepFinnCode").click(function(n){n.preventDefault();t.hideConfirmBack();t._navigator.setBackConfirmed(!0);t._navigator.setFinnCode(t._navigator.getClearedFinnCode());t._navigator.navigateToCalculatorPage()})},t.prototype.attachCarYearChange=function(){var n=this;n.CarYear.change(function(){n.clearFinnCode();n.validateLoanYears()&&n.updateCarMakes();n.hideValidationMessageForMenu(n.CarYear)})},t.prototype.attachCarMakeChange=function(){var n=this;n.CarMake.change(function(){n.updateCarModels();n.clearFinnCode();n.hideValidationMessageForMenu(n.CarMake)})},t.prototype.attachCarModelChange=function(){var n=this;n.CarModel.change(function(){n.updateCarModelEngines();n.hideValidationMessageForMenu(n.CarModel)})},t.prototype.attachCarModelEngineChange=function(){var n=this;n.CarEngine.change(function(){n.updateCarModelEquipment();n.hideValidationMessageForMenu(n.CarEngine)})},t.prototype.attachHasSellerInformationChange=function(){$("#HasSellerInformation").change(function(){$("#HasSellerInformation").is(":checked")?$("#SellerInformation").slideDown(200,"linear"):$("#SellerInformation").slideUp(200,"linear")})},t.prototype.attachSellerNameChange=function(){$("#SellerName").change(function(){$("#SellerName").val($("#SellerName").val().trim())})},t.prototype.attachSellerPhoneNumberChange=function(){$("#SellerPhoneNumber").change(function(){$("#SellerPhoneNumber").val($("#SellerPhoneNumber").val().trim())})},t.prototype.attachSellerAccountNrChange=function(){$("#SellerAccountNr").change(function(){$("#SellerAccountNr").val($("#SellerAccountNr").val().trim())})},t.prototype.attachSellerEmailChange=function(){$("#SellerEmail").change(function(){$("#SellerEmail").val($("#SellerEmail").val().trim())})},t.prototype.attachChangeLoanYears=function(){var n=this,t=function(t){t.preventDefault();n._navigator.setLoanYears($("#carInformationMaxLoanYears").text());n._navigator.setIsNewCar(!1);n.updateCarMakes();n.updateCarLoanInformation();n.hideInfoMessages();n.hideOdometerInfoMessages();n.hideNoDealerSaleInfoMessages();n.setDisableMenus(!1);$("#changeLoanYears").parent().hide();$("#changeLoanYearsBecauseOfOdometerReading").parent().hide();$("#changeLoanYearsBecauseOfNoDealerSale").parent().hide()};$("#changeLoanYears, #changeLoanYearsBecauseOfOdometerReading, #changeLoanYearsBecauseOfNoDealerSale").click(t)},t.prototype.attachChangeEquity=function(){var n=this;$("#changeEquity").click(function(t){t.preventDefault();n._navigator.setEquity($("#maxCarAgeExceeded_equity").text());n.updateCarMakes();n.updateCarLoanInformation();n.hideInfoMessages();n.setDisableMenus(!1)})},t.prototype.attachChangeEquityAndLoanYears=function(){var n=this;$("#changeEquityAndLoanYears").click(function(t){t.preventDefault();n._navigator.setEquity($("#maxCarAgeAndLoanYearsExceeded_equity").text());n._navigator.setLoanYears($("#maxCarAgeAndLoanYearsExceeded_loanYears").text());n.updateCarMakes();n.updateCarLoanInformation();n.hideInfoMessages();n.setDisableMenus(!1)})},t.prototype.attachChangeIsNewCar=function(){var n=this,t=function(t){t.preventDefault();n._navigator.setIsNewCar(!1);n.hideNoDealerSaleInfoMessages();n.setDisableMenus(!1);$("#changeIsNewCarBecauseOfNoDealerSale").parent().hide();$("#changeIsNewCarBecauseOfOdometerReading").parent().hide()};$("#changeIsNewCarBecauseOfNoDealerSale, #changeIsNewCarBecauseOfOdometerReading").click(t)},t.prototype.attachHasConfirmedCreditCheckChange=function(){var n=this;$("#HasConfirmedCreditCheck").click(function(){n.validateHasConfirmedCreditCheck()})},t.prototype.attachRegistrationNumberChange=function(){var n=this;$("#RegistrationNumber").focusout(function(){n.validateRegistrationNumber()})},t.prototype.attachOdometerReadingChange=function(){var n=this;$("#OdometerReading").focusout(function(){n.validateOdometerReading()})},t.prototype.attachIsDealerSaleChange=function(){var n=this;$("#IsDealerSale").change(function(){n.validateIsDealerSale()});$("#IsPrivateSale").change(function(){n.validateIsDealerSale()})},t.prototype.validate=function(){return this._navigator.getIsFinancingProof()?!0:this.isInfoMessagesVisible()?(this.hideValidationMessages(),!1):this.validateOnPost()?(this.updateCarDataOnPost(),!0):(n.lib.AutoScroll.scrollTo($(".field-validation-error:visible, #CarInformationPage .box--notification:visible").first().parent()),!1)},t.prototype.updateCarYears=function(){var n=this;n.doAjax(n.CarYear,{}).done(function(t){t&&(n.updateMenuItems(n.CarYear,t),n.updateCarMakes())}).fail(function(){$("#carAgeLoadFail").show();$("#carAgeLoadFail a").one("click",function(t){t.preventDefault();$("#carAgeLoadFail").hide();n.updateCarYears()})})},t.prototype.updateCarMakes=function(){var n=this,t=n.CarYear.val();if(t.length===0){n.clearCarMake();n.hideInfoMessages();return}n.doAjax(n.CarMake,{year:t}).done(function(t){if(t){var i=n.updateMenuItems(n.CarMake,t);i?n.updateCarModels():n.clearCarModel()}else n.clearCarMake()})},t.prototype.updateCarModels=function(){var n=this,t=n.CarMake.val(),i;if(t.length===0){n.clearCarModel();return}i=n.CarYear.val();n.doAjax(n.CarModel,{make:t,year:i}).done(function(t){if(t){var i=n.updateMenuItems(n.CarModel,t);i?n.updateCarModelEngines():n.clearCarEngine()}else n.clearCarModel()})},t.prototype.updateCarModelEngines=function(){var n=this,t=n.CarModel.val(),i,r;if(t.length===0){n.clearCarEngine();return}i=n.CarYear.val();r=n.CarMake.val();n.doAjax(n.CarEngine,{make:r,year:i,model:t}).done(function(t){if(t){var i=n.updateMenuItems(n.CarEngine,t);i?n.updateCarModelEquipment():n.clearEquipment()}else n.clearCarEngine()})},t.prototype.updateCarModelEquipment=function(){var n=this,t=n.CarEngine.val();if(t.length===0){n.clearEquipment();return}var r=n.CarYear.val(),u=n.CarMake.val(),f=n.CarModel.val(),i=n._navigator.getIsPersonalCar(),e=i?"PERSONAL":"VAN",o=i?"Personbil":"Varebil",s=n.getSelectedEquipment();this.doAjax(n.CarEquipment,{Make:u,Year:r,Model:f,ModelDetails:t,BodyType:{Id:e,Name:o}}).done(function(t){var r,u,i;if(t)if(r=t.CarPriceOptions,r.length>0){for(n.CarEquipmentList.empty(),u=0;u<r.length;u++)i=r[u],n.CarEquipmentList.append('<div class="row__column one-half"><input id="Equipment_'+i.Id+'" name="Equipment" type="checkbox" class="formfield__checkbox" value="'+i.Id+'"><label class="label label--inline" for="Equipment_'+i.Id+'">'+i.Description+"<\/label><\/div>"),$("#Equipment_"+i.Id).prop("checked",$.inArray(i.Id,s)>-1);n.CarEquipment.slideDown(200)}else n.clearEquipment();else n.clearEquipment();n.updateCarModelIsEnvironmental()})},t.prototype.updateCarModelIsEnvironmental=function(){var n=this,t=n.CarEngine.val();if(t.length===0){n.clearIsEnvironmental();return}var i=n.CarYear.val(),r=n.CarMake.val(),u=n.CarModel.val();this.doAjax(n.CarIsEnvironmental,{Make:r,Year:i,Model:u,ModelDetails:t}).done(function(t){t?n.CarIsEnvironmental.show():n.clearIsEnvironmental();n._isEnvironmental=t;n._navigator.setIsGreen(t);n.updateCarLoanInformation()})},t.prototype.updateMenuItems=function(n,t){var s=n.val(),e=null,r=this.getItems(t),o,u,i,f;for(n.empty(),o=r.length>0?n.data("option-label"):"",n.append($("<option><\/option>").attr("value","").text(o)),u=0;u<r.length;u++)i=r[u].toString(),i===s?(e=i,f="<option selected='selected'><\/option>"):f="<option><\/option>",n.append($(f).attr("value",i).text(i));return this.setDisableMenu(n,r.length===0),n.skbselectmenu("refresh"),e},t.prototype.updateCarDataOnPost=function(){var n=this;n._navigator.setIsGreen(n._isEnvironmental);n._navigator.updateCarDataOnPost()},t.prototype.updateCarLoanInformation=function(){var f=this._navigator.getIsGreen(),t=this._navigator.getIsSerial(),i=this._navigator.getLoanYears(),o=this._navigator.getCarPrice(),s=this._navigator.getEquity(),r=this._navigator.getLoanAmount(),n=this._navigator.CalculatorHelper.getNominalInterestRate(o,s,f),h=this._navigator.LoanCalculator.calculateEffectiveInterestRate(n),u=t?this._navigator.LoanCalculator.calculatePaymentPlanForSerialLoan(i,r,n,0):this._navigator.LoanCalculator.calculatePaymentPlanForAnnuityLoan(i,r,n,0),e=u[u.length-1].SumInterest,c=Math.round(r+e),l=Math.round(u[0].MonthlyAmount);$("#loanSummaryMonthlyAmountText").text(t?"Frste betaling":"Pris per mned");$("#loanSummaryLoanAmount").text(this.getFormattedAmount(this._navigator.getLoanAmount())+",-");$("#loanSummaryLoanYears").text(i+" r");$("#loanSummaryInterestText").text(f?"Grnn effektiv rente":"Effektiv rente");$("#loanSummaryEffectiveInterestRate").text(h.toFixed(2).replace(".",",")+" %");$("#loanSummaryNominalInterestRate").text(n.toFixed(2).replace(".",",")+" %");$("#loanSummaryLoanType").text(t?"Serie":"Annuitet");$("#loanSummarySumInterest").text(this.getFormattedAmount(e)+",-");$("#loanSummaryTotalAmount").text(this.getFormattedAmount(c)+",-");$("#loanSummaryMonthlyAmount").text(this.getFormattedAmount(l)+",-")},t.prototype.doAjax=function(n,t){var i=n.data("url");return $.ajax({type:"POST",url:i,cache:!1,timeout:2e4,data:JSON.stringify(t),contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:function(){$("#WaitBlock").show()},complete:function(){$("#WaitBlock").hide()}})},t.prototype.hideConfirmBack=function(){$("#main-menu__mask").removeClass("active");$("#main-menu__mask").attr("title","Lukk meny");$("#FormActions").show();var n="#ConfirmBack";$(n).css("position","inherit");$(n).css("z-index","");$(n).hide()},t.prototype.hideValidationMessages=function(){var n=this;n.hideValidationMessageForMenu(n.CarYear);n.hideValidationMessageForMenu(n.CarMake);n.hideValidationMessageForMenu(n.CarModel);n.hideValidationMessageForMenu(n.CarEngine);n.hideValidationMessage("RegistrationNumber");n.hideValidationMessage("OdometerReading");n.hideValidationMessage("HasConfirmedCreditCheck")},t.prototype.hideValidationMessageForMenu=function(n){var t=n.attr("id");this.hideValidationMessage(t)},t.prototype.hideValidationMessage=function(n){$("#"+n+"Validation").hide()},t.prototype.showValidationMessage=function(n){$("#"+n+"Validation").show()},t.prototype.showConfirmBack=function(){$("#main-menu__mask").addClass("active");$("#ConfirmBack").css("position","relative");$("#ConfirmBack").css("z-index","3");$("#ConfirmBack").slideDown(200);$("#FormActions").hide()},t.prototype.showEquityValidationMessage=function(n,t){var i=this,r=i._navigator.CalculatorHelper.getEquityForBestInterest(i._navigator.getCarPrice()),u=i._navigator.CalculatorHelper.getMaxLoanYear(i._navigator.getCarPrice(),r,n);u<t?($("#maxCarAgeAndLoanYearsExceeded_equity").text(i._navigator.getFormattedAmount(r)),$("#maxCarAgeAndLoanYearsExceeded_loanYears").text(u.toString()),$("#maxCarAgeAndLoanYearsExceeded").show()):($("#maxCarAgeExceeded_equity").text(i._navigator.getFormattedAmount(r)),$("#maxCarAgeExceeded").show())},t.prototype.showMaxLoanYearsValidationMessage=function(n){$("#carInformationMaxLoanYears").text(n.toString());$("#changeLoanYearsRequired").show()},t.prototype.validateLoanYears=function(){var n=this;n.hideInfoMessages();var i=n._navigator.getSelectedCarAge(),t=n._navigator.CalculatorHelper.getMaxLoanYear(n._navigator.getCarPrice(),n._navigator.getEquity(),i),r=n._navigator.getLoanYears();return!isNaN(i)&&(isNaN(t)||r>t)?(isNaN(t)?n.showEquityValidationMessage(i,r):n.showMaxLoanYearsValidationMessage(t),n.hideValidationMessages(),n.setDisableMenu(n.CarMake,!0),n.clearCarModel(),!1):!isNaN(i)&&this._navigator.getIsNewCar()&&r>t&&i>1?(n.showMaxLoanYearsValidationMessage(t),!1):!0},t.prototype.validateOnPost=function(){var n=this;return n.validateMenu(n.CarYear),n.validateMenu(n.CarMake),n.validateMenu(n.CarModel),n.validateMenu(n.CarEngine),n.validateSellerName(),n.validateSellerPhoneNumber(),n.validateSellerAccountNumber(),n.validateSellerEmail(),n.validateRegistrationNumber(),n.validateOdometerReading(),n.validateIsDealerSale(),n.validateHasConfirmedCreditCheck(),$(".field-validation-error:visible, #CarInformationPage .box--notification:visible").length===0},t.prototype.validateSellerName=function(){var n=this,t;n._navigator.getHasSellerInformation()&&(t=n._navigator.getSellerName(),t&&t.length!==0?n.hideValidationMessage("SellerName"):n.showValidationMessage("SellerName"))},t.prototype.validateSellerPhoneNumber=function(){var n=this,t;n._navigator.getHasSellerInformation()&&(t=n._navigator.getSellerPhoneNumber(),t&&t.length!==0?n.isValidPhoneNumber(t)?n.hideValidationMessage("SellerPhoneNumber"):n.showValidationMessage("SellerPhoneNumber"):n.hideValidationMessage("SellerPhoneNumber"))},t.prototype.isValidPhoneNumber=function(n){return n.length===8&&!isNaN(Number(n))},t.prototype.validateSellerAccountNumber=function(){var n=this,t;n._navigator.getHasSellerInformation()&&(t=n._navigator.getSellerAccountNr(),t&&t.length!==0?n.isValidAccountNumber(t)?n.hideValidationMessage("SellerAccountNr"):n.showValidationMessage("SellerAccountNr"):n.hideValidationMessage("SellerAccountNr"))},t.prototype.isValidAccountNumber=function(t){var i=(new n.util.AccountNumber).trimAccountNumber(t);return i.length===11&&!isNaN(Number(i))&&n.lib.ModUtils.prototype.checkModulus11(i)},t.prototype.validateSellerEmail=function(){var n=this,t;n._navigator.getHasSellerInformation()&&(t=n._navigator.getSellerEmail(),t&&t.length!==0?n.isValidEmail(t)?n.hideValidationMessage("SellerEmail"):n.showValidationMessage("SellerEmail"):n.hideValidationMessage("SellerEmail"))},t.prototype.isValidEmail=function(n){var t=new RegExp("^[a-zA-Z0-9][a-zA-Z0-9+_-]*(\\.[a-zA-Z0-9+_-]+)*@[a-zA-Z0-9][a-zA-Z0-9+-]+(\\.[a-zA-Z0-9-]+)*(\\.[a-zA-Z]{2,9})$");return t.test(n)},t.prototype.validateRegistrationNumber=function(){var n=this._navigator.getRegistrationNumber();!n||n.length===0||this._registrationNumberRegEx.test(n)?this.hideValidationMessage("RegistrationNumber"):this.showValidationMessage("RegistrationNumber")},t.prototype.validateOdometerReading=function(){var i=this._navigator.CalculatorHelper.getMaxLoanYearForEquityBelowLimit(),n,t;this.hideOdometerInfoMessages();n=this._navigator.getOdometerReading();t=Number(n);n===""||isNaN(t)?this.showValidationMessage("OdometerReading"):this._navigator.getIsNewCar()&&t>this._navigator.CalculatorHelper.getMaxOdometerReadingForNewCar()?($(".maxOdometerReadingOfNewCar").text(this._navigator.CalculatorHelper.getMaxOdometerReadingForNewCar()+1),this._navigator.getEquity()<this._navigator.CalculatorHelper.getEquityForBestInterest(this._navigator.getCarPrice())&&this._navigator.getLoanYears()>this._navigator.CalculatorHelper.getMaxLoanYearForEquityBelowLimit()?($("#carInformationMaxLoanYears").text(i.toString()),$("#carInformationMaxLoanYearsBecauseOfOdometerReading").text(i.toString()),$("#changeLoanYearsRequiredBecauseOfOdometerReading").show()):$("#changeToUsedCarRequiredBecauseOfOdometerReading").show()):this.hideValidationMessage("OdometerReading")},t.prototype.validateIsDealerSale=function(){var n=this._navigator.CalculatorHelper.getMaxLoanYearForEquityBelowLimit();this.hideNoDealerSaleInfoMessages();!this._navigator.getIsDealerSale()&&this._navigator.getIsNewCar()&&(this._navigator.getEquity()<this._navigator.CalculatorHelper.getEquityForBestInterest(this._navigator.getCarPrice())&&this._navigator.getLoanYears()>this._navigator.CalculatorHelper.getMaxLoanYearForEquityBelowLimit()?($("#carInformationMaxLoanYears").text(n.toString()),$("#carInformationMaxLoanYearsBecauseOfNoDealerSale").text(n.toString()),$("#changeLoanYearsRequiredBecauseOfNoDealerSale").show()):$("#changeToUsedRequiredBecauseOfNoDealerSale").show())},t.prototype.validateHasConfirmedCreditCheck=function(){this._navigator.getHasConfirmedCreditCheck()?this.hideValidationMessage("HasConfirmedCreditCheck"):this.showValidationMessage("HasConfirmedCreditCheck")},t.prototype.validateMenu=function(n){var t=n.attr("id");this.isValidMenuVal(n)?this.hideValidationMessage(t):this.showValidationMessage(t)},t.prototype.isValidMenuVal=function(n){var i=n.attr("id"),t=$("#"+i).val();return t&&t.length!==0?!0:!1},t.prototype.isInfoMessagesVisible=function(){return $("#changeLoanYearsRequired").is(":visible")||$("#maxCarAgeExceeded").is(":visible")},t.prototype.isOdometerInfoMessagesVisible=function(){return $("#changeLoanYearsRequiredBecauseOfOdometerReading").is(":visible")},t.prototype.isNoDealerSaleInfoMessagesVisible=function(){return $("#changeLoanYearsRequiredBecauseOfNoDealerSale").is(":visible")},t.prototype.isEnvironmentalVisible=function(){return $(this.CarIsEnvironmental).is(":visible")},t.prototype.isEmptyMenu=function(n){return n.children("option").length<=1},t.prototype.hideInfoMessages=function(){$("#maxCarAgeExceeded").hide();$("#changeLoanYearsRequired").hide();$("#maxCarAgeAndLoanYearsExceeded").hide()},t.prototype.hideOdometerInfoMessages=function(){$("#changeToUsedCarRequiredBecauseOfOdometerReading").hide();$("#changeLoanYearsRequiredBecauseOfOdometerReading").hide()},t.prototype.hideNoDealerSaleInfoMessages=function(){$("#changeLoanYearsRequiredBecauseOfNoDealerSale").hide();$("#changeToUsedRequiredBecauseOfNoDealerSale").hide()},t.prototype.clearCarMake=function(){this.emptyMenu(this.CarMake);this.clearCarModel()},t.prototype.clearCarModel=function(){this.emptyMenu(this.CarModel);this.clearCarEngine()},t.prototype.clearCarEngine=function(){this.emptyMenu(this.CarEngine);this.clearEquipment()},t.prototype.clearEquipment=function(){this.CarEquipmentList.empty();this.CarEquipment.hide();this.clearIsEnvironmental()},t.prototype.clearIsEnvironmental=function(){this.CarIsEnvironmental.hide()},t.prototype.clearFinnCode=function(){var n=this._navigator.getFinnCode();n.length>0&&(this._navigator.setFinnCode(""),this._navigator.setRegistrationNumber(""),this._navigator.setOdometerReading(""),this._navigator.setFinnImgUrl(""),this._navigator.setClearedFinnCode(n))},t.prototype.emptyMenu=function(n){n.empty();n.append("<option><\/option>");n.skbselectmenu("refresh");this.setDisableMenu(n,!0)},t.prototype.getFormattedAmount=function(n){return n.toCurrency().split(",")[0]},t.prototype.getSelectedEquipment=function(){var n=$("#selectedEquipment").val().split(",");return $("#selectedEquipment").val(""),n},t.prototype.getItems=function(n){return n.hasOwnProperty("GetPossibleYearModelsResult")?n.GetPossibleYearModelsResult:n.hasOwnProperty("GetPossibleCarMakesResult")?n.GetPossibleCarMakesResult:n.hasOwnProperty("GetPossibleCarModelsResult")?n.GetPossibleCarModelsResult:n.hasOwnProperty("GetPossibleCarModelDetailsResult")?n.GetPossibleCarModelDetailsResult:n},t.prototype.setDisableMenus=function(n){var t=this;t.setDisableMenu(t.CarMake,n);t.setDisableMenu(t.CarModel,n);t.setDisableMenu(t.CarEngine,n)},t.prototype.disableEmptyMenus=function(){var n=this;n.disableEmptyMenu(n.CarMake);n.disableEmptyMenu(n.CarModel);n.disableEmptyMenu(n.CarEngine)},t.prototype.disableEmptyMenu=function(n){this.isEmptyMenu(n)&&this.setDisableMenu(n,!0)},t.prototype.setDisableMenu=function(n,t){t?n.skbselectmenu("disable"):n.skbselectmenu("enable")},t}();t.CarLoanCarInformation=i})(i=t.financing||(t.financing={}))})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t;(function(n){var t=function(){function n(n){this.navigator=n;this.attachPageNavigation()}return n.prototype.loadPage=function(){this.updateCarLoanInformation()},n.prototype.attachPageNavigation=function(){var n=this;$("#NewCustomerChoiceGoBack").click(function(t){t.preventDefault();n.navigator.navigateToCarInformationPage(!0)});$("#NewCustomerWithBankId").click(function(n){n.preventDefault();var t=$(n.currentTarget).parents("form");t.attr("action",t.attr("action")+"?isNewCustomer=true");t.submit()})},n.prototype.updateCarLoanInformation=function(){var f=this.navigator.getIsGreen(),t=this.navigator.getIsSerial(),i=this.navigator.getLoanYears(),o=this.navigator.getCarPrice(),s=this.navigator.getEquity(),r=this.navigator.getLoanAmount(),n=this.navigator.CalculatorHelper.getNominalInterestRate(o,s,f),h=this.navigator.LoanCalculator.calculateEffectiveInterestRate(n),u=t?this.navigator.LoanCalculator.calculatePaymentPlanForSerialLoan(i,r,n,0):this.navigator.LoanCalculator.calculatePaymentPlanForAnnuityLoan(i,r,n,0),e=u[u.length-1].SumInterest,c=Math.round(r+e),l=Math.round(u[0].MonthlyAmount);$("#newCustomerChoiceLoanSummaryMonthlyAmountText").text(t?"Frste betaling":"Pris per mned");$("#newCustomerChoiceLoanSummaryLoanAmount").text(this.getFormattedAmount(this.navigator.getLoanAmount())+",-");$("#newCustomerChoiceLoanSummaryLoanYears").text(i+" r");$("#newCustomerChoiceLoanSummaryInterestText").text(f?"Grnn effektiv rente":"Effektiv rente");$("#newCustomerChoiceLoanSummaryEffectiveInterestRate").text(h.toFixed(2).replace(".",",")+" %");$("#newCustomerChoiceLoanSummaryNominalInterestRate").text(n.toFixed(2).replace(".",",")+" %");$("#newCustomerChoiceLoanSummaryLoanType").text(t?"Serie":"Annuitet");$("#newCustomerChoiceLoanSummarySumInterest").text(this.getFormattedAmount(e)+",-");$("#newCustomerChoiceLoanSummaryTotalAmount").text(this.getFormattedAmount(c)+",-");$("#newCustomerChoiceLoanSummaryMonthlyAmount").text(this.getFormattedAmount(l)+",-")},n.prototype.getFormattedAmount=function(n){return n.toCurrency().split(",")[0]},n}();n.CarLoanNewCustomerChoice=t})(t=n.financing||(n.financing={}))})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t;(function(t){var i=function(){function t(){this._maxCarPrice=9e6;this._minCarPrice=4e4;this._minLoanAmount=3e4}return t.prototype.attachPlugin=function(){var t=this;t.LoanCalculator=new n.financing.LoanCalculator;t.CalculatorHelper=new n.financing.CarLoanCalculatorHelper;t.setDefaultCarPrice();t.setDefaultEquity();t.setRegistrationFee();t.attachCarPriceChange();t.attachEquityChange();t.attachLoanYearsChange();t.attachIsGreenChange();t.attachNavigateToCarLoanCalculator();t.updateAll(!1,!0)},t.prototype.setDefaultCarPrice=function(){this._defaultCarPrice=this.CalculatorHelper.getValidNumberOrDefault("#CarPriceCarLoanCalcBlock",2e5)},t.prototype.setDefaultEquity=function(){this._defaultEquity=this.CalculatorHelper.getValidNumberOrDefault("#EquityCarLoanCalcBlock",4e4)},t.prototype.setRegistrationFee=function(){this._registrationFee=this.CalculatorHelper.getValidNumberOrDefault("#registrationFee",NaN)},t.prototype.attachCarPriceChange=function(){var n=this;$("#CarPriceCarLoanCalcBlock").keyup(function(){n.updateAll(!1,!0)});$("#CarPriceCarLoanCalcBlock").blur(function(){n.updateAll(!0,!0)})},t.prototype.attachEquityChange=function(){var n=this;$("#EquityCarLoanCalcBlock").keyup(function(){n.updateAll(!1,!0)});$("#EquityCarLoanCalcBlock").blur(function(){n.updateAll(!0,!0)})},t.prototype.attachLoanYearsChange=function(){var n=this;$("#LoanYearsSelectCarLoanCalcBlock").change(function(){n.updateAll(!1,!1)})},t.prototype.attachIsGreenChange=function(){var n=this;$("#IsGreenCarLoanCalcBlock").change(function(){n.updateAll(!1,!0)})},t.prototype.attachNavigateToCarLoanCalculator=function(){var t=this,n=this;$("#NavigateToCarLoanCalculator").click(function(i){i.preventDefault();var r=$("#NavigateToCarLoanCalculator").data("url");window.location.href=r+"?carPrice="+n.getCarPrice()+"&equity="+n.getEquity()+"&loanYears="+n.getSelectedLoanYear().year+"&isGreen="+(t.getIsGreen()?"true":"false")})},t.prototype.isValidCarPrice=function(){var n=this.getCarPrice();return isNaN(n)||n<this._minCarPrice||n>this._maxCarPrice?!1:!0},t.prototype.isValidEquity=function(){var n=this.getEquity(),t=this.getCarPrice();return n<0||n>=t||t-n<this._minLoanAmount?!1:!0},t.prototype.setValidCarPrice=function(){this.isValidCarPrice()||$("#CarPriceCarLoanCalcBlock").val(this.CalculatorHelper.getFormattedAmount(this._defaultCarPrice))},t.prototype.setValidEquity=function(){this.isValidEquity()||$("#EquityCarLoanCalcBlock").val("")},t.prototype.getCarPrice=function(){return this.CalculatorHelper.getValidNumberOrDefault("#CarPriceCarLoanCalcBlock",NaN)},t.prototype.getEquity=function(){return this.CalculatorHelper.getValidNumberOrDefault("#EquityCarLoanCalcBlock",0)},t.prototype.getIsGreen=function(){return $("#IsGreenCarLoanCalcBlock").is(":checked")},t.prototype.getSelectedLoanYear=function(){var n=$("#LoanYearsSelectCarLoanCalcBlock").val();if(n){var t=n.split(":"),i=Number(t[0]),r=Number(t[1]);return{year:i,amount:r}}return null},t.prototype.updateLoanYears=function(t,i,r){var u=this.LoanCalculator.calculateLoanYears(t,i,r,!1),f=this.getSelectedLoanYear(),h,e,o;for(h=f&&f.year<=u.length?f.year:f?u.length:5,e=$("#LoanYearsSelectCarLoanCalcBlock"),e.empty(),o=0;o<u.length;o++){var s=u[o],c=Math.round(s.amount),a=s.year+" r|"+this.CalculatorHelper.getFormattedAmount(c)+',- per <span class="accessibility"> mned <\/span> mnd.',l;l=s.year===h?"<option selected='selected'><\/option>":"<option><\/option>";e.append($(l).attr("value",s.year+":"+c).text(a))}n.SelectMenu.prototype.attachPlugin();e.skbselectmenu("refresh")},t.prototype.updateEquityInfoForBestInterest=function(){var n=this.getCarPrice(),t;n>=this._minCarPrice&&n<=this._maxCarPrice&&(t=this.CalculatorHelper.getEquityForBestInterest(n),$("#equityForBestInterestCarLoanCalcBlock").text(this.CalculatorHelper.getFormattedAmount(t)))},t.prototype.updateAll=function(n,t){if(this.updateEquityInfoForBestInterest(),n)this.setValidCarPrice(),this.setValidEquity();else if(!this.isValidCarPrice()||!this.isValidEquity())return;var i=this.getCarPrice(),r=this.getEquity(),e=this.getIsGreen(),o=i-r+this._registrationFee,f=this.CalculatorHelper.getMaxLoanYear(i,r,NaN),u=this.CalculatorHelper.getNominalInterestRate(i,r,e),s=this.LoanCalculator.calculateEffectiveInterestRate(u);t&&this.updateLoanYears(o,f,u);$("#maxLoanYearsCarLoanCalcBlock").text(f.toString());$("#summaryNominalInterestCarLoanCalcBlock").text(u.toFixed(2).replace(".",",")+" %");$("#summaryEffectiveInterestCarLoanCalcBlock").text(s.toFixed(2).replace(".",",")+" %");$("#summaryMonthlyAmountCarLoanCalcBlock").text(this.CalculatorHelper.getFormattedAmount(this.getSelectedLoanYear().amount)+",-")},t}();t.CarLoanCalculatorBlock=i})(t=n.financing||(n.financing={}))})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t;(function(n){var t=function(){function n(){this._maxIncome=1e7;this._maxDebt=99999999;this._doneTypingInterval=300}return n.prototype.attachPlugin=function(){this._maxLoanAmountServiceUrl=$("#maxLoanAmountUrl").val();this.attachUpdateOnChange();this.attachUpdateOnBlur();this.attachMaritalStatusChange();this.attachApplyForMortgageById("applyForMortgageLink");this.attachApplyForMortgageById("applyForFinancingProofLink")},n.prototype.attachUpdateOnChange=function(){var n=this;$("input[data-UpdateOnChange='true']").change(function(t){if(n._waitBlockTimer!=null){t.preventDefault();n._hasPreventedDefault=!0;return}n.updateMaxLoanAmount()})},n.prototype.attachUpdateOnBlur=function(){var n=this;$("input[data-updateOnBlur='true']").keyup(function(t){clearTimeout(n._typingTimer);n._typingTimer=setTimeout(function(){if(n._waitBlockTimer!=null){t.preventDefault();n._hasPreventedDefault=!0;return}n.updateMaxLoanAmount()},n._doneTypingInterval)});$("input[data-updateOnBlur='true']").keydown(function(){clearTimeout(n._typingTimer)});$("input[data-updateOnBlur='true']").blur(function(){clearTimeout(n._typingTimer);n.updateMaxLoanAmount()})},n.prototype.attachMaritalStatusChange=function(){var n=this;$("#maritalStatus").change(function(t){if(n.enableIncomeApplicant1(n.isMaritalStatusSet()),n.enableIncomeApplicant2(n.hasCoApplicant()),n._waitBlockTimer!=null){t.preventDefault();n._hasPreventedDefault=!0;return}n.updateMaxLoanAmount()})},n.prototype.attachApplyForMortgageById=function(n){var t=this;$("#"+n).click(function(i){var r,u,f,e;i.preventDefault();r=$("#applyForMortgageLink").attr("href");u=n==="applyForMortgageLink"?"Mortgage":"FinancingProof";r+="?LoanProduct="+u;f=$("#maritalStatus").val();t.isMaritalStatusSet()&&(r+="&MaritalStatus="+f+"&IncomeMainApplicant="+t.getIncomeMainApplicant(),t.hasCoApplicant()&&(e=t.getIncomeCoApplicant(),r+="&IncomeCoApplicant="+e),r+="&HasCar="+t.hasCar()+"&HasChildren="+(t.getNumberOfChildren()>0));window.location.href=r})},n.prototype.updateMaxLoanAmount=function(){var n=this;if(n.isMaritalStatusSet()){this.validateMaxAmount("IncomeApplicant1","incomeApplicant1",n._maxIncome);this.validateMaxAmount("IncomeApplicant2","incomeApplicant2",n._maxIncome);this.validateMaxAmount("SumDebt","debt",n._maxDebt);var r=n.hasCoApplicant(),t=this.getIncomeMainApplicant(),i=this.getIncomeCoApplicant(),u=this.getNumberOfChildren(),f=this.getTrimmedValue("SumDebt"),e=this.hasCar();t+i>0?this.doAjax({HasCoApplicant:r,IncomeApplicant1:t,IncomeApplicant2:i,NumberOfChildren:u,SumDebt:f,HasCar:e}).done(function(t){n._hasPreventedDefault?(n._hasPreventedDefault=!1,n.updateMaxLoanAmount()):n.updateLoanAmount(t)}):n.updateLoanAmount(0)}},n.prototype.updateLoanAmount=function(n){$("#maxLoanAmountHidden").val(n.toString());$("#maxLoanAmountHidden").trigger("change");$("#maxLoanAmount").text($("#maxLoanAmountHidden").val())},n.prototype.validateMaxAmount=function(n,t,i){var r=this.getTrimmedValue(n);r>i&&($("#"+t).val(i.toString()),$("#"+t).trigger("change"))},n.prototype.hasCoApplicant=function(){var n=$("#maritalStatus").val();return n==="MARRIED"||n==="COHABITANT"},n.prototype.hasCar=function(){return this.getCheckedInputVal("Car")==="true"},n.prototype.isMaritalStatusSet=function(){return $("#maritalStatus").val()!=="NOT_SET"},n.prototype.getNumberOfChildren=function(){return this.getIntOrDefault(this.getCheckedInputVal("Children"),0)},n.prototype.getIncomeMainApplicant=function(){return this.getTrimmedValue("IncomeApplicant1")},n.prototype.getIncomeCoApplicant=function(){return this.getTrimmedValue("IncomeApplicant2")},n.prototype.getTrimmedValue=function(n){var t=this.getInputVal(n).replace(/\s+/g,"").trim();return this.getIntOrDefault(t,0)},n.prototype.getInputVal=function(n){return $("input[name='"+n+"']").val()},n.prototype.getCheckedInputVal=function(n){return $("input[name='"+n+"']:checked").val()},n.prototype.getIntOrDefault=function(n,t){var i=parseInt(n);return isNaN(i)?t:i},n.prototype.enableIncomeApplicant1=function(n){$("#incomeApplicant1").prop("disabled",!n)},n.prototype.enableIncomeApplicant2=function(n){$("#incomeApplicant2").prop("disabled",!n)},n.prototype.doAjax=function(n){var t=this,i=this._maxLoanAmountServiceUrl;return $.ajax({type:"POST",url:i,cache:!1,timeout:2e4,data:JSON.stringify(n),contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:function(){t._waitBlockTimer&&clearTimeout(t._waitBlockTimer);t._waitBlockTimer=setTimeout(function(){$("#WaitBlock").slideDown(200)},2e3)},complete:function(){clearTimeout(t._waitBlockTimer);t._waitBlockTimer=null;$("#WaitBlock").hide()}})},n}();n.MortgageMaxLoan=t})(t=n.financing||(n.financing={}))})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t;(function(n){var t=function(){function n(){}return n.prototype.attachPlugin=function(){var n=this;$("#mortgageCostBlockRef").click(function(t){t.preventDefault();n.toggleActiveTab("mortgageCostBlockRef")});$("#mortgageMaxLoanBlockRef").click(function(t){t.preventDefault();n.toggleActiveTab("mortgageMaxLoanBlockRef")})},n.prototype.toggleActiveTab=function(n){$("#"+n).hasClass("button--tab--current")||($("#mortgageCostBlockRef").toggleClass("button--tab--current"),$("#mortgageMaxLoanBlockRef").toggleClass("button--tab--current"),$("#mortgageCostBlock").toggleClass("hide"),$("#mortgageMaxLoanBlock").toggleClass("hide"))},n}();n.MortgageMaxLoanAndCost=t})(t=n.financing||(n.financing={}))})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t;(function(n){var t=function(){function n(){}return n.prototype.calculatePaymentPlanForAnnuityLoan=function(n,t,i,r){return this.calculatePaymentPlanForAnnuityLoanByInstallmentFreeTerms(n,t,i,r*12)},n.prototype.calculatePaymentPlanForAnnuityLoanByInstallmentFreeTerms=function(n,t,i,r){var f=[],e=n*12,l=e-r,u;if(l<1)return f;var h=this.calculateMonthlyInterestRate(i),o=this.calculateMonthlyPaymentForTerms(l,t,h),a=this.calculateEffectiveInterestRate(i),v=0,y=0,s,c,p,w;for(r>0&&(f=this.getInstallmentFreePaymentPlan(o,e,r,t,h,i,a)),u=1+r;u<=e;u++)p=Math.ceil(u/12),s=o*Math.pow(1+h,-(1+e-u)),c=o-s,y+=c,v+=s,w=Math.round(t-v),f.push({Installment:s,Interest:c,MonthlyAmount:o,RemainingTotalAmount:w,PaymentYear:p,SumInterest:y,NominalInterest:i,EffectiveInterest:a});return f},n.prototype.calculatePaymentPlanForSerialLoan=function(n,t,i,r){return this.calculatePaymentPlanForSerialLoanByInstallmentFeeeTerms(n,t,i,r*12)},n.prototype.calculatePaymentPlanForSerialLoanByInstallmentFeeeTerms=function(n,t,i,r){var u=[],f=n*12,l=f-r,b,o;if(l<1)return u;var a=this.calculateEffectiveInterestRate(i),s=0,v=0,h=t/(f-r),c=this.calculateMonthlyInterestRate(i),y,e,p,w;for(r>0&&(b=this.calculateMonthlyPaymentForTerms(l,t,c),u=this.getInstallmentFreePaymentPlan(b,f,r,t,c,i,a)),o=1+r;o<=f;o++)e=(t-s)*c,v+=e,y=h+e,s+=h,w=Math.round(t-s),p=Math.ceil(o/12),u.push({Installment:h,Interest:e,MonthlyAmount:y,RemainingTotalAmount:w,PaymentYear:p,SumInterest:v,NominalInterest:i,EffectiveInterest:a});return u},n.prototype.calculateEffectiveInterestRate=function(n){var t=(Math.pow(1+n/1200,12)-1)*100;return Math.round(t*100)/100},n.prototype.calculateLoanYears=function(n,t,i,r){for(var o=[],s=this.calculateMonthlyInterestRate(i),c=n*s,f,e,h,u=1;u<=t;u++)e=u*12,r?(h=n/e,f=h+c):f=this.calculateMonthlyPaymentForTerms(e,n,s),o.push({year:u,amount:f});return o},n.prototype.calculateMonthlyPaymentForYear=function(n,t,i){var r=n*12;return this.calculateMonthlyPaymentForTerms(r,t,i)},n.prototype.calculateMonthlyPaymentForTerms=function(n,t,i){if(i===0)return t/n;var r=1-Math.pow(1+i,-n);return i/r*t},n.prototype.calculateMonthlyInterestRate=function(n){return n/1200},n.prototype.getInstallmentFreePaymentPlan=function(n,t,i,r,u,f,e){for(var s=[],h=n-n*Math.pow(1+u,-(t-i)),l=r,c,o=1;o<=i;o++)c=Math.ceil(o/12),s.push({Installment:0,Interest:h,MonthlyAmount:h,RemainingTotalAmount:l,PaymentYear:c,NominalInterest:f,EffectiveInterest:e});return s},n}();n.LoanCalculator=t})(t=n.financing||(n.financing={}))})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t;(function(n){var t=function(){function n(){}return n.prototype.populatePaymentPlan=function(n,t,i){var f=0,s=0,h=0,e=0,c=0,u="",l,o,r,a,v;for(n.empty(),l='<thead><tr><th>Nedbetalingsr<\/th><th>Belp<\/th><th class="table-responsive__hide">Avdrag<\/th><th class="table-responsive__hide">Renter<\/th><th class="table-responsive__hide">Nom. rente<\/th><th><span class="table-responsive__show">Rente<\/span><span class="table-responsive__hide"><abbr title="Effektiv rente">Eff. rente<\/abbr><\/span><\/th><th class="table-responsive__restgjeld-hide">Restgjeld<\/th><\/tr><\/thead>',n.append(l),o=0;o<t.length;o++)r=t[o],f+=1,s+=r.MonthlyAmount,h+=r.Installment,e+=r.Interest,c+=r.Interest,a="<td data-title='Nedbetalingsr'>Mned "+f+'<div class="table-responsive__description table-responsive__restgjeld-show no-wrap">Restgjeld:<\/br>'+this.getFormattedAmount(r.RemainingTotalAmount)+"<\/div><\/td><td data-title=' betale'>"+this.getFormattedAmount(r.MonthlyAmount)+'<div class="table-responsive__description table-responsive__show no-wrap">Hvorav renter:<\/br>'+this.getFormattedAmount(r.Interest)+"<\/div><\/td>"+this.createAmountColumn(this.getFormattedAmount(r.Installment),"Avdrag")+this.createAmountColumn(this.getFormattedAmount(r.Interest),"Renter")+this.createPercentColumn(r.NominalInterest.toFixed(3),"Nom. rente")+"<td data-title='Eff. rente'>"+r.EffectiveInterest.toFixed(2)+' %<div class="table-responsive__description table-responsive__show no-wrap">Nominell:<\/br>'+r.NominalInterest.toFixed(3)+" %<\/div><\/td><td data-title='Restgjeld' class=\"table-responsive__restgjeld-hide\">"+this.getFormattedAmount(r.RemainingTotalAmount)+"<\/td>",u+="<tr class='hide--important' data-year ="+r.PaymentYear+">"+a+"<\/tr>",f===12&&(v="<td data-title='Nedbetalingsr'>r "+r.PaymentYear+'<div class="table-responsive__description table-responsive__restgjeld-show no-wrap">Restgjeld:<\/br>'+this.getFormattedAmount(r.RemainingTotalAmount)+"<\/div><\/td><td data-title=' betale'>"+this.getFormattedAmount(s)+'<div class="table-responsive__description table-responsive__show no-wrap">Hvorav renter:<\/br>'+this.getFormattedAmount(e)+"<\/div><\/td>"+this.createAmountColumn(this.getFormattedAmount(h),"Avdrag")+this.createAmountColumn(this.getFormattedAmount(e),"Renter")+this.createPercentColumn(r.NominalInterest.toFixed(3),"Nom. rente")+"<td data-title='Eff. rente'>"+r.EffectiveInterest.toFixed(2)+' %<div class="table-responsive__description table-responsive__show no-wrap">Nominell:<\/br>'+r.NominalInterest.toFixed(3)+" %<\/div><\/td><td data-title='Restgjeld' class=\"table-responsive__restgjeld-hide\">"+this.getFormattedAmount(r.RemainingTotalAmount)+"<\/td>",u="<tbody><tr class='table-responsive__year' data-toggle-row="+r.PaymentYear+" aria-expanded='false'>"+v+"<\/tr>"+u+"<\/tbody>",n.append(u),u="",f=0,s=0,h=0,e=0);return this.attachTogglePaymentPlanRow(n),i&&this.expandPaymentPlanRow(1),this.togglePaymentPlanActive(n),c},n.prototype.createAmountColumn=function(n,t){return"<td data-title='"+t+"' class='table-responsive__hide'>"+n+"<\/td>"},n.prototype.createPercentColumn=function(n,t){return"<td data-title='"+t+"' class='table-responsive__hide'>"+n+" %<\/td>"},n.prototype.getFormattedAmount=function(n){return n=Math.abs(Math.round(n)),n.toCurrency().split(",")[0]},n.prototype.attachTogglePaymentPlanRow=function(n){var t=this;$("[data-toggle-row]").on("click keyup",function(i){if((i.type!=="keyup"||i.which===13)&&(i.type!=="keyup"||i.which!==13||i.target.tagName!=="A"||!i.target.href)){var r=$(this).data("toggle-row"),u=$(this).attr("aria-expanded"),f=u==="true"?"false":"true";$(this).attr("aria-expanded",f);$(this).toggleClass("active");t.togglePaymentPlanRowVisibility(r);t.togglePaymentPlanActive(n)}})},n.prototype.togglePaymentPlanActive=function(n){var t=!1;$("[data-toggle-row]").each(function(){$(this).attr("aria-expanded")==="true"&&(t=!0)});t?n.addClass("table-responsive--nedbetalingsplan--active"):n.removeClass("table-responsive--nedbetalingsplan--active")},n.prototype.togglePaymentPlanRowVisibility=function(n){$("[data-year='"+n+"']").each(function(){$(this).toggleClass("hide--important")})},n.prototype.expandPaymentPlanRow=function(n){$("[data-toggle-row="+n+"]").addClass("active");$("[data-toggle-row="+n+"]").attr("aria-expanded","true");$("[data-year='"+n+"']").each(function(){$(this).removeClass("hide--important")})},n}();n.PaymentPlanHelper=t})(t=n.financing||(n.financing={}))})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t=function(){function n(){}return n.prototype.attachPlugin=function(){var n=this;n.removeUnusedCookie()},n.prototype.removeUnusedCookie=function(){var i=this,n="cookies_notification",t=$.cookie(n);(t===null||t===undefined)&&$.removeCookie(n,{path:"/",domain:i.getOwnBaseDomainName()})},n.prototype.getOwnBaseDomainName=function(){var n=window.location.hostname.split(".").reverse();return n.length>1?n[1]+"."+n[0]:""},n}();n.CookiesNotification=t})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(){Modernizr.input.autofocus||$(document).ready(function(){$("[autofocus]").focus()})}(),function(){if(!Modernizr.svg||!window.jQuery){var n=document.getElementById("toooldbrowser");n.style.display="block"}}(),function(){Modernizr.csstransforms3d||$("[data-loadingicon]").each(function(n,t){$(t).html('<div class="loading__fallback"><\/div>')})}(),function(n){var t;(function(n){var t;(function(n){function t(){window.location.reload(!0)}function i(){$.ajaxSetup({timeout:1e4,statusCode:{401:function(){t()},403:function(){t()}}});$.ajaxPrefilter(function(n,t){if(t.type==="POST"&&n.type==="POST"&&n.data.indexOf("__RequestVerificationToken")===-1&&$("input[name=__RequestVerificationToken]").val()){var i;i=typeof t.data=="string"||t.data instanceof String?t.data:$.param(t.data);n.data=i+"&__RequestVerificationToken="+$("input[name=__RequestVerificationToken]").val()}})}n.reloadPage=t;n.setupAjax=i})(t=n.AjaxSettings||(n.AjaxSettings={}))})(t=n.infra||(n.infra={}))}(skbn||(skbn={}));skbn.infra.AjaxSettings.setupAjax(),function(n){var t;(function(t){var i;(function(t){function u(){$.removeCookie(e,{path:"/",secure:!0,domain:l()})}function a(){y();v();s=document.title}function v(){var i,t,r;p()?h():(i=navigator.userAgent.toLowerCase(),t=i.match(/android\s([0-9\.]*)/),t?(r=parseFloat(t[1]),r<4.4?$("[data-startchatonclick]").remove():$("[data-startchatonclick]").removeClass("hide")):$("[data-startchatonclick]").removeClass("hide"));$("[data-startchatonclick]").on("click",function(t){t.preventDefault();h();n.plugins.WebStatistics.trackEvent("Chat","StartChat")});$("[data-closechatonclick]").on("click",function(t){t.preventDefault();c();u();n.plugins.WebStatistics.trackEvent("Chat","CloseChat")})}function y(){var n=function(n){var e,t,h,l;try{if(o||n.origin!=="https://chatskb.edialog24.com"&&n.origin!=="https://chatskb2.edialog24.com"&&n.origin!=="https://chatskbtest.edialog24.com"&&n.origin!=="https://chatskbtest2.edialog24.com")return;e=f();t=JSON.parse(n.data);t.type=="dimensions"?(r||e.is(":visible")||k(),t.height&&(h=t.height,h>500&&(h=500),l=$("#chatframe"),l.css("height",h)),h>200&&(navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1)?($("#chatstuff").css("position","absolute"),window.scrollTo(0,document.body.scrollHeight)):$("#chatstuff").css("position","fixed")):t.type=="chatFinished"?(u(),i(e.data("chat-screenreader-chatfinished").toString())):t.type=="chatClosed"?(c(),u(),i(e.data("chat-screenreader-chatclosed").toString())):t.type=="newMessage"?(document.title=s+" (chat)",i(e.data("chat-screenreader-newmessage").toString())):t.type=="inQueue"?i(e.data("chat-screenreader-inqueue").toString()):t.type=="OperatorContact"?i(e.data("chat-screenreader-operatorcontact").toString()):t.type=="newOperatorContact"&&i(e.data("chat-screenreader-newoperatorcontact").toString())}catch(a){}};window.addEventListener?window.addEventListener("message",n,!1):window.attachEvent("onmessage",n)}function f(){return $("#chatframe")}function p(){var n=$.cookie(e);return n!==undefined&&n!==""}function i(n){$("#screenreader-live-polite").text(n)}function h(){var t=$("#chatframe"),i=t.data("url"),u=n.lib.Breakpoint.isCurrentBreakpointLargerThanPhone();u&&(i+="?bigUi=true");t.html('<iframe id="chatiframe" src="'+i+'">');$("[data-startchatonclick]").addClass("hide");$("#chatwaitcontent").show();$("#chatstuff").show();w();r=!1;o=!1;setTimeout(b,2e4)}function w(){$.cookie(e,"1",{path:"/",expires:.013888,secure:!0,domain:l()})}function b(){r||f().is(":visible")||$("#chaterrormessage").show()}function k(){f().show();$("#chatwaitcontent").hide();$("#chaterrormessage").hide();r=!0}function c(){var n=f();n.html("");n.hide();$("#chatstuff").hide();$("#chaterrormessage").hide();o=!0;$("[data-startchatonclick]").removeClass("hide")}function l(){var n=window.location.hostname.split(".").reverse();return n[1]+"."+n[0]}var e="hasChat",s,r=!1,o=!1;t.CleanupChat=u;t.SetupChat=a})(i=t.Chat||(t.Chat={}))})(t=n.infra||(n.infra={}))}(skbn||(skbn={}));Globalize.culture("no");jQuery.validator.methods.date=function(n,t){return this.optional(t)||Globalize.parseDate(n)};$.validator.methods.number=function(n,t){return this.optional(t)||n.isNumber()};$.datepicker.regional.no={closeText:"Lukk",prevText:"&laquo;Forrige",nextText:"Neste&raquo;",currentText:"I dag",monthNames:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],dayNamesShort:["Sn","Man","Tir","Ons","Tor","Fre","Lr"],dayNames:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"],dayNamesMin:["S","Ma","Ti","On","To","Fr","L"],weekHeader:"Uke",dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1,yearSuffix:""};$.datepicker.setDefaults($.datepicker.regional.no);jQuery.extend(jQuery.validator.messages,{maxlength:jQuery.validator.format("Du kan ikke bruke mer enn {0} tegn")}),function(n){var t;(function(n){var t;(function(n){var t=function(){function n(){if(n.instance)throw new Error("Error: Instantiation failed: Use GoogleAnalyticsWrapper.getInstance() instead of new.");this.cmsInfoNode=$("#cmsinfo");this.setupTracker();this.setupUserId();this.setupCustomDimensions()}return n.getInstance=function(){return n.instance||(n.instance=new n),n.instance},n.prototype.trackPageView=function(n,t,i,r){n=this.getSanitisedPath(n);t!==undefined&&t!==null&&(t.indexOf("Minsparing")===0?ga("set","dimension2","Minsparing"):t.indexOf("Minibank")===0?ga("set","dimension2","Minibank"):ga("set","dimension2","Mobilapp"));ga("set","hostname",i);ga("set","page",n);r!==null&&r!==undefined&&ga("set","title",r);ga("send","pageview")},n.prototype.trackVirtualPageView=function(n){ga("set","page",this.getSanitisedPath(n));ga("send","pageview")},n.prototype.trackIframePageView=function(n,t,i,r){this.trackPageView(n,t,i,r)},n.prototype.trackEvent=function(n,t,i,r){ga("send","event",n,t,i,r,{nonInteraction:1})},n.prototype.trackExperiment=function(n,t){ga("set","expId",n);ga("set","expVar",t);ga("send","event","AbExperiment","startExperiment",t)},n.prototype.addBannerLocation=function(n,t,i,r){ga("ec:addPromo",{id:n,name:t,creative:i,position:r})},n.prototype.trackBannerClick=function(n,t,i){ga("ec:setAction","promo_click");ga("send","event","ecommerce","internal promo click",n,{nonInteraction:1,page:this.getSanitisedPath(i),title:t})},n.prototype.setupTracker=function(){var t=this.cmsInfoNode.data("environment")||$("body").data("environment"),i=n.gaIds[t]||n.gaIds.PROD;ga("create",i,"auto");ga("require","ec");ga("set","forceSSL",!0);ga("set","anonymizeIp",!0)},n.prototype.getSanitisedPath=function(n){return n.toLowerCase().replace(/\/$/,"")},n.prototype.setupUserId=function(){var n=this.cmsInfoNode.data("analytics-id");n&&(ga("set","userId",n),ga("set","dimension36",n))},n.prototype.setupCustomDimensions=function(){ga("set","dimension1",this.cmsInfoNode.data("node"));this.setDimensionIfDefined(this.cmsInfoNode,"dimension14");this.setDimensionIfDefined(this.cmsInfoNode,"dimension37");this.setDimensionIfDefined(this.cmsInfoNode,"dimension38");this.setDimensionIfDefined(this.cmsInfoNode,"dimension39");this.setDimensionIfDefined(this.cmsInfoNode,"dimension40");var n=this.cmsInfoNode.data("showauth")==="yes"||$("body").data("showauth")==="yes";n?(ga("set","dimension11","true"),ga("set","dimension12","true")):(ga("set","dimension11","false"),ga("set","dimension12",undefined))},n.prototype.setDimensionIfDefined=function(n,t){var i=n.data(t);i!==null&&i!==undefined&&i!==""&&ga("set",t,i)},n.gaIds={PROD:"UA-64278209-1",TEST:"UA-64278209-2",DEV:"UA-64278209-3"},n}();n.GoogleAnalyticsWrapper=t})(t=n.WebStatistics||(n.WebStatistics={}))})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t;(function(n){function r(n){t.trackIframePageView(n)}function u(n,i){t.triggerVirtualPageView(n,i)}function f(n,i,r,u){r===void 0&&(r="");u===void 0&&(u=0);t.trackEvent(n,i,r,u)}function e(n,i){t.trackExperiment(n,i)}function o(n,i,r,u){r===void 0&&(r="");u===void 0&&(u="");t.addBannerLocation(n,i,r,u)}function s(n,i,r){t.trackBannerClick(n,i,r)}var i=function(){function t(){this.analytics=n.GoogleAnalyticsWrapper.getInstance()}return t.prototype.init=function(){this.isWrapPage()||this.trackPageView()},t.prototype.trackIframePageView=function(n){this.analytics.trackIframePageView(n,this.getAppCookie(),this.getHostName())},t.prototype.triggerVirtualPageView=function(n){this.analytics.trackVirtualPageView(n)},t.prototype.trackExperiment=function(n,t){this.analytics.trackExperiment(n,t)},t.prototype.trackEvent=function(n,t,i,r){i===void 0&&(i="");r===void 0&&(r=0);this.analytics.trackEvent(n,t,i,r)},t.prototype.addBannerLocation=function(n,t,i,r){i===void 0&&(i="");r===void 0&&(r="");this.analytics.addBannerLocation(n,t,i,r)},t.prototype.trackBannerClick=function(n,t,i){this.analytics.trackBannerClick(n,t,i)},t.prototype.trackPageView=function(){this.analytics.trackPageView(this.getPathName()+this.getQueryString(),this.getAppCookie(),this.getHostName())},t.prototype.isWrapPage=function(){return this.getPathName().toLowerCase().indexOf("/home/wrap")>-1},t.prototype.getPathName=function(){return window.location.pathname},t.prototype.getHostName=function(){return window.location.hostname},t.prototype.getAppCookie=function(){return $.cookie("SkbAppTrc")},t.prototype.getQueryString=function(){return window.location.search},t}(),t;n.Tracker=i;t=new i;t.init();n.trackIframePageView=r;n.triggerVirtualPageView=u;n.trackEvent=f;n.trackExperiment=e;n.addBannerLocation=o;n.trackBannerClick=s})(t=n.WebStatistics||(n.WebStatistics={}))})(t=n.plugins||(n.plugins={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t;(function(n){function t(){var n=$("#accessibility-menu");n.on("focus",function(){$("a[tabindex=-1]:not([data-EnableFullKeyboardNavigation='false'])").removeAttr("tabindex")})}n.attach=t})(t=n.EnableFullKeyboardNavigation||(n.EnableFullKeyboardNavigation={}))})(t=n.infra||(n.infra={}))}(skbn||(skbn={}));skbn.infra.EnableFullKeyboardNavigation.attach(),function(){var n=window.innerWidth;n>0&&$.cookie("screenWidth",n,{path:"/",secure:!0})}(),function(){setTimeout(function(){window.location.pathname.toLowerCase().indexOf("/authentication")!==0&&window.location.pathname.toLowerCase().indexOf("/home/pfm")!==0&&window.location.pathname.toLowerCase().indexOf("/personal/newcustomer/passport")!==0&&window.location.pathname.toLowerCase().indexOf("/foreignpayment/currencylist/frame")!==0&&$("#sessionTimeoutWarning").removeClass("hide")},102e4)}(),function(n){var t;(function(n){var t;(function(n){function i(){u()&&r()}function r(){var i=Math.random().toString(36).substring(2),n=$("<img />");n.attr("src",t()+"/Authentication/KeepAlive/EpiCheckAuth?h="+i);n.on("load",f)}function t(){var n=$("body").data("bank-url");return n===undefined&&(n=""),n}function u(){return $("body").data("authenticated-menu")===!0}function f(){window.addEventListener("message",function(n){var t,i;try{t=JSON.parse(n.data);t.NumMessages>0&&($("#profilemenulink").addClass("header__profile-menu--message"),$("#profilemenulink").attr("data-messages",t.NumMessages),$("#profilemenu-newmessages").text("Du har "+t.NumMessages+" nye beskjeder "),$("#profile_menu_from_from_nettbank").show(),$("#profilemenu-messages").show(),i=$("#templateprofileitem"),t.Notifications.forEach(function(n){var t=i.clone();t.removeAttr("id");t.children("a").text(n.ShortDescription);t.children("a").attr("href",n.ActionUrl);t.show();$("#profile_menu_from_from_nettbank").append(t)}))}catch(n){}},!1);$("body").append('<iframe class="hide" src="'+t()+'/Home/Notifications/"><\/iframe>')}n.fetchAndShow=i})(t=n.ShowNotifications||(n.ShowNotifications={}))})(t=n.Notifications||(n.Notifications={}))}(infrastructure||(infrastructure={}));infrastructure.Notifications.ShowNotifications.fetchAndShow(),function(){function n(){var n=window.location.hostname.split(".").reverse();return n[1]+"."+n[0]}setTimeout(function(){["newbank_info","newbank_info2","cookies_notification"].forEach(function(t){$.removeCookie(t,{path:"/",secure:!0,domain:n()});$.removeCookie(t,{path:"/",secure:!1,domain:n()})})},2e3)}(),function(n){var t;(function(t){var i;(function(t){function o(){var t,n,i;for(h(),t=f(),n=0;n<t.length;n++)i=$.trim(t[n]),e(i);u.resolve()}function s(){for(var t=f(),i,n=0;n<t.length;n++)i=$.trim(t[n]),e(i)}function h(){i=[];r=[]}function f(){var n=c();return n!==undefined?n.split(","):(i.push("data-skbn-jsplugins is undefined"),[])}function c(){var t=$("[data-skbn-jsplugins]"),n;return t.length===0?undefined:(n="",t.each(function(){n+=$(this).data("skbn-jsplugins")+","}),n=n.trimEnd(","))}function e(n){var f=l(n),e,o,u;if(typeof f=="function"){if(e=new f,a(e,n))try{jQuery.inArray(n,r)===-1&&(e.attachPlugin(),r.push(n))}catch(t){o="Error attaching plugin: skbn.plugins."+n;console.error(o+": ",t.stack);u="Error: "+t.message;t.fileName&&t.lineNumber&&(u=u+" occured on"+t.fileName+":"+t.lineNumber);i.push(o+" "+u)}}else f===undefined?i.push("Unknown plugin: skbn.plugins."+n):i.push("Invalid plugin: skbn.plugins."+n+" no constructor function")}function l(t){for(var u=v(t),r=n.plugins,i=0;i<u.length;i++)if(r[u[i]]!==undefined)r=r[u[i]];else return undefined;return r}function a(n,t){return typeof n.attachPlugin=="function"?!0:(i.push("Invalid plugin: skbn.plugins."+t+" has no attachPlugin method"),!1)}function v(n){return n.split(".")}function y(){return i}function p(){return r}function w(){for(var t=[],n=0;n<arguments.length;n++)t[+n]=arguments[n];u.done(t)}var i=[],r=[],u=$.Deferred();t.attachPlugins=o;t.attachCmsPlugins=s;t.getErrors=y;t.getattachedPlugins=p;t.addOnPluginsAttachedCallback=w})(i=t.PluginAttacher||(t.PluginAttacher={}))})(t=n.infra||(n.infra={}))}(skbn||(skbn={})),function(n){var t;(function(n){var t;(function(n){function t(){var n=$.ui.autocomplete.prototype._renderItem;$.ui.autocomplete.prototype._renderItem=function(t,i){var r=this.menu.element;return r.addClass("searchbox__autocomplete"),n(t,i)}}n.applyStylingPatch=t})(t=n.AutocompleteStyling||(n.AutocompleteStyling={}))})(t=n.infra||(n.infra={}))}(skbn||(skbn={}));skbn.infra.AutocompleteStyling.applyStylingPatch();skbn.infra.PluginAttacher.attachPlugins();$(function(){var t=100,n=0;$(document).scrollTop()>t?$("#toTheTop").show():$("#toTheTop").hide();setInterval(function(){var i=$(document).scrollTop(),r;i!==n&&(r=$("#toTheTop"),i<n&&i>t&&!r.is(":visible")?r.fadeIn():i>n&&r.is(":visible")&&r.fadeOut());n=i},500);$("a[href='#body']").click(function(){return $("html, body").animate({scrollTop:0},"slow"),!1})});setTimeout(function(){var n=this,t=$("[data-area-name]");t.each(function(t,i){var r=$(i).data("area-name"),u=$(i).find("[data-gacid]");u.each(function(i,u){var f=$(n).data("gacid"),e=$(n).data("gacn"),o=$(n).data("gact"),s=r+"_"+t,h=$(u).find("a");h.each(function(n,t){$(t).on("click",function(){skbn.plugins.WebStatistics.trackBannerClick(f,document.title,document.location.pathname+document.location.search)})});skbn.plugins.WebStatistics.addBannerLocation(f,e,o,s)})})},1)